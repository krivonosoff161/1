# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –°–ò–°–¢–ï–ú–´ –°–í–ï–ß–ï–ô –í–°–ï–• –¢–ê–ô–ú–§–†–ï–ô–ú–û–í

**–î–∞—Ç–∞:** 26.11.2025 22:35  
**–°—Ç–∞—Ç—É—Å:** –í –ø—Ä–æ—Ü–µ—Å—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

## üéØ –¶–ï–õ–¨

–ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–≤–µ—á–µ–π –¥–ª—è –≤—Å–µ—Ö —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤ (1m, 5m, 1H, 1D), —á—Ç–æ–±—ã –≤—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ DataRegistry –≤–º–µ—Å—Ç–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API.

---

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

### **1. –†–∞—Å—à–∏—Ä–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ —Å–≤–µ—á–µ–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ** ‚úÖ

**–§–∞–π–ª:** `src/strategies/scalping/futures/orchestrator.py`  
**–ú–µ—Ç–æ–¥:** `_initialize_candle_buffers()`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –¢–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤—Å–µ –Ω—É–∂–Ω—ã–µ —Ç–∞–π–º—Ñ—Ä–µ–π–º—ã:
  - **1m:** 200 —Å–≤–µ—á–µ–π (–æ—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã)
  - **5m:** 200 —Å–≤–µ—á–µ–π (Multi-Timeframe –∏ Correlation)
  - **1H:** 100 —Å–≤–µ—á–µ–π (Volume Profile)
  - **1D:** 10 —Å–≤–µ—á–µ–π (Pivot Points)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í—Å–µ —Å–≤–µ—á–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –±–æ—Ç–∞
- –•—Ä–∞–Ω—è—Ç—Å—è –≤ `DataRegistry.CandleBuffer`
- –ì–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤—Å–µ–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏

---

### **2. –†–∞—Å—à–∏—Ä–µ–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–≤–µ—á–µ–π —á–µ—Ä–µ–∑ WebSocket** ‚úÖ

**–§–∞–π–ª:** `src/strategies/scalping/futures/coordinators/websocket_coordinator.py`  
**–ú–µ—Ç–æ–¥:** `_update_candle_from_ticker()`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –¢–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤—Å–µ —Ç–∞–π–º—Ñ—Ä–µ–π–º—ã (1m, 5m, 1H, 1D)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_update_candle_for_timeframe()` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–∂–¥–æ–≥–æ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–π —Å–≤–µ—á–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞:
  - 1m: –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
  - 5m: –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
  - 1H: –∫–∞–∂–¥—ã–π —á–∞—Å
  - 1D: –∫–∞–∂–¥—ã–π –¥–µ–Ω—å

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í—Å–µ —Å–≤–µ—á–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ WebSocket
- –î–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –≤—Å–µ—Ö —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤
- –ù–µ—Ç –∑–∞–¥–µ—Ä–∂–µ–∫ –∏ –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏

---

### **3. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω Multi-Timeframe Filter** ‚úÖ

**–§–∞–π–ª—ã:**
- `src/strategies/modules/multi_timeframe.py`
- `src/strategies/scalping/futures/signal_generator.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `data_registry` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `MultiTimeframeFilter`
- ‚úÖ –ú–µ—Ç–æ–¥ `_get_htf_candles()` —Ç–µ–ø–µ—Ä—å —Å–Ω–∞—á–∞–ª–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å —Å–≤–µ—á–∏ –∏–∑ DataRegistry
- ‚úÖ Fallback –∫ API —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ DataRegistry –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–≤–µ—á–µ–π
- ‚úÖ DataRegistry –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ SignalGenerator

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- Multi-Timeframe Filter –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–≤–µ—á–∏ –∏–∑ DataRegistry
- –ù–µ—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API –∫–∞–∂–¥—ã–π —Ä–∞–∑
- –î–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å –æ—Å—Ç–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π

---

## üöß –í –ü–†–û–¶–ï–°–°–ï

### **4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤** üöß

**–û—Å—Ç–∞–ª–æ—Å—å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å:**

1. **Volume Profile Filter** (1H —Å–≤–µ—á–∏)
   - –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `data_registry` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
   - –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤–µ—á–µ–π –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è DataRegistry
   - –ü–µ—Ä–µ–¥–∞—Ç—å DataRegistry –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ SignalGenerator

2. **Pivot Points Filter** (1D —Å–≤–µ—á–∏)
   - –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `data_registry` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
   - –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤–µ—á–µ–π –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è DataRegistry
   - –ü–µ—Ä–µ–¥–∞—Ç—å DataRegistry –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ SignalGenerator

3. **Correlation Filter** (5m —Å–≤–µ—á–∏)
   - –û–±–Ω–æ–≤–∏—Ç—å CorrelationManager –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è DataRegistry
   - –ü–µ—Ä–µ–¥–∞—Ç—å DataRegistry —á–µ—Ä–µ–∑ CorrelationFilter –≤ CorrelationManager

---

## üìã –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô

### **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**

1. ‚úÖ –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ —Ç–∞–π–º—Ñ—Ä–µ–π–º—ã –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ - **–ì–û–¢–û–í–û**
2. ‚úÖ –û–±–Ω–æ–≤–ª—è—Ç—å –≤—Å–µ —Ç–∞–π–º—Ñ—Ä–µ–π–º—ã —á–µ—Ä–µ–∑ WebSocket - **–ì–û–¢–û–í–û**
3. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å MTF Filter - **–ì–û–¢–û–í–û**
4. üöß –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Volume Profile Filter - **–í –ü–†–û–¶–ï–°–°–ï**
5. üöß –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Pivot Points Filter - **–í –ü–†–û–¶–ï–°–°–ï**
6. üöß –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Correlation Filter - **–í –ü–†–û–¶–ï–°–°–ï**

---

## üîç –¢–ï–ö–£–©–ê–Ø –°–ò–¢–£–ê–¶–ò–Ø

### **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

- ‚úÖ 1m —Å–≤–µ—á–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ 5m, 1H, 1D —Å–≤–µ—á–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- ‚úÖ 5m, 1H, 1D —Å–≤–µ—á–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ WebSocket
- ‚úÖ Multi-Timeframe Filter –∏—Å–ø–æ–ª—å–∑—É–µ—Ç DataRegistry

### **–ß—Ç–æ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ:**

- üöß Volume Profile Filter - –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å DataRegistry
- üöß Pivot Points Filter - –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å DataRegistry
- üöß Correlation Filter - –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å DataRegistry —á–µ—Ä–µ–∑ CorrelationManager

---

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π:

1. ‚úÖ –í—Å–µ —Ç–∞–π–º—Ñ—Ä–µ–π–º—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
2. ‚úÖ –í—Å–µ —Ç–∞–π–º—Ñ—Ä–µ–π–º—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ WebSocket
3. ‚úÖ –í—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ DataRegistry
4. ‚úÖ –ù–µ—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API –∫–∞–∂–¥—ã–π —Ä–∞–∑
5. ‚úÖ –î–∞–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã –º–µ–∂–¥—É –≤—Å–µ–º–∏ –º–æ–¥—É–ª—è–º–∏
6. ‚úÖ –ë–æ—Ç –≤–∏–¥–∏—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π "—Ä–∏—Å—É–Ω–æ–∫" –≤–æ –≤—Å–µ—Ö —Ä–µ–∂–∏–º–∞—Ö

---

**–°—Ç–∞—Ç—É—Å:** –í –ø—Ä–æ—Ü–µ—Å—Å–µ, –æ—Å–Ω–æ–≤–Ω–∞—è —á–∞—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ ‚úÖ

