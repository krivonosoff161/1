# ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤

**–î–∞—Ç–∞:** 2026-01-05  
**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∫–∏–µ —Ç–µ—Å—Ç—ã —É–∂–µ —Ä–∞–±–æ—Ç–∞—é—Ç –ë–ï–ó –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## ‚úÖ Unit —Ç–µ—Å—Ç—ã (–†–ê–ë–û–¢–ê–Æ–¢):

### 1. test_indicator_manager_atr.py (3 —Ç–µ—Å—Ç–∞) ‚úÖ
- ‚úÖ ATR —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ TALibATR –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–µ–Ω–∏ –∫–ª–∞—Å—Å–∞

**–ó–∞–ø—É—Å–∫:**
```bash
pytest tests/unit/test_indicator_manager_atr.py -v
```

### 2. test_atr_provider.py (8 —Ç–µ—Å—Ç–æ–≤) ‚úÖ
- ‚úÖ ATR –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç None –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω
- ‚úÖ ATR –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç None –µ—Å–ª–∏ —Ä–∞–≤–µ–Ω 0.0
- ‚úÖ ATR –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∫—ç—à–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ ATR=0.0 –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ DataRegistry

**–ó–∞–ø—É—Å–∫:**
```bash
pytest tests/unit/test_atr_provider.py -v
```

### 3. test_regime_dataregistry.py (4 —Ç–µ—Å—Ç–∞) ‚úÖ
- ‚úÖ update_regime() —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∂–∏–º –≤ DataRegistry
- ‚úÖ detect_regime() –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç
- ‚úÖ –†–µ–∂–∏–º —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ –æ—Ç–¥–µ–ª—å–Ω–æ

**–ó–∞–ø—É—Å–∫:**
```bash
pytest tests/unit/test_regime_dataregistry.py -v
```

### 4. test_leverage_timeout.py (3 —Ç–µ—Å—Ç–∞) ‚úÖ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ timeout (50004) —Å retry
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ rate limit (429)
- ‚úÖ –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–ø—ã—Ç–æ–∫

**–ó–∞–ø—É—Å–∫:**
```bash
pytest tests/unit/test_leverage_timeout.py -v
```

### 5. test_signal_generator_indicators.py (2 —Ç–µ—Å—Ç–∞) ‚úÖ
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ market_data.indicators
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ—Å–ª–µ —Ä–∞—Å—á–µ—Ç–∞

**–ó–∞–ø—É—Å–∫:**
```bash
pytest tests/unit/test_signal_generator_indicators.py -v
```

---

## üöÄ –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö unit —Ç–µ—Å—Ç–æ–≤:

```bash
pytest tests/unit/test_atr_provider.py tests/unit/test_regime_dataregistry.py tests/unit/test_leverage_timeout.py tests/unit/test_signal_generator_indicators.py tests/unit/test_indicator_manager_atr.py -v
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 20/20 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç ‚úÖ

---

## ‚ö†Ô∏è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (—Ç—Ä–µ–±—É—é—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏):

### test_position_size_real_sandbox.py
- –¢—Ä–µ–±—É–µ—Ç: API –∫–ª—é—á–∏ –¥–ª—è sandbox
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç: –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ñ–∏–≥ –±–æ—Ç–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

---

## üìä –ò—Ç–æ–≥:

**Unit —Ç–µ—Å—Ç—ã:** ‚úÖ 20/20 —Ä–∞–±–æ—Ç–∞—é—Ç  
**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:** ‚ö†Ô∏è –¢—Ä–µ–±—É—é—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ë–ï–ó –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- ‚úÖ –í—Å–µ unit —Ç–µ—Å—Ç—ã (20 —Ç–µ—Å—Ç–æ–≤)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ ATR —Ä–∞—Å—á–µ—Ç–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∂–∏–º–æ–≤
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ timeout –æ–±—Ä–∞–±–æ—Ç–∫–∏
