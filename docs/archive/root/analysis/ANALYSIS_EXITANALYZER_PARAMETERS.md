# –ê–ù–ê–õ–ò–ó: –ü–ê–†–ê–ú–ï–¢–†–´ –ò –§–ò–õ–¨–¢–†–´ –í EXITANALYZER

**–î–∞—Ç–∞:** 2025-12-18  
**–°—Ç–∞—Ç—É—Å:** üîç –ê–ù–ê–õ–ò–ó

---

## ü§î –í–û–ü–†–û–° –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø

**–†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –∞–Ω–∞–ª–∏–∑ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π –±–µ–∑ –æ—à–∏–±–æ–∫ –ø–æ –≤—Å–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º –∏ —Ñ–∏–ª—å—Ç—Ä–∞–º?**

---

## üìä –ü–†–û–í–ï–†–ö–ê –ü–ê–†–ê–ú–ï–¢–†–û–í –ò–ó –ö–û–ù–§–ò–ì–ê

### ‚úÖ –ü–ê–†–ê–ú–ï–¢–†–´ –° FALLBACK –ó–ù–ê–ß–ï–ù–ò–Ø–ú–ò:

1. **`_get_tp_percent()`** ‚úÖ
   - Fallback: `2.4%`
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç: `symbol_profiles[symbol][regime]["tp_percent"]` ‚Üí `by_regime[regime]["tp_percent"]` ‚Üí –≥–ª–æ–±–∞–ª—å–Ω—ã–π `tp_percent`
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: `try/except` —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

2. **`_get_sl_percent()`** ‚úÖ
   - Fallback: `2.0%`
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç: `symbol_profiles[symbol][regime]["sl_percent"]` ‚Üí `by_regime[regime]["sl_percent"]` ‚Üí –≥–ª–æ–±–∞–ª—å–Ω—ã–π `sl_percent`
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: `try/except` —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

3. **`_get_max_holding_minutes()`** ‚úÖ
   - Fallback: `120.0` –º–∏–Ω—É—Ç
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç: `adaptive_regime[regime]["max_holding_minutes"]` ‚Üí `adaptive_regime["ranging"]["max_holding_minutes"]`
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: `try/except` —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

4. **`_get_partial_tp_params()`** ‚úÖ
   - Fallback: `{enabled: False, fraction: 0.6, trigger_percent: 0.4}`
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç: `partial_tp` ‚Üí `partial_tp["by_regime"][regime]`
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: `try/except` —Å fallback –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

5. **`_get_big_profit_exit_percent()`** ‚úÖ
   - Fallback: `1.5%` –¥–ª—è majors, `2.0%` –¥–ª—è alts
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç: `big_profit_exit_percent_majors` / `big_profit_exit_percent_alts`
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: –í—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ (fallback –≤—Å—Ç—Ä–æ–µ–Ω)

---

## üîç –ü–†–û–í–ï–†–ö–ê –§–ò–õ–¨–¢–†–û–í –ò –ú–û–î–£–õ–ï–ô

### ‚ö†Ô∏è –ù–£–ñ–ù–û –ü–†–û–í–ï–†–ò–¢–¨:

1. **MTF Filter** ‚ö†Ô∏è
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: `self.mtf_filter = signal_generator.mtf_filter` –∏–ª–∏ `signal_generator.filter_manager.mtf_filter`
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ `None` –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

2. **ADX (FastADX)** ‚ö†Ô∏è
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: `self.fast_adx = orchestrator.fast_adx`
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ `None` –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

3. **Order Flow** ‚ö†Ô∏è
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: `self.order_flow = orchestrator.order_flow`
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ `None` –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

4. **CandlePatternDetector** ‚úÖ
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: `try/except` —Å fallback –Ω–∞ `None`
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ `None` –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

5. **VolumeProfileCalculator** ‚úÖ
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: `try/except` —Å fallback –Ω–∞ `None`
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ `None` –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

6. **LiquidityLevelsDetector** ‚úÖ
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: `try/except` —Å fallback –Ω–∞ `None`
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ `None` –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

---

## üîç –ü–†–û–í–ï–†–ö–ê –î–ê–ù–ù–´–•

### ‚úÖ –ü–†–û–í–ï–†–ö–ò –ù–ê None/0:

1. **`current_price`** ‚úÖ
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: `if current_price is None:` ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `None`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: `if current_price <= 0:` ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `None`
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

2. **`entry_price`** ‚ö†Ô∏è
   - –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å: –ï—Å—Ç—å –ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ `None`/`0` –≤ –º–µ—Ç–æ–¥–∞—Ö –∞–Ω–∞–ª–∏–∑–∞

3. **`position` / `metadata`** ‚ö†Ô∏è
   - –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å: –ï—Å—Ç—å –ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ `None` –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

4. **`market_data`** ‚ö†Ô∏è
   - –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å: –ï—Å—Ç—å –ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ `None` –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

5. **`time_in_position`** ‚úÖ
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: `if time_since_open < 0:` ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `None`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: `if time_since_open > 86400 * 7:` ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `None`
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

---

## üìã –ß–¢–û –ù–£–ñ–ù–û –ü–†–û–í–ï–†–ò–¢–¨

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
- MTF Filter - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ª–∏ –Ω–∞ `None`?
- ADX - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ª–∏ –Ω–∞ `None`?
- Order Flow - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ª–∏ –Ω–∞ `None`?

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
- `entry_price` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ª–∏ –Ω–∞ `None`/`0`?
- `position` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ª–∏ –Ω–∞ `None`?
- `metadata` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ª–∏ –Ω–∞ `None`?
- `market_data` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ª–∏ –Ω–∞ `None`?

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –í—Å–µ –ª–∏ –º–µ—Ç–æ–¥—ã –æ–±–µ—Ä–Ω—É—Ç—ã –≤ `try/except`?
- –õ–æ–≥–∏—Ä—É—é—Ç—Å—è –ª–∏ –æ—à–∏–±–∫–∏?
- –í–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –ª–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö?

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ç–æ–¥—ã `_generate_exit_for_*` –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏ –¥–∞–Ω–Ω—ã—Ö.
