# ‚ùå –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ Futures

## üö® –ü—Ä–æ–±–ª–µ–º–∞

–í Futures –±–æ—Ç–µ **–û–¢–°–£–¢–°–¢–í–£–ï–¢**:
1. ‚ùå **Adaptive Regime Manager (ARM)** - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ä–µ–∂–∏–º —Ä—ã–Ω–∫–∞
2. ‚ùå **Balance Profiles** - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ä–∞–∑–º–µ—Ä –±–∞–ª–∞–Ω—Å–∞
3. ‚ùå **Adaptive Minimums** - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∏–Ω–∏–º—É–º—ã –æ—Ä–¥–µ—Ä–æ–≤

–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç **—Å—Ç–∞—Ç–∏—á–Ω–æ**:
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∏—Å–∫: 1% –æ—Ç –±–∞–ª–∞–Ω—Å–∞
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π TP: 0.3%
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π SL: 0.2%
- –ë–µ–∑ —É—á–µ—Ç–∞ —Ä–µ–∂–∏–º–∞ —Ä—ã–Ω–∫–∞ (—Ç—Ä–µ–Ω–¥/—Ñ–ª—ç—Ç/—á–∞–ø–∏)
- –ë–µ–∑ —É—á–µ—Ç–∞ —Ä–∞–∑–º–µ—Ä–∞ –±–∞–ª–∞–Ω—Å–∞

---

## ‚úÖ –ß—Ç–æ –ï–°–¢–¨ –≤ Spot (–¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è)

### 1. **Adaptive Regime Manager (ARM)**
```python
# –í Spot
self.arm = AdaptiveRegimeManager(regime_config)
self.arm.detect_regime()  # –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç: trending/ranging/choppy

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ê–î–ê–ü–¢–ò–†–£–Æ–¢–°–Ø:
- TP multiplier: 1.2 (trending) / 1.0 (ranging) / 1.1 (choppy)
- SL multiplier: 0.9 / 1.0 / 1.0
- Score threshold: 5 / 4 / 5
- Max trades: 20 / 15 / 12
```

### 2. **Balance Profiles**
```python
# –í Spot
balance_profiles:
  small:
    threshold: 1000.0
    base_position_usd: 55.0
    min_position_usd: 25.0
    max_position_usd: 100.0
  medium:
    threshold: 3000.0
    base_position_usd: 200.0
    ...
```

### 3. **Adaptive Minimums**
```python
# –í Spot
adaptive_minimums:
  small:
    balance_threshold: 1500.0
    min_position_usd: 10.0
  medium:
    balance_threshold: 3000.0
    min_position_usd: 30.0
```

---

## üîç –ß—Ç–æ –ù–ï–¢ –≤ Futures

### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:

```python
# –í orchestrator.py
def _calculate_position_size(self, balance: float, price: float, signal: dict):
    # ‚ö†Ô∏è –°–¢–ê–¢–ò–ß–ù–´–ô —Ä–∞—Å—á–µ—Ç:
    risk_percent = self.risk_config.risk_per_trade_percent / 100  # 1%
    usd_size = balance * risk_percent
    
    # –ë–µ–∑ —É—á–µ—Ç–∞:
    # - –†–µ–∂–∏–º–∞ —Ä—ã–Ω–∫–∞ (trending/ranging/choppy)
    # - –†–∞–∑–º–µ—Ä–∞ –±–∞–ª–∞–Ω—Å–∞ (small/medium/large)
    # - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö –º–∏–Ω–∏–º—É–º–æ–≤
```

### –°–∏–≥–Ω–∞–ª—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ë–ï–ó ARM:

```python
# –í signal_generator.py
self.regime_manager = None  # Stub ‚ùå
self.correlation_filter = None  # Stub ‚ùå
self.mtf_filter = None  # Stub ‚ùå
self.pivot_filter = None  # Stub ‚ùå
self.volume_filter = None  # Stub ‚ùå
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: Spot vs Futures

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | Spot | Futures |
|-----------|------|---------|
| **ARM** | ‚úÖ –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–µ–∂–∏–º | ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω |
| **Balance Profiles** | ‚úÖ 3 –ø—Ä–æ—Ñ–∏–ª—è | ‚ùå –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π |
| **Adaptive Min.** | ‚úÖ –ü–æ –±–∞–ª–∞–Ω—Å—É | ‚ùå –°—Ç–∞—Ç–∏—á–Ω—ã–π 0.001 |
| **MTF Filter** | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω | ‚ùå Stub |
| **Correlation** | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω | ‚ùå Stub |
| **Pivot Points** | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω | ‚ùå Stub |
| **Volume Profile** | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω | ‚ùå Stub |

---

## üéØ –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ Futures

### 1. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å ARM
```python
# –í signal_generator.py
from src.strategies.modules.adaptive_regime_manager import AdaptiveRegimeManager

self.regime_manager = AdaptiveRegimeManager(config)

# –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–¥ —Ä–µ–∂–∏–º —Ä—ã–Ω–∫–∞
if self.regime_manager.get_current_regime() == "trending":
    tp_percent = 0.5  # –ë–æ–ª—å—à–µ TP –≤ —Ç—Ä–µ–Ω–¥–µ
    sl_percent = 0.3
elif regime == "ranging":
    tp_percent = 0.3  # –ú–µ–Ω—å—à–µ TP –≤–æ —Ñ–ª—ç—Ç–µ
    sl_percent = 0.2
```

### 2. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Balance Profiles
```python
# –í orchestrator.py
def _calculate_position_size(self, balance: float, price: float, signal: dict):
    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø—Ä–æ—Ñ–∏–ª—å –±–∞–ª–∞–Ω—Å–∞
    if balance < 1500:
        profile = "small"
        base_position_usd = 50.0
    elif balance < 3000:
        profile = "medium"
        base_position_usd = 200.0
    else:
        profile = "large"
        base_position_usd = 500.0
    
    usd_size = base_position_usd * leverage_factor
    position_size = usd_size / price
```

### 3. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
```python
# –í signal_generator.py
self.mtf_filter = MultiTimeframeFilter()
self.correlation_filter = CorrelationFilter()
self.pivot_filter = PivotPointsFilter()
self.volume_filter = VolumeProfileFilter()
```

---

## ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è

### –ë–µ–∑ ARM:
- ‚ùå –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ç—Ä–µ–Ω–¥–∞ –∏ —Ñ–ª—ç—Ç–∞
- ‚ùå –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ TP/SL
- ‚ùå –ü—Ä–æ–ø—É—Å–∫ —Ö–æ—Ä–æ—à–∏—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ –≤–æ —Ñ–ª—ç—Ç–µ
- ‚ùå –õ–∏—à–Ω–∏–µ —Å–¥–µ–ª–∫–∏ –≤ —Ç—Ä–µ–Ω–¥–µ

### –ë–µ–∑ Balance Profiles:
- ‚ùå –û–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è –º–∞–ª—ã—Ö ($100) –∏ –±–æ–ª—å—à–∏—Ö ($5000) –±–∞–ª–∞–Ω—Å–æ–≤
- ‚ùå –ü–µ—Ä–µ—Ä–∏—Å–∫ –¥–ª—è –º–∞–ª—ã—Ö –±–∞–ª–∞–Ω—Å–æ–≤
- ‚ùå –ù–µ–¥–æ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ–ª—å—à–∏—Ö –±–∞–ª–∞–Ω—Å–æ–≤

### –ë–µ–∑ —Ñ–∏–ª—å—Ç—Ä–æ–≤:
- ‚ùå –ù–µ—Ç –º—É–ª—å—Ç–∏—Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤–æ–π –∫–æ–Ω—Ñ–∏—Ä–º–∞—Ü–∏–∏
- ‚ùå –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏
- ‚ùå –ù–µ—Ç —É—á—ë—Ç–∞ –ø–∏–≤–æ—Ç-—É—Ä–æ–≤–Ω–µ–π
- ‚ùå –ù–µ—Ç –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ—Ñ–∏–ª—è –æ–±—ä—ë–º–æ–≤

---

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–ù—É–∂–Ω–æ –ü–û–õ–ù–û–°–¢–¨–Æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—ã –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –∏–∑ Spot –≤ Futures!**

–≠—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è:
1. –ü—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∏—Å–∫–∞–º–∏
2. –ê–¥–∞–ø—Ç–∞—Ü–∏–∏ –ø–æ–¥ —Ä–µ–∂–∏–º —Ä—ã–Ω–∫–∞
3. –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞
4. –£–ª—É—á—à–µ–Ω–∏—è WinRate –∏ Profit Factor

---

## üìå –ò—Ç–æ–≥

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ Futures:**
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞
- ‚úÖ –ú–æ–¥—É–ª–∏ Phase 2 —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚ùå **–ù–ï–¢ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö —Å–∏—Å—Ç–µ–º**
- ‚ùå **–ù–ï–¢ —Ñ–∏–ª—å—Ç—Ä–æ–≤**
- ‚ö†Ô∏è **–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞—Ç–∏—á–Ω–æ, –∫–∞–∫ –ø—Ä–æ—Å—Ç–∞—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–æ–≤–∞—è –º–∞—à–∏–Ω–∞**

**–ù—É–∂–Ω–æ:**
1. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å ARM
2. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Balance Profiles
3. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã
4. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –º–∏–Ω–∏–º—É–º—ã

–ë–µ–∑ —ç—Ç–æ–≥–æ Futures –±–æ—Ç **—É—Å—Ç—É–ø–∞–µ—Ç Spot –≤ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–µ –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏!**


