# ‚úÖ –≠–¢–ê–ü 1.1 –ò 1.4: DataRegistry - –ó–ê–í–ï–†–®–ï–ù–û

**–î–∞—Ç–∞:** 25.11.2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ WebSocket –∏ Orchestrator –æ–±–Ω–æ–≤–ª—è—é—Ç DataRegistry

---

## ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

### –≠–¢–ê–ü 1.1: WebSocket –æ–±–Ω–æ–≤–ª—è–µ—Ç market data –≤ DataRegistry ‚úÖ

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `data_registry` –≤ `WebSocketCoordinator.__init__()`
- ‚úÖ –í –º–µ—Ç–æ–¥–µ `handle_ticker_data()` –¥–æ–±–∞–≤–ª–µ–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ DataRegistry
- ‚úÖ –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ç–∏–∫–µ—Ä–∞ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è:
  - `price` / `last_price`
  - `volume` / `volume_ccy` (24h)
  - `high_24h` / `low_24h` / `open_24h`
  - –ü–æ–ª–Ω—ã–π –æ–±—ä–µ–∫—Ç `ticker`
  - `updated_at` (timestamp)

**–§–∞–π–ª—ã:**
- `src/strategies/scalping/futures/coordinators/websocket_coordinator.py`
- `src/strategies/scalping/futures/orchestrator.py` (–ø–µ—Ä–µ–¥–∞—á–∞ data_registry)

---

### –≠–¢–ê–ü 1.4: Orchestrator –æ–±–Ω–æ–≤–ª—è–µ—Ç –±–∞–ª–∞–Ω—Å –∏ –º–∞—Ä–∂—É –≤ DataRegistry ‚úÖ

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –í –º–µ—Ç–æ–¥–µ `_initialize_client()` –¥–æ–±–∞–≤–ª–µ–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
- ‚úÖ –í –º–µ—Ç–æ–¥–µ `_sync_positions_with_exchange()` –¥–æ–±–∞–≤–ª–µ–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
- ‚úÖ –í –º–µ—Ç–æ–¥–µ `_sync_positions_with_exchange()` –¥–æ–±–∞–≤–ª–µ–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞—Ä–∂–∏
- ‚úÖ –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –º–∞—Ä–∂–∏ —Ç–∞–∫–∂–µ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è:
  - `used` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–∞—è –º–∞—Ä–∂–∞
  - `available` - –¥–æ—Å—Ç—É–ø–Ω–∞—è –º–∞—Ä–∂–∞ (–±–∞–ª–∞–Ω—Å - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–∞—è)
  - `total` - –æ–±—â–∞—è –º–∞—Ä–∂–∞ (—Ä–∞–≤–Ω–∞ –±–∞–ª–∞–Ω—Å—É)

**–§–∞–π–ª—ã:**
- `src/strategies/scalping/futures/orchestrator.py`

---

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢

–¢–µ–ø–µ—Ä—å **WebSocket** –∏ **Orchestrator** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç **DataRegistry**:

1. ‚úÖ –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ç–∏–∫–µ—Ä–∞ ‚Üí –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è market data
2. ‚úÖ –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –±–∞–ª–∞–Ω—Å
3. ‚úÖ –ü—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ–∑–∏—Ü–∏–π ‚Üí –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –±–∞–ª–∞–Ω—Å –∏ –º–∞—Ä–∂–∞

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
- –≠–¢–ê–ü 1.2: SignalGenerator —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
- –≠–¢–ê–ü 1.3: RegimeManager –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ä–µ–∂–∏–º—ã
- –≠–¢–ê–ü 2: –ú–æ–¥—É–ª–∏ —á–∏—Ç–∞—é—Ç –∏–∑ DataRegistry

---

**DataRegistry –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å! üöÄ**

