# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –õ–û–ì–ò–ö–ò –†–ê–ë–û–¢–´ –° –ö–û–ù–§–ò–ì–û–ú

## üîç –ü–†–û–ë–õ–ï–ú–ê

–ö–æ–¥ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞, –µ—Å–ª–∏ –æ–Ω–∏ —Å—á–∏—Ç–∞–ª–∏—Å—å "—Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–º–∏":
- –ü—Ä–æ–≤–µ—Ä—è–ª `max_position_usd` –∏–∑ `symbol_profiles`
- –ï—Å–ª–∏ –æ–Ω–æ –º–µ–Ω—å—à–µ 50% –æ—Ç `base_usd_size`, –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª –µ–≥–æ
- –≠—Ç–æ —Å–æ–∑–¥–∞–≤–∞–ª–æ –ø—É—Ç–∞–Ω–∏—Ü—É - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∫–∞–∑–∞–ª –≤ –∫–æ–Ω—Ñ–∏–≥–µ, –Ω–æ –∫–æ–¥ –µ–≥–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï

### 1. –£–±—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ "—Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–æ–µ"
**–§–∞–π–ª:** `src/strategies/scalping/futures/orchestrator.py`

**–ë—ã–ª–æ:**
```python
if symbol_max >= base_usd_size * 0.5:
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º
else:
    # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º - —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–æ–µ
```

**–°—Ç–∞–ª–æ:**
```python
# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ò—Å–ø–æ–ª—å–∑—É–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ –ë–ï–ó –ø—Ä–æ–≤–µ—Ä–æ–∫ "—Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–æ–µ"
# –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ –≤ –∫–æ–Ω—Ñ–∏–≥–µ - –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–∞–∫ –µ—Å—Ç—å (–∫–æ–Ω—Ñ–∏–≥ –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
max_usd_size = symbol_max
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
–ï—Å–ª–∏ `max_position_usd < min_position_usd`, –∫–æ–¥ —Ç–µ–ø–µ—Ä—å:
- –í—ã–¥–∞–µ—Ç **ERROR** (–Ω–µ warning)
- **–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É** (raise ValueError)
- –¢—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è XRP-USDT
**–§–∞–π–ª:** `config/config_futures.yaml`

**–ë—ã–ª–æ:**
```yaml
ranging:
  position:
    max_position_usd: 32.0  # –ú–µ–Ω—å—à–µ min_position_usd –∏–∑ balance_profile ($50)
```

**–°—Ç–∞–ª–æ:**
```yaml
ranging:
  position:
    max_position_usd: 500.0  # –ö–∞–∫ –≤ balance_profile
```

## üìã –ü–†–ò–û–†–ò–¢–ï–¢ –ü–ê–†–ê–ú–ï–¢–†–û–í

–¢–µ–ø–µ—Ä—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ç–∞–∫–æ–π:
1. **symbol_profiles.{symbol}.{regime}.position.max_position_usd** - –≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
2. **balance_profiles.{profile}.max_position_usd** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ –≤ symbol_profiles

## ‚ö†Ô∏è –í–ê–ñ–ù–û

- **–í–°–ï –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–¥—É—Ç –¢–û–õ–¨–ö–û –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞** - –Ω–∏–∫–∞–∫–∏—Ö fallback –∑–Ω–∞—á–µ–Ω–∏–π
- –ï—Å–ª–∏ –≤ –∫–æ–Ω—Ñ–∏–≥–µ –æ—à–∏–±–∫–∞ (max < min), –∫–æ–¥ **–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π**
- –ù—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥, –∞ –Ω–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É

## üîç –ü–†–û–í–ï–†–ö–ê

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
1. –ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ –ë–ï–ó –ø—Ä–æ–≤–µ—Ä–æ–∫
2. –ï—Å–ª–∏ max < min, –≤—ã–¥–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ –∏ —Ä–∞–±–æ—Ç–∞ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
3. –ù–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π "–ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–æ–µ"

