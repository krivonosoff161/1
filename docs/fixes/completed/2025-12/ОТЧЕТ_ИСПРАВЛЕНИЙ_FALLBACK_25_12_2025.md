# ‚úÖ –û–¢–ß–ï–¢ –û–ë –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø–• FALLBACK –ó–ù–ê–ß–ï–ù–ò–ô

**–î–∞—Ç–∞:** 25 –¥–µ–∫–∞–±—Ä—è 2025, 12:30  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ü–†–ò–ú–ï–ù–ï–ù–´

---

## üéØ –¶–ï–õ–¨

–ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ fallback –∑–Ω–∞—á–µ–Ω–∏—è, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–∞–º, –≥–¥–µ –æ–Ω–∏ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Ç–æ—Ä–≥–æ–≤–ª—é, –Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∏—Ö –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–ª—É—á–∞–µ–≤ (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å).

---

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. ‚úÖ –†–µ–∂–∏–º (regime) - Fallback `"ranging"`

**–§–∞–π–ª—ã:**
- `src/strategies/scalping/futures/signal_generator.py` (7 –º–µ—Å—Ç)
- `src/strategies/scalping/futures/coordinators/signal_coordinator.py`
- `src/strategies/scalping/futures/config/config_manager.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ `RegimeManager`
2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ - `DataRegistry`
3. ‚úÖ Fallback –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
4. ‚úÖ –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø—Ä–∏—á–∏–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è fallback

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:**
1. `RegimeManager.get_current_regime()` (per-symbol –∏–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–π)
2. `DataRegistry.get_regime(symbol)`
3. Fallback `"ranging"` (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã)

**–≠—Ñ—Ñ–µ–∫—Ç:**
- –†–µ–∂–∏–º —Ç–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞–µ—Ç—Å—è –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- Fallback –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–ª—É—á–∞—è—Ö
- –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

---

### 2. ‚úÖ entry_time - Fallback `datetime.now()`

**–§–∞–π–ª—ã:**
- `src/strategies/scalping/futures/orchestrator.py` (2 –º–µ—Å—Ç–∞)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ - `PositionRegistry`
2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ - `active_positions`
3. ‚úÖ Fallback –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
4. ‚úÖ –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞ `entry_time`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:**
1. API OKX (`cTime`/`uTime`)
2. `PositionRegistry.get_metadata(symbol).entry_time`
3. `active_positions[symbol]["entry_time"]`
4. Fallback `datetime.now(timezone.utc)` (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã)

**–≠—Ñ—Ñ–µ–∫—Ç:**
- `entry_time` —Ç–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞–µ—Ç—Å—è –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- Fallback –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–ª—É—á–∞—è—Ö
- –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

---

### 3. ‚úÖ leverage - Fallback `3` –∏–ª–∏ `5`

**–§–∞–π–ª—ã:**
- `src/strategies/scalping/futures/coordinators/signal_coordinator.py`
- `src/strategies/scalping/futures/risk/adaptive_leverage.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ `AdaptiveLeverage`
2. ‚úÖ –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø—Ä–∏—á–∏–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è fallback
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ ERROR –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –µ—Å–ª–∏ `leverage` –Ω–µ —É–∫–∞–∑–∞–Ω –≤ –∫–æ–Ω—Ñ–∏–≥–µ

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:**
1. `AdaptiveLeverage.calculate_leverage()` (–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–∞—Å—á–µ—Ç)
2. `scalping_config.leverage` (–∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞)
3. Fallback `3` (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã)

**–≠—Ñ—Ñ–µ–∫—Ç:**
- Leverage —Ç–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞–µ—Ç—Å—è –∏–∑ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥–∞
- Fallback –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–ª—É—á–∞—è—Ö
- –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

---

### 4. ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∏—Å–∫–∞ - Fallback –∑–Ω–∞—á–µ–Ω–∏—è

**–§–∞–π–ª—ã:**
- `src/strategies/scalping/futures/config/config_manager.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º fallback
2. ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ: —Ä–µ–∂–∏–º ‚Üí –±–∞–ª–∞–Ω—Å ‚Üí –±–∞–∑–æ–≤—ã–µ
3. ‚úÖ –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
4. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –∫–æ–Ω—Ñ–∏–≥–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:**
1. `risk.by_regime[regime][param]` (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–µ–∂–∏–º–∞)
2. `risk.by_balance[profile][param]` (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–∞–ª–∞–Ω—Å–∞)
3. `risk.base[param]` (–±–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
4. Fallback –∑–Ω–∞—á–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω –Ω–∏ –≤ –æ–¥–Ω–æ–º –∏—Å—Ç–æ—á–Ω–∏–∫–µ)

**–≠—Ñ—Ñ–µ–∫—Ç:**
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∏—Å–∫–∞ —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤–æ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö
- Fallback –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤–æ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö
- –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –∫–æ–Ω—Ñ–∏–≥–∞

---

## üìä –ò–¢–û–ì–û–í–ê–Ø –¢–ê–ë–õ–ò–¶–ê –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

| –ü—Ä–æ–±–ª–µ–º–∞ | –§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ | –ú–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | –°—Ç–∞—Ç—É—Å |
|----------|----------------|-----------------|--------|
| **regime = "ranging"** | 3 | 9 | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| **entry_time = now()** | 1 | 2 | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| **leverage = 3/5** | 2 | 2 | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∏—Å–∫–∞** | 1 | 1 | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |

---

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢–´

### ‚úÖ –£–ª—É—á—à–µ–Ω–∏—è:

1. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:**
   - –†–µ–∂–∏–º: RegimeManager ‚Üí DataRegistry ‚Üí fallback
   - entry_time: API ‚Üí PositionRegistry ‚Üí active_positions ‚Üí fallback
   - leverage: AdaptiveLeverage ‚Üí –∫–æ–Ω—Ñ–∏–≥ ‚Üí fallback
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∏—Å–∫–∞: —Ä–µ–∂–∏–º ‚Üí –±–∞–ª–∞–Ω—Å ‚Üí –±–∞–∑–æ–≤—ã–µ ‚Üí fallback

2. **–£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –£–∫–∞–∑–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö
   - –ü—Ä–∏—á–∏–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è fallback
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –∫–æ–Ω—Ñ–∏–≥–∞

3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
   - Fallback –æ—Å—Ç–∞—é—Ç—Å—è –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–ª—É—á–∞–µ–≤
   - –°–∏—Å—Ç–µ–º–∞ –Ω–µ —É–ø–∞–¥–µ—Ç –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö
   - –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

---

## üìã –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### 1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞ - –í–´–ü–û–õ–ù–ï–ù–û:

- ‚úÖ `leverage` —É–∫–∞–∑–∞–Ω –≤ `config_futures.yaml` (—Å—Ç—Ä–æ–∫–∞ 47, –∑–Ω–∞—á–µ–Ω–∏–µ: 5)
- ‚úÖ –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∏—Å–∫–∞ —É–∫–∞–∑–∞–Ω—ã –≤ `risk.base` (7 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)
- ‚úÖ –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∏—Å–∫–∞ —É–∫–∞–∑–∞–Ω—ã –≤ `risk.by_regime` –¥–ª—è –≤—Å–µ—Ö —Ä–µ–∂–∏–º–æ–≤:
  - ‚úÖ trending (7 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)
  - ‚úÖ ranging (7 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)
  - ‚úÖ choppy (7 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)
- ‚úÖ –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∏—Å–∫–∞ —É–∫–∞–∑–∞–Ω—ã –≤ `risk.by_balance` –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π:
  - ‚úÖ micro (6 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)
  - ‚úÖ small (6 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)
  - ‚úÖ medium (6 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)
  - ‚úÖ large (6 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)

**–ü–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:** `–ü–†–û–í–ï–†–ö–ê_–ö–û–ù–§–ò–ì–ê_25_12_2025.md`

### 2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤:
- ‚úÖ –°–ª–µ–¥–∏—Ç–µ –∑–∞ WARNING –ª–æ–≥–∞–º–∏ –æ fallback –∑–Ω–∞—á–µ–Ω–∏—è—Ö
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª—è–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥ –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ fallback –∑–Ω–∞—á–µ–Ω–∏–π

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:
- ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `RegimeManager` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `AdaptiveLeverage` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω

---

---

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –°–ò–ù–¢–ê–ö–°–ò–ß–ï–°–ö–û–ô –û–®–ò–ë–ö–ò (25.12.2025, 13:00)

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞:
```
SyntaxError: 'await' outside async function
File: config_manager.py, line 1282
regime_data = await signal_generator.data_registry.get_regime(symbol)
```

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
- –£–±—Ä–∞–Ω `await` –∏–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ `get_adaptive_risk_params()`
- DataRegistry.get_regime() - async –º–µ—Ç–æ–¥, –Ω–æ get_adaptive_risk_params() - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π
- –†–µ–∂–∏–º —É–∂–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –∏–∑ RegimeManager (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥), DataRegistry –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ async –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞—Ö

**–§–∞–π–ª:** `src/strategies/scalping/futures/config/config_manager.py` (—Å—Ç—Ä–æ–∫–∞ 1277-1282)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** - –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

---

---

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ô –ü–†–ò –°–¢–ê–†–¢–ï (25.12.2025, 13:15)

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ 1: exit_params –Ω–µ –Ω–∞–π–¥–µ–Ω
```
‚ö†Ô∏è exit_params –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥–µ, –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- `exit_params` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ YAML (`config_futures.yaml:1331`), –Ω–æ –Ω–µ –≤ –º–æ–¥–µ–ª–∏ `BotConfig`
- Pydantic –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –º–æ–¥–µ–ª–∏ (–¥–∞–∂–µ —Å `extra="allow"`)

**‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ `getattr()` –∏ `model_dump()` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–ª—è–º –∏–∑ raw YAML
- –ò–∑–º–µ–Ω–µ–Ω —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å `WARNING` –Ω–∞ `DEBUG` (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –µ—Å–ª–∏ `exit_params` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π –º–µ—Ö–∞–Ω–∏–∑–º)

**–§–∞–π–ª:** `src/strategies/scalping/futures/config/config_manager.py` (—Å—Ç—Ä–æ–∫–∞ 173-195)

---

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ 2: –†–µ–∂–∏–º –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω (fallback 'ranging')
```
‚ö†Ô∏è –†–µ–∂–∏–º –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω (–≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã), –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fallback 'ranging'
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ `RegimeManager` –º–æ–∂–µ—Ç –±—ã—Ç—å –µ—â–µ –Ω–µ –≥–æ—Ç–æ–≤
- `signal_generator` –º–æ–∂–µ—Ç –±—ã—Ç—å `None` –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ `get_adaptive_risk_params()`

**‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞: –µ—Å–ª–∏ `signal_generator is None`, –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è `DEBUG` (–Ω–æ—Ä–º–∞–ª—å–Ω–æ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏)
- –ï—Å–ª–∏ `signal_generator` –ø–µ—Ä–µ–¥–∞–Ω, –Ω–æ —Ä–µ–∂–∏–º –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω, –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è `WARNING` (–ø—Ä–æ–±–ª–µ–º–∞)

**–§–∞–π–ª:** `src/strategies/scalping/futures/config/config_manager.py` (—Å—Ç—Ä–æ–∫–∞ 1290-1302)

---

**üìä –û–¢–ß–ï–¢ –°–û–ó–î–ê–ù**  
**–î–∞—Ç–∞:** 25 –¥–µ–∫–∞–±—Ä—è 2025, 13:15  
**–í–µ—Ä—Å–∏—è:** 1.2  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ü–†–ò–ú–ï–ù–ï–ù–´ –ò –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–´

