# üîç –ö–û–ù–ö–†–ï–¢–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

## üìä –ù–ê–ô–î–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –í –õ–û–ì–ê–• –ò –ö–û–î–ï

### 1. **–†–ê–ó–ú–ï–† –ü–û–ó–ò–¶–ò–ô –°–õ–ò–®–ö–û–ú –ú–ê–õ–ï–ù–¨–ö–ò–ô**

**–ü—Ä–æ–±–ª–µ–º–∞ –≤ –ª–æ–≥–∞—Ö:**
```
üí∞ –§–ò–ù–ê–õ–¨–ù–´–ô –†–ê–°–ß–ï–¢: balance=$866.34, profile=small, margin=$35.73 (–ª–∏–º–∏—Ç: $10.00-$44.00 –º–∞—Ä–∂–∏)
```

**–ü–æ—á–µ–º—É:**
- –õ–∏–º–∏—Ç `max_margin=$44.00` - —ç—Ç–æ **–û–ß–ï–ù–¨ –ú–ê–õ–û**!
- –ü—Ä–∏ –±–∞–ª–∞–Ω—Å–µ $866 –∏ –ø–ª–µ—á–µ 5x –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **$100-150 –º–∞—Ä–∂–∏** –Ω–∞ –ø–æ–∑–∏—Ü–∏—é
- –ù–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ **$35.73 –º–∞—Ä–∂–∏** (4% –æ—Ç –±–∞–ª–∞–Ω—Å–∞)!

**–ì–¥–µ –≤ –∫–æ–¥–µ:**
- `orchestrator.py:3649` - `10. –§–∏–Ω–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã: min_margin=$10.00, max_margin=$44.00`
- –≠—Ç–æ –±–µ—Ä–µ—Ç—Å—è –∏–∑ `balance_profiles.small.max_position_usd / leverage = 220 / 5 = 44`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –£–≤–µ–ª–∏—á–∏—Ç—å `max_position_usd` –¥–ª—è small –ø—Ä–æ—Ñ–∏–ª—è –¥–æ $500-750
- –¢–æ–≥–¥–∞ `max_margin = 500 / 5 = $100` –∏–ª–∏ `750 / 5 = $150`

---

### 2. **TP –ë–õ–û–ö–ò–†–£–ï–¢–°–Ø TSL**

**–ü—Ä–æ–±–ª–µ–º–∞ –≤ –ª–æ–≥–∞—Ö:**
```
üìä BTC-USDT —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –∞–∫—Ç–∏–≤–µ–Ω (profit=0.726% >= 0.550%), TP –æ—Ç–∫–ª—é—á–µ–Ω (—Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
```

**–ü—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–¥–µ:**
- `position_manager.py:901` - `return  # –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º TP, —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç`
- –ï—Å–ª–∏ TSL –∞–∫—Ç–∏–≤–µ–Ω, TP **–ù–ï –ü–†–û–í–ï–†–Ø–ï–¢–°–Ø –í–û–û–ë–©–ï**!

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø–ª–æ—Ö–æ:**
- –ü–æ–∑–∏—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ø—Ä–∏–±—ã–ª–∏ 1.5%, –Ω–æ TP –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ TSL –∞–∫—Ç–∏–≤–µ–Ω
- –ü–æ–∑–∏—Ü–∏—è –±—É–¥–µ—Ç –¥–µ—Ä–∂–∞—Ç—å—Å—è –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ TSL –Ω–µ –∑–∞–∫—Ä–æ–µ—Ç –µ–µ
- –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ—Ç–µ—Ä–µ –ø—Ä–∏–±—ã–ª–∏!

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –£–±—Ä–∞—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É TP –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º TSL
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å TP **–ü–ï–†–ï–î** TSL, –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –æ–±–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ï—Å–ª–∏ TP –¥–æ—Å—Ç–∏–≥–Ω—É—Ç, –∑–∞–∫—Ä—ã–≤–∞—Ç—å —Å—Ä–∞–∑—É, –Ω–µ –∂–¥–∞—Ç—å TSL

---

### 3. **TSL –ù–ï –†–ê–ë–û–¢–ê–ï–¢ - min_holding –ë–õ–û–ö–ò–†–£–ï–¢ –ó–ê–ö–†–´–¢–ò–ï**

**–ü—Ä–æ–±–ª–µ–º–∞ –≤ –ª–æ–≥–∞—Ö:**
```
‚è±Ô∏è Loss-cut –ò–ì–ù–û–†–ò–†–£–ï–¢–°–Ø (—Å–ª–∏—à–∫–æ–º —Ä–∞–Ω–æ): –ø—Ä–∏–±—ã–ª—å -3.51% –æ—Ç —Ü–µ–Ω—ã (17.57% –æ—Ç –º–∞—Ä–∂–∏) <= -0.36% –æ—Ç —Ü–µ–Ω—ã, –Ω–æ –ø–æ–∑–∏—Ü–∏—è –¥–µ—Ä–∂–∏—Ç—Å—è –≤—Å–µ–≥–æ 57.6 —Å–µ–∫ < 60.0 —Å–µ–∫
‚è±Ô∏è –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —É–¥–µ—Ä–∂–∞–Ω–∏—è: –ø–æ–∑–∏—Ü–∏—è –¥–µ—Ä–∂–∏—Ç—Å—è 0.96 –º–∏–Ω < 2.00 –º–∏–Ω, –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ–º (profit=-3.51%)
```

**–ü—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–¥–µ:**
- `trailing_stop_loss.py:472-481` - `min_holding_minutes` –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–∫—Ä—ã—Ç–∏–µ
- –î–∞–∂–µ –µ—Å–ª–∏ —É–±—ã—Ç–æ–∫ **-20%**, –ø–æ–∑–∏—Ü–∏—è –Ω–µ –∑–∞–∫—Ä–æ–µ—Ç—Å—è, –ø–æ–∫–∞ –Ω–µ –ø—Ä–æ–π–¥–µ—Ç `min_holding_minutes` (2 –º–∏–Ω—É—Ç—ã)

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø–ª–æ—Ö–æ:**
- SOL-USDT: -6.4 USDT (-20.26%) –∑–∞ 6+ —á–∞—Å–æ–≤!
- XRP-USDT: -6.54 USDT (-22.91%) –∑–∞ 3+ —á–∞—Å–∞!
- –ü–æ–∑–∏—Ü–∏–∏ –¥–µ—Ä–∂–∞—Ç—Å—è —á–∞—Å–∞–º–∏ —Å –æ–≥—Ä–æ–º–Ω—ã–º —É–±—ã—Ç–∫–æ–º!

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –£–±—Ä–∞—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É `min_holding_minutes` –¥–ª—è `loss_cut`
- –ï—Å–ª–∏ —É–±—ã—Ç–æ–∫ –±–æ–ª—å—à–µ `loss_cut_percent`, –∑–∞–∫—Ä—ã–≤–∞—Ç—å **–°–†–ê–ó–£**, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤—Ä–µ–º–µ–Ω–∏
- –û—Å—Ç–∞–≤–∏—Ç—å `min_holding_minutes` —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è (–ø–µ—Ä–≤—ã–µ 15-30 —Å–µ–∫—É–Ω–¥)

---

### 4. **–ö–û–ú–ò–°–°–ò–Ø –†–ê–°–°–ß–ò–¢–´–í–ê–ï–¢–°–Ø –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û**

**–ü—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–¥–µ:**
- `position_manager.py:1787` - `commission = (notional_entry + notional_exit) * commission_rate`
- `commission_rate = 0.0010` (0.10%) –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞

**–ü–æ—á–µ–º—É –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `order_type: "limit"` (maker) - –∫–æ–º–∏—Å—Å–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å **0.02% (0.0002)**
- –ü—Ä–∏ market (taker) - –∫–æ–º–∏—Å—Å–∏—è **0.05% (0.0005)**
- –ù–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è **0.10%** - —ç—Ç–æ –≤ **2-5 —Ä–∞–∑ –±–æ–ª—å—à–µ**!

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ö–æ–º–∏—Å—Å–∏—è –∑–∞–≤—ã—à–µ–Ω–∞ –≤ 2-5 —Ä–∞–∑
- –†–µ–∞–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å –º–µ–Ω—å—à–µ —Ä–∞—Å—á–µ—Ç–Ω–æ–π

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –∫–æ–º–∏—Å—Å–∏—é –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –æ—Ä–¥–µ—Ä–∞:
  - Maker (limit): 0.02% (0.0002)
  - Taker (market): 0.05% (0.0005)
- –ò–ª–∏ –ø–æ–ª—É—á–∞—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –∫–æ–º–∏—Å—Å–∏—é —Å –±–∏—Ä–∂–∏

---

### 5. **–ü–†–ò–ë–´–õ–¨ –í –ú–û–ú–ï–ù–¢–ï –ë–û–õ–¨–®–ï –ß–ï–ú –ü–†–ò –ó–ê–ö–†–´–¢–ò**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü–æ–∑–∏—Ü–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç +5 USDT –≤ –º–æ–º–µ–Ω—Ç–µ
- –ü—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –ø–æ–ª—É—á–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ +1.4 USDT
- –†–∞–∑–Ω–∏—Ü–∞: **slippage + –∫–æ–º–∏—Å—Å–∏—è**

**–ü–æ—á–µ–º—É:**
- –ü—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Ä—ã–Ω–æ—á–Ω—ã–º –æ—Ä–¥–µ—Ä–æ–º —Ü–µ–Ω–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ö—É–∂–µ (slippage)
- –ö–æ–º–∏—Å—Å–∏—è –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ –ø—Ä–∏–±—ã–ª–∏ –≤ –º–æ–º–µ–Ω—Ç–µ
- –†–µ–∞–ª—å–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã—à–µ —Ä–∞—Å—á–µ—Ç–Ω–æ–π

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –£—á–∏—Ç—ã–≤–∞—Ç—å slippage –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ –ø—Ä–∏–±—ã–ª–∏ –≤ –º–æ–º–µ–Ω—Ç–µ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –∫–æ–º–∏—Å—Å–∏—é (maker/taker)
- –î–æ–±–∞–≤–∏—Ç—å –±—É—Ñ–µ—Ä –Ω–∞ slippage –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏

---

### 6. **ORCHESTRATOR - –ú–û–ù–°–¢–† (6094 –°–¢–†–û–ö–ò, 56 –ú–ï–¢–û–î–û–í)**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- `orchestrator.py` - 6094 —Å—Ç—Ä–æ–∫–∏, 56 –º–µ—Ç–æ–¥–æ–≤
- –≠—Ç–æ **–û–ß–ï–ù–¨ –ë–û–õ–¨–®–û–ô** —Ñ–∞–π–ª!
- –°–ª–æ–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å

**–ß—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
- –†–∞–∑–±–∏—Ç—å –Ω–∞ –º–æ–¥—É–ª–∏:
  - `PositionSizeCalculator` - —Ä–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–π
  - `PositionMonitor` - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–∑–∏—Ü–∏–π
  - `SignalProcessor` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤
  - `RiskManager` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏
- –ù–æ —ç—Ç–æ **–†–ï–§–ê–ö–¢–û–†–ò–ù–ì**, –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã

---

## üéØ –ö–û–ù–ö–†–ï–¢–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. **–£–í–ï–õ–ò–ß–ò–¢–¨ –†–ê–ó–ú–ï–† –ü–û–ó–ò–¶–ò–ô**

**–§–∞–π–ª:** `config/config_futures.yaml`

**–ò–∑–º–µ–Ω–∏—Ç—å:**
```yaml
balance_profiles:
  small:
    max_position_usd: 500.0  # –ë—ã–ª–æ: 220.0, –°—Ç–∞–ª–æ: 500.0
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- `max_margin = 500 / 5 = $100` –≤–º–µ—Å—Ç–æ $44
- –†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–π —É–≤–µ–ª–∏—á–∏—Ç—Å—è –≤ **2.3 —Ä–∞–∑–∞**

---

### 2. **–£–ë–†–ê–¢–¨ –ë–õ–û–ö–ò–†–û–í–ö–£ TP –ü–†–ò –ê–ö–¢–ò–í–ù–û–ú TSL**

**–§–∞–π–ª:** `src/strategies/scalping/futures/position_manager.py`

**–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫—É 901:**
```python
# –ë–´–õ–û:
if profit_pct_net >= min_profit_to_close:
    trailing_sl_active = True
    return  # –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º TP, —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

# –°–¢–ê–õ–û:
if profit_pct_net >= min_profit_to_close:
    trailing_sl_active = True
    # ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ü—Ä–æ–≤–µ—Ä—è–µ–º TP –¥–∞–∂–µ –µ—Å–ª–∏ TSL –∞–∫—Ç–∏–≤–µ–Ω
    # –ï—Å–ª–∏ TP –¥–æ—Å—Ç–∏–≥–Ω—É—Ç, –∑–∞–∫—Ä—ã–≤–∞–µ–º —Å—Ä–∞–∑—É, –Ω–µ –∂–¥–µ–º TSL
    # (–ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É TP –Ω–∏–∂–µ)
```

---

### 3. **–£–ë–†–ê–¢–¨ –ë–õ–û–ö–ò–†–û–í–ö–£ min_holding –î–õ–Ø loss_cut**

**–§–∞–π–ª:** `src/strategies/scalping/futures/indicators/trailing_stop_loss.py`

**–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ 444-482:**
```python
# –ë–´–õ–û:
if seconds_in_position >= min_critical_hold_seconds:
    if profit_pct <= -critical_loss_cut_from_price:
        return True  # –ó–∞–∫—Ä—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –ø–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–º—É 2x loss_cut
    # –ù–ï –∑–∞–∫—Ä—ã–≤–∞–µ–º –ø–æ –æ–±—ã—á–Ω–æ–º—É loss_cut –¥–æ min_holding_minutes
else:
    # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º loss_cut –µ—Å–ª–∏ —Å–ª–∏—à–∫–æ–º —Ä–∞–Ω–æ
    return False

# –°–¢–ê–õ–û:
# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ï—Å–ª–∏ —É–±—ã—Ç–æ–∫ –±–æ–ª—å—à–µ loss_cut, –∑–∞–∫—Ä—ã–≤–∞–µ–º –°–†–ê–ó–£ (–ø–æ—Å–ª–µ min_critical_hold_seconds)
if seconds_in_position >= min_critical_hold_seconds:
    if profit_pct <= -loss_cut_from_price:
        # –û–±—ã—á–Ω—ã–π loss_cut - –∑–∞–∫—Ä—ã–≤–∞–µ–º —Å—Ä–∞–∑—É
        return True
    if profit_pct <= -critical_loss_cut_from_price:
        # –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π 2x loss_cut - –∑–∞–∫—Ä—ã–≤–∞–µ–º —Å—Ä–∞–∑—É
        return True
else:
    # –ó–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è - –ø–µ—Ä–≤—ã–µ 15-30 —Å–µ–∫—É–Ω–¥ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ–º
    return False
```

---

### 4. **–ò–°–ü–†–ê–í–ò–¢–¨ –†–ê–°–ß–ï–¢ –ö–û–ú–ò–°–°–ò–ò**

**–§–∞–π–ª:** `src/strategies/scalping/futures/position_manager.py`

**–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ 1760-1787:**
```python
# –ë–´–õ–û:
commission_rate = 0.0010  # –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è 0.10%

# –°–¢–ê–õ–û:
# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∞–ª—å–Ω—É—é –∫–æ–º–∏—Å—Å–∏—é –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –æ—Ä–¥–µ—Ä–∞
order_type = getattr(self.scalping_config, "order_type", "limit")
if order_type == "limit":
    commission_rate = 0.0002  # Maker: 0.02%
else:
    commission_rate = 0.0005  # Taker: 0.05%
```

---

### 5. **–£–ß–ï–°–¢–¨ SLIPPAGE –ü–†–ò –†–ê–°–ß–ï–¢–ï –ü–†–ò–ë–´–õ–ò**

**–§–∞–π–ª:** `src/strategies/scalping/futures/position_manager.py`

**–î–æ–±–∞–≤–∏—Ç—å:**
```python
# ‚úÖ –ù–û–í–û–ï: –£—á–∏—Ç—ã–≤–∞–µ–º slippage –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ –ø—Ä–∏–±—ã–ª–∏ –≤ –º–æ–º–µ–Ω—Ç–µ
slippage_buffer_pct = commission_config.get("slippage_buffer_percent", 0.15)
expected_exit_price = current_price * (1 - slippage_buffer_pct / 100)  # –î–ª—è long
# –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º PnL —Å —É—á–µ—Ç–æ–º slippage
```

---

## üìà –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

1. **–†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–π:** –£–≤–µ–ª–∏—á–∏—Ç—Å—è –≤ 2.3 —Ä–∞–∑–∞ (—Å $35 –¥–æ $100 –º–∞—Ä–∂–∏)
2. **TP:** –ë—É–¥–µ—Ç —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–∞–∂–µ –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º TSL
3. **TSL:** –ë—É–¥–µ—Ç –∑–∞–∫—Ä—ã–≤–∞—Ç—å —É–±—ã—Ç–æ—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ —Å—Ä–∞–∑—É (–Ω–µ –∂–¥–∞—Ç—å 2 –º–∏–Ω—É—Ç—ã)
4. **–ö–æ–º–∏—Å—Å–∏—è:** –ë—É–¥–µ—Ç —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ (0.02% –≤–º–µ—Å—Ç–æ 0.10%)
5. **–ü—Ä–∏–±—ã–ª—å:** –ë—É–¥–µ—Ç –±–ª–∏–∂–µ –∫ —Ä–µ–∞–ª—å–Ω–æ–π (—Å —É—á–µ—Ç–æ–º slippage)

---

## üîç –ü–†–û–í–ï–†–ö–ê

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
1. –†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–π —É–≤–µ–ª–∏—á–∏–ª—Å—è –¥–æ $100-150 –º–∞—Ä–∂–∏
2. TP —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–µ–≤–æ–π –ø—Ä–∏–±—ã–ª–∏
3. TSL –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —É–±—ã—Ç–æ—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ —Å—Ä–∞–∑—É (–Ω–µ –∂–¥–µ—Ç 2 –º–∏–Ω—É—Ç—ã)
4. –ö–æ–º–∏—Å—Å–∏—è —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ (0.02% –¥–ª—è limit)
5. –ü—Ä–∏–±—ã–ª—å –≤ –º–æ–º–µ–Ω—Ç–µ –±–ª–∏–∑–∫–∞ –∫ —Ä–µ–∞–ª—å–Ω–æ–π (—Å —É—á–µ—Ç–æ–º slippage)






