# üîß –ü–õ–ê–ù –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê –û–†–ö–ï–°–¢–†–ê–¢–û–†–ê

## üìÖ –î–∞—Ç–∞: 2025-11-21

---

## ‚úÖ –î–ê, –Ø –°–ú–û–ì–£ –°–î–ï–õ–ê–¢–¨ –≠–¢–û –ü–†–ê–í–ò–õ–¨–ù–û!

### üéØ –ú–æ–π –ø–æ–¥—Ö–æ–¥:
1. **–ü–æ—ç—Ç–∞–ø–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥** - –º–∞–ª–µ–Ω—å–∫–∏–µ —à–∞–≥–∏ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ
2. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏** - –ø–µ—Ä–µ–Ω–æ—à—É –∫–æ–¥ "–∫–∞–∫ –µ—Å—Ç—å", –∑–∞—Ç–µ–º –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é
3. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** - –∏—Å–ø–æ–ª—å–∑—É—é Dependency Injection –∏ —Ä–∞–∑—Ä—ã–≤–∞—é —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–æ–≤–µ—Ä—è—é –∫–∞–∂–¥—ã–π —ç—Ç–∞–ø –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É

---

## üîç –ê–ù–ê–õ–ò–ó –ó–ê–í–ò–°–ò–ú–û–°–¢–ï–ô –ò –°–û–°–¢–û–Ø–ù–ò–Ø

### ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –û–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (Shared State)

**–ù–∞–π–¥–µ–Ω–æ –æ–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ orchestrator:**

1. **`self.active_positions`** (Dict)
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: ~20 –º–µ—Å—Ç –≤ orchestrator
   - –¢–∞–∫–∂–µ –µ—Å—Ç—å –≤ `PositionManager.active_positions`
   - **–ü—Ä–æ–±–ª–µ–º–∞:** –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö!
   - **–†–µ—à–µ–Ω–∏–µ:** –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤ `PositionManager`, orchestrator –æ–±—Ä–∞—â–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥—ã

2. **`self.trailing_sl_by_symbol`** (Dict[TrailingStopLoss])
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: ~15 –º–µ—Å—Ç –≤ orchestrator
   - –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ `PositionManager.orchestrator.trailing_sl_by_symbol`
   - **–ü—Ä–æ–±–ª–µ–º–∞:** –¶–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å!
   - **–†–µ—à–µ–Ω–∏–µ:** –í—ã–Ω–µ—Å—Ç–∏ –≤ `TSLManager` –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ `PositionManager`

3. **`self.symbol_profiles`** (Dict)
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: ~5 –º–µ—Å—Ç –≤ orchestrator
   - –ö–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ `PositionManager.symbol_profiles`
   - **–ü—Ä–æ–±–ª–µ–º–∞:** –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö!
   - **–†–µ—à–µ–Ω–∏–µ:** –í—ã–Ω–µ—Å—Ç–∏ –≤ `ConfigManager`, –≤—Å–µ –º–æ–¥—É–ª–∏ –æ–±—Ä–∞—â–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –Ω–µ–≥–æ

4. **`self.total_margin_used`** (float)
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: ~10 –º–µ—Å—Ç –≤ orchestrator
   - **–ü—Ä–æ–±–ª–µ–º–∞:** –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ `MarginMonitor`!
   - **–†–µ—à–µ–Ω–∏–µ:** –í—ã–Ω–µ—Å—Ç–∏ –≤ `risk/MarginMonitor` (—É–∂–µ –µ—Å—Ç—å –º–æ–¥—É–ª—å!)

5. **`self.initial_balance`** (float)
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: ~3 –º–µ—Å—Ç–∞ –≤ orchestrator
   - **–ü—Ä–æ–±–ª–µ–º–∞:** –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ `RiskManager`!
   - **–†–µ—à–µ–Ω–∏–µ:** –í—ã–Ω–µ—Å—Ç–∏ –≤ `risk/RiskManager`

### ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–ù–∞–π–¥–µ–Ω–æ:**
- `PositionManager` ‚Üí `orchestrator` (—á–µ—Ä–µ–∑ `set_orchestrator()`)
- Orchestrator ‚Üí `PositionManager` (–ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤)

**–ü—Ä–æ–±–ª–µ–º–∞:** –¶–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –¥–µ–ª–∞–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å–ª–æ–∂–Ω—ã–º!

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω Observer –∏–ª–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–µ—Ç–æ–¥–æ–≤.

---

## üìã –ü–õ–ê–ù –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê (5 –≠–¢–ê–ü–û–í)

### ‚úÖ –≠–¢–ê–ü 1: –í—ã–Ω–æ—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–ë–ï–ó–û–ü–ê–°–ù–´–ô)
**–†–∏—Å–∫:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π
**–í—Ä–µ–º—è:** 1-2 —á–∞—Å–∞
**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
1. –°–æ–∑–¥–∞–µ–º `config/config_manager.py`
2. –í—ã–Ω–æ—Å–∏–º –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω—Ñ–∏–≥–æ–º:
   - `_get_trailing_sl_params`
   - `_get_balance_profile`
   - `_get_regime_params`
   - `_get_adaptive_risk_params`
   - `_get_adaptive_delay`
   - `_get_fallback_risk_params`
   - `_validate_risk_params`
   - `_get_config_value`
   - `_normalize_symbol`
   - `_load_symbol_profiles`
   - `_get_symbol_regime_profile`
3. `symbol_profiles` —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `ConfigManager`
4. –í—Å–µ –º–æ–¥—É–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ `ConfigManager.get_symbol_profiles()`

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### ‚úÖ –≠–¢–ê–ü 2: –í—ã–Ω–æ—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏—è–º–∏ (–°–†–ï–î–ù–ò–ô –†–ò–°–ö)
**–†–∏—Å–∫:** –°—Ä–µ–¥–Ω–∏–π (–µ—Å—Ç—å shared state)
**–í—Ä–µ–º—è:** 3-4 —á–∞—Å–∞
**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
1. –†–∞—Å—à–∏—Ä—è–µ–º `PositionManager`:
   - –í—ã–Ω–æ—Å–∏–º `_load_existing_positions` ‚Üí `PositionManager.load_existing_positions()`
   - –í—ã–Ω–æ—Å–∏–º `_sync_positions_with_exchange` ‚Üí `PositionManager.sync_with_exchange()`
   - –í—ã–Ω–æ—Å–∏–º `_handle_private_ws_positions` ‚Üí `PositionManager.handle_ws_positions()`
   - –í—ã–Ω–æ—Å–∏–º `_handle_position_closed_via_ws` ‚Üí `PositionManager.handle_position_closed()`
   - –í—ã–Ω–æ—Å–∏–º `_check_position_holding_time` ‚Üí `PositionManager.check_holding_time()`
   - –í—ã–Ω–æ—Å–∏–º `_close_position` ‚Üí `PositionManager.close_position()`
2. **`active_positions` –æ—Å—Ç–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û –≤ `PositionManager`**
3. Orchestrator –ø–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥—ã:
   - `PositionManager.get_active_positions()` - –≤–º–µ—Å—Ç–æ `self.active_positions`
   - `PositionManager.get_position(symbol)` - –≤–º–µ—Å—Ç–æ `self.active_positions.get(symbol)`
   - `PositionManager.has_position(symbol)` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è
4. –£–¥–∞–ª—è–µ–º `self.active_positions` –∏–∑ orchestrator

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –ü–æ–∑–∏—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ WebSocket –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç

---

### ‚úÖ –≠–¢–ê–ü 3: –í—ã–Ω–æ—Å TSL —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–°–†–ï–î–ù–ò–ô –†–ò–°–ö)
**–†–∏—Å–∫:** –°—Ä–µ–¥–Ω–∏–π (–µ—Å—Ç—å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
**–í—Ä–µ–º—è:** 3-4 —á–∞—Å–∞
**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
1. –°–æ–∑–¥–∞–µ–º `indicators/tsl_manager.py`:
   - –í—ã–Ω–æ—Å–∏–º `_initialize_trailing_stop` ‚Üí `TSLManager.initialize_trailing_stop()`
   - –í—ã–Ω–æ—Å–∏–º `_update_trailing_stop_loss` ‚Üí `TSLManager.update_trailing_stop_loss()`
   - –í—ã–Ω–æ—Å–∏–º `_periodic_tsl_check` ‚Üí `TSLManager.periodic_tsl_check()`
2. **`trailing_sl_by_symbol` —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `TSLManager`**
3. `PositionManager` –ø–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ `TSLManager.get_tsl(symbol)`
4. –£–±–∏—Ä–∞–µ–º —Ü–∏–∫–ª–∏—á–µ—Å–∫—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å:
   - –£–¥–∞–ª—è–µ–º `PositionManager.set_orchestrator()`
   - `PositionManager` –ø–æ–ª—É—á–∞–µ—Ç `TSLManager` —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
5. Orchestrator –ø–µ—Ä–µ–¥–∞–µ—Ç `TSLManager` –≤ `PositionManager` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ TSL –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ TSL –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü–æ–∑–∏—Ü–∏–∏ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –ø–æ TSL

---

### ‚úÖ –≠–¢–ê–ü 4: –í—ã–Ω–æ—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–∞–º–∏ (–ù–ò–ó–ö–ò–ô –†–ò–°–ö)
**–†–∏—Å–∫:** –ù–∏–∑–∫–∏–π (—É–∂–µ –µ—Å—Ç—å OrderExecutor)
**–í—Ä–µ–º—è:** 2-3 —á–∞—Å–∞
**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
1. –†–∞—Å—à–∏—Ä—è–µ–º `OrderExecutor`:
   - –í—ã–Ω–æ—Å–∏–º `_monitor_limit_orders` ‚Üí `OrderExecutor.monitor_limit_orders()`
   - –í—ã–Ω–æ—Å–∏–º `_handle_private_ws_orders` ‚Üí `OrderExecutor.handle_ws_orders()`
   - –í—ã–Ω–æ—Å–∏–º `_update_orders_cache_status` ‚Üí `OrderExecutor.update_cache_status()`
2. Orchestrator –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã OrderExecutor –≤–º–µ—Å—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –º–µ—Ç–æ–¥–æ–≤

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—Ä–¥–µ—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ WebSocket –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç

---

### ‚úÖ –≠–¢–ê–ü 5: –í—ã–Ω–æ—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∏—Å–∫–∞–º–∏ (–ù–ò–ó–ö–ò–ô –†–ò–°–ö)
**–†–∏—Å–∫:** –ù–∏–∑–∫–∏–π (—É–∂–µ –µ—Å—Ç—å –º–æ–¥—É–ª–∏ —Ä–∏—Å–∫–∞)
**–í—Ä–µ–º—è:** 3-4 —á–∞—Å–∞
**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
1. –°–æ–∑–¥–∞–µ–º `risk/risk_manager.py`:
   - –í—ã–Ω–æ—Å–∏–º `_check_drawdown_protection` ‚Üí `RiskManager.check_drawdown()`
   - –í—ã–Ω–æ—Å–∏–º `_emergency_stop` ‚Üí `RiskManager.emergency_stop()`
   - –í—ã–Ω–æ—Å–∏–º `_emergency_close_all_positions` ‚Üí `RiskManager.emergency_close_all()`
   - –í—ã–Ω–æ—Å–∏–º `_emergency_actions` ‚Üí `RiskManager.emergency_actions()`
   - –í—ã–Ω–æ—Å–∏–º `_check_emergency_stop_unlock` ‚Üí `RiskManager.check_unlock()`
   - –í—ã–Ω–æ—Å–∏–º `_on_liquidation_warning` ‚Üí `RiskManager.on_liquidation_warning()`
2. **`total_margin_used` –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è –≤ `risk/MarginMonitor`** (—É–∂–µ –µ—Å—Ç—å –º–æ–¥—É–ª—å!)
3. **`initial_balance` –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è –≤ `RiskManager`**
4. Orchestrator –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã RiskManager –≤–º–µ—Å—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –º–µ—Ç–æ–¥–æ–≤

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Å–∞–¥–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ê–≤–∞—Ä–∏–π–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –õ–∏–∫–≤–∏–¥–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

---

### ‚úÖ –≠–¢–ê–ü 6: –£–ø—Ä–æ—â–µ–Ω–∏–µ orchestrator (–§–ò–ù–ê–õ)
**–†–∏—Å–∫:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π (–ø–æ—Å–ª–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —ç—Ç–∞–ø–æ–≤)
**–í—Ä–µ–º—è:** 2-3 —á–∞—Å–∞
**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**
1. –£–¥–∞–ª—è–µ–º –≤—ã–Ω–µ—Å–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∏–∑ orchestrator
2. –£–ø—Ä–æ—â–∞–µ–º –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –º–µ—Ç–æ–¥—ã - —Ç–æ–ª—å–∫–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è
3. –û—Å—Ç–∞–≤–ª—è–µ–º –≤ orchestrator:
   - `__init__` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
   - `start` - –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
   - `stop` - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞
   - `_initialize_client` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞
   - `_initialize_websocket` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è WebSocket
   - `_main_trading_loop` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª (—Ç–æ–ª—å–∫–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è)
   - `_process_signals` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ (—Ç–æ–ª—å–∫–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è)
   - `_update_state` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
   - `_start_safety_modules` - –∑–∞–ø—É—Å–∫ –º–æ–¥—É–ª–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
   - `_start_trading_modules` - –∑–∞–ø—É—Å–∫ —Ç–æ—Ä–≥–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π
   - `_reset_all_states` - —Å–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏–π
4. Orchestrator —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–æ–º

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ

---

## üéØ –ü–†–ò–ù–¶–ò–ü–´ –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê

### ‚úÖ 1. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏
- –ö–æ–¥ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è "–∫–∞–∫ –µ—Å—Ç—å"
- –¢–æ–ª—å–∫–æ –º–µ–Ω—è–µ—Ç—Å—è –º–µ—Å—Ç–æ–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ
- –õ–æ–≥–∏–∫–∞ –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è

### ‚úÖ 2. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ–º Dependency Injection
- –†–∞–∑—Ä—ã–≤–∞–µ–º —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –Ø–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã

### ‚úÖ 3. –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã
- –ö–∞–∂–¥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥—ã, –∞ –Ω–µ –ø—Ä—è–º—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã

### ‚úÖ 4. –ü–æ—ç—Ç–∞–ø–Ω—ã–π –ø–æ–¥—Ö–æ–¥
- –û–¥–∏–Ω —ç—Ç–∞–ø –∑–∞ —Ä–∞–∑
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞
- –û—Ç–∫–∞—Ç –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

---

## üìä –ò–¢–û–ì–û–í–ê–Ø –°–¢–†–£–ö–¢–£–†–ê

### ‚úÖ –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:

```
src/strategies/scalping/futures/
‚îú‚îÄ‚îÄ orchestrator.py          # ‚úÖ 2,000 —Å—Ç—Ä–æ–∫ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è)
‚îÇ
‚îú‚îÄ‚îÄ config/                  # ‚úÖ NEW!
‚îÇ   ‚îî‚îÄ‚îÄ config_manager.py    # ‚úÖ 1,000 —Å—Ç—Ä–æ–∫
‚îÇ
‚îú‚îÄ‚îÄ position_manager.py      # ‚úÖ 3,300 —Å—Ç—Ä–æ–∫ (—Ä–∞—Å—à–∏—Ä–µ–Ω)
‚îÇ
‚îú‚îÄ‚îÄ order_executor.py        # ‚úÖ 1,500 —Å—Ç—Ä–æ–∫ (—Ä–∞—Å—à–∏—Ä–µ–Ω)
‚îÇ
‚îú‚îÄ‚îÄ indicators/
‚îÇ   ‚îú‚îÄ‚îÄ tsl_manager.py       # ‚úÖ 800 —Å—Ç—Ä–æ–∫ (NEW!)
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îî‚îÄ‚îÄ risk/
    ‚îú‚îÄ‚îÄ risk_manager.py      # ‚úÖ 1,500 —Å—Ç—Ä–æ–∫ (NEW!)
    ‚îî‚îÄ‚îÄ margin_monitor.py    # ‚úÖ 500 —Å—Ç—Ä–æ–∫ (—Ä–∞—Å—à–∏—Ä–µ–Ω)
```

---

## üõ°Ô∏è –ì–ê–†–ê–ù–¢–ò–ò –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò

### ‚úÖ –ß—Ç–æ —è –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é:
1. **–õ–æ–≥–∏–∫–∞ –Ω–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è** - –∫–æ–¥ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è "–∫–∞–∫ –µ—Å—Ç—å"
2. **–í—Å–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç** - –≤—ã–∑–æ–≤—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. **–ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è** - –∫–∞–∂–¥—ã–π –∫–æ–¥ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
4. **–¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞
5. **–û—Ç–∫–∞—Ç –≤–æ–∑–º–æ–∂–µ–Ω** - –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏

### ‚úÖ –ß—Ç–æ —è –ù–ï –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é:
1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–±–æ–ª—å—à–æ–µ –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ –∏–∑-–∑–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–æ–≤ (–Ω–æ —ç—Ç–æ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ)
2. **–°—Ç–∏–ª—å –∫–æ–¥–∞** - —Å–Ω–∞—á–∞–ª–∞ –ø–µ—Ä–µ–Ω–æ—Å–∏–º, –ø–æ—Ç–æ–º –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º —Å—Ç–∏–ª—å

---

## üéØ –í–´–í–û–î

### ‚úÖ –î–ê, –Ø –°–ú–û–ì–£ –°–î–ï–õ–ê–¢–¨ –≠–¢–û –ü–†–ê–í–ò–õ–¨–ù–û!

**–ú–æ–π –ø–æ–¥—Ö–æ–¥:**
- ‚úÖ –ü–æ—ç—Ç–∞–ø–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (6 —ç—Ç–∞–ø–æ–≤)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ (–∫–æ–¥ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è "–∫–∞–∫ –µ—Å—Ç—å")
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (Dependency Injection)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞
- ‚úÖ –û—Ç–∫–∞—Ç –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

**–í—Ä–µ–º—è:** ~15-20 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã
**–†–∏—Å–∫:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏ –ø–æ—ç—Ç–∞–ø–Ω–æ–º –ø–æ–¥—Ö–æ–¥–µ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Orchestrator: 6,098 ‚Üí 2,000 —Å—Ç—Ä–æ–∫
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- ‚úÖ –õ–µ–≥—á–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

---

**–ì–æ—Ç–æ–≤ –Ω–∞—á–∞—Ç—å, –∫–æ–≥–¥–∞ –¥–∞—à—å –∫–æ–º–∞–Ω–¥—É! üöÄ**

