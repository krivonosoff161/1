# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ø–æ–∑–∏—Ü–∏–π –Ω–∞ –±–∏—Ä–∂–µ (30.11.2025)

**–í—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∫–∏:** 22:43  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–∑–∏—Ü–∏–∏ –≤–∏–¥–Ω—ã –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è

---

## ‚úÖ –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–û: –ü–û–ó–ò–¶–ò–ò –í–ò–î–ù–´

### **–ü–æ–∑–∏—Ü–∏–∏ –Ω–∞ –±–∏—Ä–∂–µ:**
1. **SOL-USDT:** 1.47 SOL, entry=137.71, current=137.63, PnL=+0.29%
2. **ETH-USDT:** 0.058 ETH, entry=3035.10, current=3033.49, PnL=-0.27%
3. **BTC-USDT:** 0.0021 BTC, entry=91432.9, current=91450.6, PnL=+0.09%

### **–õ–æ–≥–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–∑–∏—Ü–∏–π:**
```
2025-11-30 22:39:24.687 | DEBUG | PositionRegistry: –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–∑–∏—Ü–∏—è BTC-USDT (regime=ranging)
2025-11-30 22:40:03.109 | DEBUG | PositionRegistry: –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–∑–∏—Ü–∏—è ETH-USDT (regime=ranging)
2025-11-30 22:40:24.053 | DEBUG | PositionRegistry: –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–∑–∏—Ü–∏—è SOL-USDT (regime=ranging)
```

### **–õ–æ–≥–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π:**
```
2025-11-30 22:42:03.690 | DEBUG | PositionRegistry: –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ø–æ–∑–∏—Ü–∏—è SOL-USDT
2025-11-30 22:42:03.690 | DEBUG | PositionRegistry: –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ø–æ–∑–∏—Ü–∏—è ETH-USDT
2025-11-30 22:42:03.691 | DEBUG | PositionRegistry: –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ø–æ–∑–∏—Ü–∏—è BTC-USDT
```

### **–õ–æ–≥–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏—è–º–∏:**
```
2025-11-30 22:42:06.268 | DEBUG | [MANAGE_POSITION] ETH-USDT: –ü—Ä–æ–≤–µ—Ä–∫–∞ TP/SL
2025-11-11-30 22:42:07.281 | DEBUG | [MANAGE_POSITION] SOL-USDT: –ü—Ä–æ–≤–µ—Ä–∫–∞ TP/SL
2025-11-30 22:42:13.088 | DEBUG | [MANAGE_POSITION] BTC-USDT: –ü—Ä–æ–≤–µ—Ä–∫–∞ TP/SL
```

---

## ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê: –ù–ï–¢ –õ–û–ì–û–í –û –†–ê–ó–ú–ï–©–ï–ù–ò–ò OCO –ò –†–ê–°–ß–ï–¢–ï TP/SL

### **–ß—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –ª–æ–≥–∞—Ö:**
1. ‚ùå –õ–æ–≥–∏ –æ —Ä–∞–∑–º–µ—â–µ–Ω–∏–∏ OCO –æ—Ä–¥–µ—Ä–æ–≤ –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π
2. ‚ùå –õ–æ–≥–∏ —Ä–∞—Å—á–µ—Ç–∞ TP/SL (`üéØ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ TP/SL –¥–ª—è [SYMBOL]`)
3. ‚ùå –õ–æ–≥–∏ –æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ `sl_percent` (`‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π sl_percent=2.00%`)

### **–ü—Ä–∏—á–∏–Ω–∞:**
–í –∫–æ–Ω—Ñ–∏–≥–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ `order_type: "limit"`, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:
- –ü–æ–∑–∏—Ü–∏–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ **–ª–∏–º–∏—Ç–Ω—ã–µ –æ—Ä–¥–µ—Ä–∞**
- OCO –æ—Ä–¥–µ—Ä–∞ —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `order_type="oco"` –≤ `execute_signal`
- –ü–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏ —á–µ—Ä–µ–∑ –ª–∏–º–∏—Ç–Ω—ã–π –æ—Ä–¥–µ—Ä, **OCO –Ω–µ —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**

### **–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:**
1. ‚úÖ –õ–∏–º–∏—Ç–Ω—ã–π –æ—Ä–¥–µ—Ä —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è
2. ‚úÖ –û—Ä–¥–µ—Ä –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è (filled —á–µ—Ä–µ–∑ WebSocket)
3. ‚úÖ –ü–æ–∑–∏—Ü–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ PositionRegistry
4. ‚ùå **OCO –æ—Ä–¥–µ—Ä –ù–ï —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**

---

## üîç –ì–î–ï –î–û–õ–ñ–ù–´ –†–ê–ó–ú–ï–©–ê–¢–¨–°–Ø OCO?

### **–í–∞—Ä–∏–∞–Ω—Ç—ã:**
1. **–ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–∏** (–µ—Å–ª–∏ `order_type="oco"`)
2. **–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–∑–∏—Ü–∏–∏** (—á–µ—Ä–µ–∑ PositionManager)
3. **–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π –ø—Ä–æ–≤–µ—Ä–∫–µ –ø–æ–∑–∏—Ü–∏–∏** (—á–µ—Ä–µ–∑ `_check_tp_only`)

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞:**
- `execute_signal()` –≤—ã–∑—ã–≤–∞–µ—Ç `_place_oco_order()` —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `order_type="oco"`
- –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–∑–∏—Ü–∏–∏ –Ω–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è OCO
- `_check_tp_only()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç TP, –Ω–æ –Ω–µ —Ä–∞–∑–º–µ—â–∞–µ—Ç OCO

---

## üéØ –í–´–í–û–î

### **‚úÖ –ü–æ–∑–∏—Ü–∏–∏ –≤–∏–¥–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç:**
- –ü–æ–∑–∏—Ü–∏–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –≤ PositionRegistry
- PositionManager —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–∑–∏—Ü–∏—è–º–∏
- ExitAnalyzer –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–∑–∏—Ü–∏–∏
- TrailingStopLoss –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω

### **‚ö†Ô∏è OCO –æ—Ä–¥–µ—Ä–∞ –Ω–µ —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è:**
- –ü—Ä–∏ `order_type="limit"` OCO –Ω–µ —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ù–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è OCO –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏
- TP/SL —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `_check_tp_only` –∏ ExitAnalyzer, –Ω–æ –Ω–µ —á–µ—Ä–µ–∑ OCO –æ—Ä–¥–µ—Ä–∞

### **üìä –¢–µ–∫—É—â–µ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ TP/SL:**
- **TrailingStopLoss:** –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π
- **ExitAnalyzer:** –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–∑–∏—Ü–∏–∏ –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è –æ –∑–∞–∫—Ä—ã—Ç–∏–∏
- **PositionManager:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç TP/SL —á–µ—Ä–µ–∑ `_check_tp_only`

**–í—ã–≤–æ–¥:** –ü–æ–∑–∏—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –Ω–æ OCO –æ—Ä–¥–µ—Ä–∞ –Ω–µ —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ª–∏–º–∏—Ç–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤. TP/SL —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –¥—Ä—É–≥–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã (TrailingStopLoss, ExitAnalyzer).


