# üéØ –ò–¢–û–ì–û–í–´–ô –ê–ù–ê–õ–ò–ó –ó–ê–•–ê–†–î–ö–û–ñ–ï–ù–ù–´–• –ü–ê–†–ê–ú–ï–¢–†–û–í

**–î–∞—Ç–∞:** 2025-11-12  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–û–õ–ù–´–ô –ê–£–î–ò–¢ –ó–ê–í–ï–†–®–ï–ù

---

## üìä –í–´–í–û–î–´ –ü–û –°–ò–°–¢–ï–ú–ê–ú

### ‚úÖ Balance Profiles - –†–ê–ë–û–¢–ê–ï–¢ –ü–†–ê–í–ò–õ–¨–ù–û

**–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±–µ—Ä—É—Ç—Å—è –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞: `min_balance`, `size_at_min`, `size_at_max`, `progressive`
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –î–ª—è –±–∞–ª–∞–Ω—Å–∞ $1053 (small –ø—Ä–æ—Ñ–∏–ª—å):
  - `min_balance: 500.0`, `size_at_min: 50.0`
  - `threshold: 1500.0`, `size_at_max: 150.0`
  - –ü—Ä–æ–≥—Ä–µ—Å—Å: `(1053 - 500) / (1500 - 500) = 553 / 1000 = 0.553`
  - **–†–∞—Å—á–µ—Ç–Ω—ã–π —Ä–∞–∑–º–µ—Ä: `50.0 + (150.0 - 50.0) * 0.553 = 105.3 USD`** ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:**
- ‚ùå –ù–æ –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –º—ã –≤–∏–¥–∏–º $50-60 –Ω–∞ –ø–æ–∑–∏—Ü–∏—é!
- ‚ùå –ó–Ω–∞—á–∏—Ç –ø—Ä–æ–±–ª–µ–º–∞ –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ - –ø–æ—Å–ª–µ —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞–∑–º–µ—Ä–∞ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è!

---

### ‚úÖ Adaptive Regime Manager (ARM) - –†–ê–ë–û–¢–ê–ï–¢ –ü–†–ê–í–ò–õ–¨–ù–û

**–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±–µ—Ä—É—Ç—Å—è –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞: `adaptive_regime.trending.min_score_threshold: 1.5`
- ‚úÖ –†–µ–∂–∏–º—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ: `trending`, `ranging`, `choppy`
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

### –ü—Ä–æ–±–ª–µ–º–∞ #1: –ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ü–û–°–õ–ï —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞–∑–º–µ—Ä–∞

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. ‚úÖ Balance Profiles —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: **$105.3 USD** (–¥–ª—è –±–∞–ª–∞–Ω—Å–∞ $1053)
2. ‚ùå –ù–æ –ø–æ—Ç–æ–º –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
   - `max_loss_per_trade = 0.02` (2%) ‚Üí –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –¥–æ ~$21 –º–∞—Ä–∂–∏
   - `max_margin_percent = 0.80` (80%) ‚Üí –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –¥–æ ~$842 –º–∞—Ä–∂–∏
   - `min_usd_size = base_usd_size * 0.5` (50%) ‚Üí –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –¥–æ $50
   - `max_usd_size = base_usd_size * 2.0` (200%) ‚Üí –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –¥–æ $200
   - `strength_multiplier = 0.5, 0.8, 1.0, 1.2, 1.5` ‚Üí –∏–∑–º–µ–Ω—è–µ—Ç —Ä–∞–∑–º–µ—Ä
   - `balance * 0.9` (90%) ‚Üí –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –¥–æ ~$947 –º–∞—Ä–∂–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚ùå –†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è —Å $105.3 –¥–æ $50-60
- ‚ùå –ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Ä–∞—Å—á–µ—Ç –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞!

---

### –ü—Ä–æ–±–ª–µ–º–∞ #2: –ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∏—Å–∫–∞

**–ß—Ç–æ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–æ:**
- ‚ùå `max_loss_per_trade = 0.02` (2%) - –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–æ
- ‚ùå `max_margin_percent = 0.80` (80%) - –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–æ
- ‚ùå `max_drawdown_percent = 0.05` (5%) - –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–æ

**–í–ª–∏—è–Ω–∏–µ:**
- ‚ùå –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∏—Å–∫–∞ –Ω–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥
- ‚ùå –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

### –ü—Ä–æ–±–ª–µ–º–∞ #3: –ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –º–Ω–æ–∂–∏—Ç–µ–ª–∏ —Å–∏–ª—ã —Å–∏–≥–Ω–∞–ª–∞

**–ß—Ç–æ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–æ:**
- ‚ùå `strength_multiplier = 0.5` (–∫–æ–Ω—Ñ–ª–∏–∫—Ç: 50%)
- ‚ùå `strength_multiplier = 1.5` (—Å–∏–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª: 150%)
- ‚ùå `strength_multiplier = 1.2` (—Ö–æ—Ä–æ—à–∏–π —Å–∏–≥–Ω–∞–ª: 120%)
- ‚ùå `strength_multiplier = 1.0` (—Å—Ä–µ–¥–Ω–∏–π —Å–∏–≥–Ω–∞–ª: 100%)
- ‚ùå `strength_multiplier = 0.8` (—Å–ª–∞–±—ã–π —Å–∏–≥–Ω–∞–ª: 80%)
- ‚ùå –ü–æ—Ä–æ–≥–∏: `0.8, 0.6, 0.4` (–∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã)

**–í–ª–∏—è–Ω–∏–µ:**
- ‚ùå –ú–Ω–æ–∂–∏—Ç–µ–ª–∏ —Å–∏–ª—ã —Å–∏–≥–Ω–∞–ª–∞ –Ω–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥
- ‚ùå –ò–∑–º–µ–Ω—è—é—Ç —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

### –ü—Ä–æ–±–ª–µ–º–∞ #4: –ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ fallback –∑–Ω–∞—á–µ–Ω–∏—è

**–ß—Ç–æ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–æ:**
- ‚ùå `min_usd_size = base_usd_size * 0.5` (50% –æ—Ç base) - fallback
- ‚ùå `max_usd_size = base_usd_size * 2.0` (200% –æ—Ç base) - fallback
- ‚ùå `max_open_positions = 2` - fallback
- ‚ùå `max_position_percent = 8.0` - fallback

**–í–ª–∏—è–Ω–∏–µ:**
- ‚ö†Ô∏è Fallback –∑–Ω–∞—á–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ –≤ –∫–æ–Ω—Ñ–∏–≥–µ
- ‚ùå –ù–æ –≤ –∫–æ–Ω—Ñ–∏–≥–µ —É–∫–∞–∑–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –∞ fallback –≤—Å–µ —Ä–∞–≤–Ω–æ –º–æ–∂–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è!

---

### –ü—Ä–æ–±–ª–µ–º–∞ #5: –ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ–≤–µ—Ä–æ–∫

**–ß—Ç–æ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–æ:**
- ‚ùå `time_since_order < 30` (30 —Å–µ–∫—É–Ω–¥) - –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–æ
- ‚ùå `balance < 20.0` ($20) - –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–æ
- ‚ùå `margin_required > balance * 0.9` (90%) - –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–æ

**–í–ª–∏—è–Ω–∏–µ:**
- ‚ùå –ü–æ—Ä–æ–≥–∏ –ø—Ä–æ–≤–µ—Ä–æ–∫ –Ω–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥

---

## üí° –†–ï–®–ï–ù–ò–Ø

### –†–µ—à–µ–Ω–∏–µ #1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ä–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ü–û–°–õ–ï —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞–∑–º–µ—Ä–∞ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. ‚úÖ –£–±—Ä–∞—Ç—å –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏–∑ —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞–∑–º–µ—Ä–∞
2. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
3. ‚úÖ –£–±—Ä–∞—Ç—å fallback –∑–Ω–∞—á–µ–Ω–∏—è –∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å –∏—Ö –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–º–∏

**–ö–æ–¥:**
```python
# ‚ùå –ë–´–õ–û:
self.max_loss_per_trade = 0.02  # 2% –º–∞–∫—Å –ø–æ—Ç–µ—Ä—è –Ω–∞ —Å–¥–µ–ª–∫—É
self.max_margin_percent = 0.80  # 80% –º–∞–∫—Å –º–∞—Ä–∂–∞
self.max_drawdown_percent = 0.05  # 5% –º–∞–∫—Å –ø—Ä–æ—Å–∞–¥–∫–∞

# ‚úÖ –°–¢–ê–ù–ï–¢:
self.max_loss_per_trade = getattr(risk_config, "max_loss_per_trade_percent", 2.0) / 100.0
self.max_margin_percent = getattr(risk_config, "max_margin_percent", 80.0) / 100.0
self.max_drawdown_percent = getattr(risk_config, "max_drawdown_percent", 5.0) / 100.0
```

---

### –†–µ—à–µ–Ω–∏–µ #2: –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –∫–æ–Ω—Ñ–∏–≥

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∏—Å–∫–∞ –Ω–µ –≤ –∫–æ–Ω—Ñ–∏–≥–µ

**–†–µ—à–µ–Ω–∏–µ:**
1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∏—Å–∫–∞ –≤ –∫–æ–Ω—Ñ–∏–≥
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–∞—Ä–∂–∏ –≤ –∫–æ–Ω—Ñ–∏–≥
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Ñ–∏–≥
4. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã strength multipliers –≤ –∫–æ–Ω—Ñ–∏–≥
5. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ–≤–µ—Ä–æ–∫ –≤ –∫–æ–Ω—Ñ–∏–≥

**–ö–æ–Ω—Ñ–∏–≥:**
```yaml
risk:
  max_loss_per_trade_percent: 2.0  # 2% –º–∞–∫—Å –ø–æ—Ç–µ—Ä—è –Ω–∞ —Å–¥–µ–ª–∫—É
  max_margin_percent: 80.0  # 80% –º–∞–∫—Å –º–∞—Ä–∂–∞
  max_drawdown_percent: 5.0  # 5% –º–∞–∫—Å –ø—Ä–æ—Å–∞–¥–∫–∞
  risk_per_trade_percent: 1.5  # –†–∏—Å–∫ –Ω–∞ —Å–¥–µ–ª–∫—É (—É–∂–µ –µ—Å—Ç—å)
  max_margin_safety_percent: 90.0  # 90% –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (—Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)

scalping:
  positions_sync_interval_min: 15.0  # –ú–∏–Ω–∏–º—É–º 15 —Å–µ–∫—É–Ω–¥
  positions_sync_interval_multiplier: 3.0  # –ú–Ω–æ–∂–∏—Ç–µ–ª—å (check_interval * multiplier)
  min_time_between_orders_seconds: 30  # –ú–∏–Ω–∏–º—É–º 30 —Å–µ–∫—É–Ω–¥ –º–µ–∂–¥—É –æ—Ä–¥–µ—Ä–∞–º–∏
  min_balance_usd: 20.0  # –ú–∏–Ω–∏–º—É–º $20 –±–∞–ª–∞–Ω—Å–∞
  position_override_tolerance_percent: 50.0  # 50% —Ä–∞–∑–Ω–∏—Ü–∞ –¥–ª—è –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è override
  
  signal_strength:
    conflict_multiplier: 0.5  # –ö–æ–Ω—Ñ–ª–∏–∫—Ç: 50%
    very_strong_multiplier: 1.5  # –°–∏–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª: 150%
    strong_multiplier: 1.2  # –•–æ—Ä–æ—à–∏–π —Å–∏–≥–Ω–∞–ª: 120%
    medium_multiplier: 1.0  # –°—Ä–µ–¥–Ω–∏–π —Å–∏–≥–Ω–∞–ª: 100%
    weak_multiplier: 0.8  # –°–ª–∞–±—ã–π —Å–∏–≥–Ω–∞–ª: 80%
    thresholds:
      very_strong: 0.8  # –ü–æ—Ä–æ–≥ –¥–ª—è —Å–∏–ª—å–Ω–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞
      strong: 0.6  # –ü–æ—Ä–æ–≥ –¥–ª—è —Ö–æ—Ä–æ—à–µ–≥–æ —Å–∏–≥–Ω–∞–ª–∞
      medium: 0.4  # –ü–æ—Ä–æ–≥ –¥–ª—è —Å—Ä–µ–¥–Ω–µ–≥–æ —Å–∏–≥–Ω–∞–ª–∞

futures_modules:
  margin:
    maintenance_margin_ratio: 0.01  # 1%
    initial_margin_ratio: 0.1  # 10%
  funding_rate:
    max_funding_rate: 0.05  # 0.05%
  adx:
    period: 9  # –ü–µ—Ä–∏–æ–¥ ADX
    threshold: 20.0  # –ü–æ—Ä–æ–≥ ADX
```

---

### –†–µ—à–µ–Ω–∏–µ #3: –£–±—Ä–∞—Ç—å fallback –∑–Ω–∞—á–µ–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:** Fallback –∑–Ω–∞—á–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–∞–∂–µ –µ—Å–ª–∏ –≤ –∫–æ–Ω—Ñ–∏–≥–µ —É–∫–∞–∑–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
1. ‚úÖ –£–±—Ä–∞—Ç—å fallback –∑–Ω–∞—á–µ–Ω–∏—è –∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å –∏—Ö –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–º–∏
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
3. ‚úÖ –í—ã–¥–∞–≤–∞—Ç—å –æ—à–∏–±–∫—É –µ—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ —É–∫–∞–∑–∞–Ω—ã –≤ –∫–æ–Ω—Ñ–∏–≥–µ

**–ö–æ–¥:**
```python
# ‚ùå –ë–´–õ–û:
if min_usd_size is None or min_usd_size <= 0:
    min_usd_size = base_usd_size * 0.5  # 50% –æ—Ç base (fallback)

# ‚úÖ –°–¢–ê–ù–ï–¢:
if min_usd_size is None or min_usd_size <= 0:
    logger.error(f"‚ùå min_position_usd –Ω–µ —É–∫–∞–∑–∞–Ω –≤ –∫–æ–Ω—Ñ–∏–≥–µ –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è {profile_name}!")
    raise ValueError(f"min_position_usd –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–∫–∞–∑–∞–Ω –≤ –∫–æ–Ω—Ñ–∏–≥–µ –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è {profile_name}")
```

---

## üìä –ò–°–°–õ–ï–î–û–í–ê–ù–ò–ï –û–ü–¢–ò–ú–ê–õ–¨–ù–´–• –ó–ù–ê–ß–ï–ù–ò–ô

### –í–æ–ø—Ä–æ—Å #1: –ü–æ—á–µ–º—É —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ $50-60 –≤–º–µ—Å—Ç–æ $100-150?

**–ê–Ω–∞–ª–∏–∑:**
1. ‚úÖ Balance Profiles —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: **$105.3 USD** (–¥–ª—è –±–∞–ª–∞–Ω—Å–∞ $1053)
2. ‚ùå –ù–æ –ø–æ—Ç–æ–º –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
   - `max_loss_per_trade = 0.02` (2%) ‚Üí `max_loss = $1053 * 0.02 = $21.06`
   - `sl_percent = 1.5%` ‚Üí `max_safe_margin = $21.06 / 0.015 = $1404` (—ç—Ç–æ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç)
   - `max_margin_percent = 0.80` (80%) ‚Üí `max_margin = $1053 * 0.80 = $842.4` (—ç—Ç–æ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç)
   - `strength_multiplier = 0.5-1.5` ‚Üí –º–æ–∂–µ—Ç —É–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä –¥–æ 50% = $52.65
   - `min_usd_size = base_usd_size * 0.5` (50%) ‚Üí –º–æ–∂–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ $50

**–í—ã–≤–æ–¥:**
- ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ –≤ `strength_multiplier` –∏–ª–∏ `min_usd_size` fallback!
- ‚ùå –ï—Å–ª–∏ `strength_multiplier = 0.5` (–∫–æ–Ω—Ñ–ª–∏–∫—Ç), —Ä–∞–∑–º–µ—Ä —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –¥–æ $52.65
- ‚ùå –ï—Å–ª–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è `min_usd_size = base_usd_size * 0.5`, —Ä–∞–∑–º–µ—Ä –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç—Å—è –¥–æ $50

---

### –í–æ–ø—Ä–æ—Å #2: –ö–∞–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è `max_loss_per_trade_percent` –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã?

**–¢–µ–∫—É—â–µ–µ:** 2.0% (–∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–æ)  
**–í –∫–æ–Ω—Ñ–∏–≥–µ:** `risk_per_trade_percent: 1.5%`

**–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:**
- **–î–ª—è –≤—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω–æ–≥–æ —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞:** 1.0-2.0% (–º–µ–Ω—å—à–µ —Ä–∏—Å–∫ –Ω–∞ —Å–¥–µ–ª–∫—É)
- **–î–ª—è –æ–±—ã—á–Ω–æ–≥–æ —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞:** 2.0-3.0% (–±–æ–ª—å—à–µ —Ä–∏—Å–∫ –Ω–∞ —Å–¥–µ–ª–∫—É)
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** 1.5-2.0% (–±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Ä–∏—Å–∫–æ–º –∏ –ø—Ä–∏–±—ã–ª—å—é)

---

### –í–æ–ø—Ä–æ—Å #3: –ö–∞–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è `max_margin_percent` –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã?

**–¢–µ–∫—É—â–µ–µ:** 80.0% (–∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–æ)

**–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:**
- **–î–ª—è –≤—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω–æ–≥–æ —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞:** 70-80% (–º–µ–Ω—å—à–µ –º–∞—Ä–∂–∏, –±–æ–ª—å—à–µ —Ä–µ–∑–µ—Ä–≤)
- **–î–ª—è –æ–±—ã—á–Ω–æ–≥–æ —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞:** 80-90% (–±–æ–ª—å—à–µ –º–∞—Ä–∂–∏, –º–µ–Ω—å—à–µ —Ä–µ–∑–µ—Ä–≤)
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** 80-85% (–±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–∞—Ä–∂–∏ –∏ —Ä–µ–∑–µ—Ä–≤–æ–º)

---

### –í–æ–ø—Ä–æ—Å #4: –ö–∞–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è `strength_multipliers` –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã?

**–¢–µ–∫—É—â–µ–µ:** 0.5, 1.5, 1.2, 1.0, 0.8 (–∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã)

**–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:**
- **–î–ª—è –≤—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω–æ–≥–æ —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞:** –ú–µ–Ω—å—à–µ —Ä–∞–∑–±—Ä–æ—Å (0.8-1.2), –±–æ–ª—å—à–µ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
- **–î–ª—è –æ–±—ã—á–Ω–æ–≥–æ —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞:** –ë–æ–ª—å—à–µ —Ä–∞–∑–±—Ä–æ—Å (0.5-1.5), –±–æ–ª—å—à–µ –∞–¥–∞–ø—Ç–∞—Ü–∏—è
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** 0.9-1.3 (–º–µ–Ω—å—à–µ —Ä–∞–∑–±—Ä–æ—Å, –±–æ–ª—å—à–µ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å)

---

### –í–æ–ø—Ä–æ—Å #5: –ö–∞–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è `positions_sync_interval` –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã?

**–¢–µ–∫—É—â–µ–µ:** `max(15.0, check_interval * 3)` (–∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–æ)

**–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:**
- **–î–ª—è –≤—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω–æ–≥–æ —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞:** 5-10 —Å–µ–∫—É–Ω–¥ (—á–∞—â–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è)
- **–î–ª—è –æ–±—ã—á–Ω–æ–≥–æ —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞:** 15-30 —Å–µ–∫—É–Ω–¥ (—Ä–µ–∂–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è)
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** 5-10 —Å–µ–∫—É–Ω–¥ (–¥–ª—è –≤—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω–æ–≥–æ —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞)

---

## üéØ –ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

### –ù–µ–¥–µ–ª—è 1: –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –∫–æ–Ω—Ñ–∏–≥
1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∏—Å–∫–∞ –≤ –∫–æ–Ω—Ñ–∏–≥
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–∞—Ä–∂–∏ –≤ –∫–æ–Ω—Ñ–∏–≥
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Ñ–∏–≥
4. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã strength multipliers –≤ –∫–æ–Ω—Ñ–∏–≥
5. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ–≤–µ—Ä–æ–∫ –≤ –∫–æ–Ω—Ñ–∏–≥

### –ù–µ–¥–µ–ª—è 2: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥
6. ‚úÖ –ó–∞–º–µ–Ω–∏—Ç—å –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ —á—Ç–µ–Ω–∏–µ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
7. ‚úÖ –£–±—Ä–∞—Ç—å fallback –∑–Ω–∞—á–µ–Ω–∏—è –∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å –∏—Ö –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–º–∏
8. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
9. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ä–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ (—É–±—Ä–∞—Ç—å –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)

### –ù–µ–¥–µ–ª—è 3: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
10. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
11. ‚úÖ –í—ã–±—Ä–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
12. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥ —Å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

---

## üìù –í–´–í–û–î–´

### –ì–ª–∞–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. **–ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ü–û–°–õ–ï —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞–∑–º–µ—Ä–∞** - –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Ä–∞—Å—á–µ—Ç –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
2. **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∏—Å–∫–∞ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã** - –Ω–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥
3. **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã strength multipliers –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã** - –Ω–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥
4. **Fallback –∑–Ω–∞—á–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–∞–∂–µ –µ—Å–ª–∏ –≤ –∫–æ–Ω—Ñ–∏–≥–µ —É–∫–∞–∑–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è** - –º–æ–≥—É—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
1. ‚úÖ Balance Profiles - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞, –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
2. ‚úÖ Adaptive Regime Manager (ARM) - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞, —Ä–µ–∂–∏–º—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. ‚úÖ Leverage - –ø–∞—Ä–∞–º–µ—Ç—Ä –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
4. ‚úÖ TP/SL - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞

### –†–µ—à–µ–Ω–∏—è:
1. **–î–æ–±–∞–≤–∏—Ç—å –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –∫–æ–Ω—Ñ–∏–≥** - —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å
2. **–ó–∞–º–µ–Ω–∏—Ç—å –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ —á—Ç–µ–Ω–∏–µ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞** - —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
3. **–£–±—Ä–∞—Ç—å fallback –∑–Ω–∞—á–µ–Ω–∏—è** - —á—Ç–æ–±—ã –∫–æ–Ω—Ñ–∏–≥ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è
4. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ä–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏** - —É–±—Ä–∞—Ç—å –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ü–û–°–õ–ï —Ä–∞—Å—á–µ—Ç–∞

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-12  
**–°—Ç–∞—Ç—É—Å:** üìã –ì–û–¢–û–í –ö –ò–°–ü–†–ê–í–õ–ï–ù–ò–Æ

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –∫–æ–Ω—Ñ–∏–≥
2. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ –¥–ª—è —á—Ç–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
3. –£–±—Ä–∞—Ç—å fallback –∑–Ω–∞—á–µ–Ω–∏—è
4. –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ä–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏
5. –ü—Ä–æ–≤–µ—Å—Ç–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
6. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥ —Å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

