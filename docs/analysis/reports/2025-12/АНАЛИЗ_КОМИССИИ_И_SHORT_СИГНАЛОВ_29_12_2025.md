# –ê–ù–ê–õ–ò–ó –ö–û–ú–ò–°–°–ò–ò –ü–†–ò –ß–ê–°–¢–ò–ß–ù–û–ú –ó–ê–ö–†–´–¢–ò–ò –ò SHORT –°–ò–ì–ù–ê–õ–û–í (29.12.2025)

**–î–∞—Ç–∞:** 29.12.2025  
**–°—Ç–∞—Ç—É—Å:** –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω

---

## üö® –í–û–ü–†–û–° 1: –ö–û–ú–ò–°–°–ò–Ø –ü–†–ò –ß–ê–°–¢–ò–ß–ù–û–ú –ó–ê–ö–†–´–¢–ò–ò

### ‚ùì –í–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

> "–° —á–µ–≥–æ —ç—Ç–æ –æ–Ω–∞ —É–ø–ª–∞—á–µ–Ω–∞? –û–Ω–∞ —É–∫–∞–∑–∞–Ω–∞ —á—Ç–æ –∑–∞ –æ—Ç–∫—Ä—ã—Ç–∏–µ 0.12 –∏ —Ç—Ä–µ–π–¥–µ—Ä –ø–æ –∏–¥–µ–µ –ø–æ–Ω–∏–º–∞–µ—Ç —á—Ç–æ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Ç–æ–∂–µ 0.12 –≤ –ø–ª—é—Å –ø–æ—ç—Ç–æ–º—É –∏ 0.24 –≤—ã—á–µ—Ç–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏. –ü—Ä–∏ —á–∞—Å—Ç–∏—á–Ω–æ–º –∑–∞–∫—Ä—ã—Ç–∏–∏ –≤–æ–æ–±—â–µ –º—ã –≤—Å–µ –º–Ω–æ–∂–∏–º –∫–∞–∫ —Ç–æ, —Å–º—ã—Å–ª –Ω–∞–º –µ—Å—Ç—å –≤–æ–æ–±—â–µ –æ—Ç —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è?"

---

## üìä –ê–ù–ê–õ–ò–ó –õ–û–ì–ò–ö–ò –ö–û–ú–ò–°–°–ò–ò

### –¢–µ–∫—É—â–∏–π –∫–æ–¥ (position_manager.py:6651-6654):

```python
# –ö–æ–º–∏—Å—Å–∏—è –∑–∞ –≤—Ö–æ–¥ + –≤—ã—Ö–æ–¥ –¥–ª—è —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è
partial_commission = (
    close_size_coins * current_price * commission_rate * 2
)
```

### –ü—Ä–æ–±–ª–µ–º–∞ –≤ –ø–æ–Ω–∏–º–∞–Ω–∏–∏:

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∞–≤ —á–∞—Å—Ç–∏—á–Ω–æ**, –Ω–æ –µ—Å—Ç—å –Ω—é–∞–Ω—Å:

1. **–ö–æ–º–∏—Å—Å–∏—è –∑–∞ –≤—Ö–æ–¥** —É–∂–µ –±—ã–ª–∞ —É–ø–ª–∞—á–µ–Ω–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ **–≤—Å–µ–π –ø–æ–∑–∏—Ü–∏–∏** (0.28 –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤)
2. –ü—Ä–∏ —á–∞—Å—Ç–∏—á–Ω–æ–º –∑–∞–∫—Ä—ã—Ç–∏–∏ (0.14 –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ = 50%) –º—ã –∑–∞–∫—Ä—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ **—á–∞—Å—Ç—å** –ø–æ–∑–∏—Ü–∏–∏
3. –ö–æ–º–∏—Å—Å–∏—è –∑–∞ –≤—ã—Ö–æ–¥ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –∑–∞ **–∑–∞–∫—Ä—ã–≤–∞–µ–º—É—é —á–∞—Å—Ç—å**
4. –ù–æ –∫–æ–º–∏—Å—Å–∏—è –∑–∞ –≤—Ö–æ–¥ —É–∂–µ –±—ã–ª–∞ —É–ø–ª–∞—á–µ–Ω–∞ –∑–∞ **–≤—Å—é –ø–æ–∑–∏—Ü–∏—é**, –∞ –Ω–µ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

---

## üîç –ü–†–ê–í–ò–õ–¨–ù–´–ô –†–ê–°–ß–ï–¢ –ö–û–ú–ò–°–°–ò–ò

### –í–∞—Ä–∏–∞–Ω—Ç 1: –£—á–µ—Ç —Ç–æ–ª—å–∫–æ –∫–æ–º–∏—Å—Å–∏–∏ –∑–∞ –≤—ã—Ö–æ–¥ (—Ç–µ–∫—É—â–∏–π –∞–Ω–∞–ª–∏–∑)

**–õ–æ–≥–∏–∫–∞:**
- –ö–æ–º–∏—Å—Å–∏—è –∑–∞ –≤—Ö–æ–¥ —É–∂–µ —É–ø–ª–∞—á–µ–Ω–∞ –∑–∞ –≤—Å—é –ø–æ–∑–∏—Ü–∏—é –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
- –ü—Ä–∏ —á–∞—Å—Ç–∏—á–Ω–æ–º –∑–∞–∫—Ä—ã—Ç–∏–∏ –Ω—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∫–æ–º–∏—Å—Å–∏—é –∑–∞ –≤—ã—Ö–æ–¥

**–†–∞—Å—á–µ—Ç:**
```python
# –¢–æ–ª—å–∫–æ –∫–æ–º–∏—Å—Å–∏—è –∑–∞ –≤—ã—Ö–æ–¥
partial_commission = close_size_coins * current_price * commission_rate
```

**–ü—Ä–∏–º–µ—Ä:**
- `close_size_coins = 0.0014 BTC`
- `current_price = 89083.20 USDT`
- `commission_rate = 0.001` (0.1%)
- `partial_commission = 0.0014 * 89083.20 * 0.001 = $0.12`

**Net PnL:**
- `gross_pnl = $0.16`
- `commission = $0.12`
- `net_pnl = $0.16 - $0.12 = $0.04` ‚úÖ **–ü–†–ò–ë–´–õ–¨!**

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è –∑–∞ –≤—Ö–æ–¥ + –≤—ã—Ö–æ–¥ (–ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

**–õ–æ–≥–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
- –ü—Ä–∏ —á–∞—Å—Ç–∏—á–Ω–æ–º –∑–∞–∫—Ä—ã—Ç–∏–∏ –Ω—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –∫–æ–º–∏—Å—Å–∏—é –∑–∞ –≤—Ö–æ–¥ –¥–ª—è –∑–∞–∫—Ä—ã–≤–∞–µ–º–æ–π —á–∞—Å—Ç–∏
- –ü–ª—é—Å –∫–æ–º–∏—Å—Å–∏—é –∑–∞ –≤—ã—Ö–æ–¥ –¥–ª—è –∑–∞–∫—Ä—ã–≤–∞–µ–º–æ–π —á–∞—Å—Ç–∏

**–†–∞—Å—á–µ—Ç:**
```python
# –ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è –∑–∞ –≤—Ö–æ–¥ –¥–ª—è –∑–∞–∫—Ä—ã–≤–∞–µ–º–æ–π —á–∞—Å—Ç–∏
entry_commission_proportional = (
    (close_size_coins / total_size_coins) * 
    total_size_coins * entry_price * commission_rate
)

# –ö–æ–º–∏—Å—Å–∏—è –∑–∞ –≤—ã—Ö–æ–¥ –¥–ª—è –∑–∞–∫—Ä—ã–≤–∞–µ–º–æ–π —á–∞—Å—Ç–∏
exit_commission = close_size_coins * current_price * commission_rate

# –ò—Ç–æ–≥–æ
partial_commission = entry_commission_proportional + exit_commission
```

**–ü—Ä–∏–º–µ—Ä:**
- `total_size_coins = 0.0028 BTC` (–≤—Å—è –ø–æ–∑–∏—Ü–∏—è)
- `close_size_coins = 0.0014 BTC` (50% –ø–æ–∑–∏—Ü–∏–∏)
- `entry_price = 88964.30 USDT`
- `current_price = 89083.20 USDT`
- `commission_rate = 0.001` (0.1%)

**–†–∞—Å—á–µ—Ç:**
```python
# –ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è –∑–∞ –≤—Ö–æ–¥
entry_commission_proportional = (0.0014 / 0.0028) * 0.0028 * 88964.30 * 0.001
entry_commission_proportional = 0.5 * 0.0028 * 88964.30 * 0.001
entry_commission_proportional = 0.5 * 0.2491
entry_commission_proportional = $0.1246

# –ö–æ–º–∏—Å—Å–∏—è –∑–∞ –≤—ã—Ö–æ–¥
exit_commission = 0.0014 * 89083.20 * 0.001
exit_commission = $0.1247

# –ò—Ç–æ–≥–æ
partial_commission = $0.1246 + $0.1247 = $0.2493 ‚âà $0.25
```

**Net PnL:**
- `gross_pnl = $0.16`
- `commission = $0.25`
- `net_pnl = $0.16 - $0.25 = $-0.09` ‚ùå **–£–ë–´–¢–û–ö!**

---

## üí° –í–´–í–û–î –ü–û –ö–û–ú–ò–°–°–ò–ò

### –ü–æ—á–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∞–≤:

**–ü—Ä–∏ —á–∞—Å—Ç–∏—á–Ω–æ–º –∑–∞–∫—Ä—ã—Ç–∏–∏ –Ω—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –∫–æ–º–∏—Å—Å–∏—é –∑–∞ –≤—Ö–æ–¥**, –ø–æ—Ç–æ–º—É —á—Ç–æ:

1. –ö–æ–º–∏—Å—Å–∏—è –∑–∞ –≤—Ö–æ–¥ –±—ã–ª–∞ —É–ø–ª–∞—á–µ–Ω–∞ –∑–∞ –≤—Å—é –ø–æ–∑–∏—Ü–∏—é –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
2. –ü—Ä–∏ —á–∞—Å—Ç–∏—á–Ω–æ–º –∑–∞–∫—Ä—ã—Ç–∏–∏ –º—ã "–∑–∞–∫—Ä—ã–≤–∞–µ–º" —á–∞—Å—Ç—å –ø–æ–∑–∏—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è —É–∂–µ –∏–º–µ–ª–∞ –∫–æ–º–∏—Å—Å–∏—é –∑–∞ –≤—Ö–æ–¥
3. –ü–æ—ç—Ç–æ–º—É –Ω—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –∫–æ–º–∏—Å—Å–∏—é –∑–∞ –≤—Ö–æ–¥ –¥–ª—è –∑–∞–∫—Ä—ã–≤–∞–µ–º–æ–π —á–∞—Å—Ç–∏

### –ü–æ—á–µ–º—É —á–∞—Å—Ç–∏—á–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ —Ä–∞–≤–Ω–æ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª:

**–ß–∞—Å—Ç–∏—á–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª**, –µ—Å–ª–∏:

1. **–ü—Ä–∏–±—ã–ª—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–∞—è** –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–º–∏—Å—Å–∏–π
2. **–°–Ω–∏–∂–µ–Ω–∏–µ —Ä–∏—Å–∫–∞** - –∑–∞–∫—Ä—ã–≤–∞–µ–º —á–∞—Å—Ç—å –ø–æ–∑–∏—Ü–∏–∏, –æ—Å—Ç–∞–≤–ª—è—è –æ—Å—Ç–∞—Ç–æ–∫ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–æ—Å—Ç–∞
3. **Lock-in –ø—Ä–∏–±—ã–ª–∏** - —Ñ–∏–∫—Å–∏—Ä—É–µ–º —á–∞—Å—Ç—å –ø—Ä–∏–±—ã–ª–∏, –Ω–µ –¥–æ–∂–∏–¥–∞—è—Å—å –ø–æ–ª–Ω–æ–≥–æ TP

**–ü—Ä–∏–º–µ—Ä:**
- –ï—Å–ª–∏ `gross_pnl = $1.00` (–≤–º–µ—Å—Ç–æ $0.16)
- `commission = $0.25`
- `net_pnl = $1.00 - $0.25 = $0.75` ‚úÖ **–ü–†–ò–ë–´–õ–¨!**

**–í—ã–≤–æ–¥:** –ß–∞—Å—Ç–∏—á–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª —Ç–æ–ª—å–∫–æ –ø—Ä–∏ **–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–æ–π –ø—Ä–∏–±—ã–ª–∏** –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–º–∏—Å—Å–∏–π.

---

## üö® –í–û–ü–†–û–° 2: –ü–û–ß–ï–ú–£ –ë–û–¢ –ù–ï –û–¢–ö–†–´–í–ê–ï–¢ SHORT –ü–û–ó–ò–¶–ò–ò?

### ‚ùì –í–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

> "–ò –ø–æ—á–µ–º—É –±–æ—Ç –Ω–µ –≤–∑—è–ª —Ç–æ–≥–¥–∞ –ø–æ –±–∏—Ç–∫—É –µ—â–µ –ø–æ–∑–∏—Ü–∏—é –Ω–∞ —à–æ—Ä—Ç –µ—Å–ª–∏ —Ç—Ä–µ–Ω–¥ –∏–¥–µ—Ç –ø–æ–¥ —à–æ—Ä—Ç? –ò–ª–∏ —É –Ω–∞—Å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ –ª–æ–Ω–≥ —Ç–æ–ª—å–∫–æ? –ú—ã –±—ã –Ω–∞ —à–æ—Ä—Ç–µ —Å–µ–π—á–∞—Å —Å–º–æ–≥–ª–∏ –±—ã —Ç–æ–∂–µ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å"

---

## üîç –ê–ù–ê–õ–ò–ó SHORT –°–ò–ì–ù–ê–õ–û–í

### –ò–∑ –ª–æ–≥–æ–≤ (BTC-USDT):

```
2025-12-29 22:41:48.693 | DEBUG | üìä ADX —Ç—Ä–µ–Ω–¥ –¥–ª—è ETH-USDT: bearish, ADX=98.1, +DI=1.1, -DI=98.9
2025-12-29 22:41:48.701 | INFO  | üìä ETH-USDT: –ù–µ—Ç —Å–∏–≥–Ω–∞–ª–æ–≤ –æ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤. ADX=98.1 (bearish), RSI=48.68, MACD=1.25
```

**–ù–∞–±–ª—é–¥–µ–Ω–∏—è:**
- ADX –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **bearish** —Ç—Ä–µ–Ω–¥ (ADX=98.1, -DI=98.9 > +DI=1.1)
- RSI=48.68 (–Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π, –Ω–µ overbought/oversold)
- MACD=1.25 (bullish, –Ω–æ —Å–ª–∞–±—ã–π)

---

## üîç –ü–†–ò–ß–ò–ù–´ –û–¢–°–£–¢–°–¢–í–ò–Ø SHORT –°–ò–ì–ù–ê–õ–û–í

### 1. RSI –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç SHORT —Å–∏–≥–Ω–∞–ª—ã

**–ö–æ–¥ (signal_generator.py:3201-3284):**

```python
elif rsi > rsi_overbought:
    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç SELL —Å–∏–≥–Ω–∞–ª (SHORT)
    signals.append({
        "symbol": symbol,
        "side": "sell",
        "type": "rsi_overbought",
        ...
    })
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- RSI=48.68 < overbought=85 (–¥–ª—è ranging —Ä–µ–∂–∏–º–∞)
- RSI –Ω–µ –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω ‚Üí –Ω–µ—Ç SHORT —Å–∏–≥–Ω–∞–ª–∞

**–í—ã–≤–æ–¥:** RSI –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç SHORT —Å–∏–≥–Ω–∞–ª—ã, –ø–æ—Ç–æ–º—É —á—Ç–æ RSI –Ω–µ –¥–æ—Å—Ç–∏–≥ –ø–æ—Ä–æ–≥–∞ overbought.

---

### 2. MACD –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç BEARISH —Å–∏–≥–Ω–∞–ª—ã, –Ω–æ –æ–Ω–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è

**–ò–∑ –ª–æ–≥–æ–≤:**
```
2025-12-29 22:42:01.241 | DEBUG | ‚ö° MACD BEARISH —Å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–º –¥–ª—è BTC-USDT: MACD bearish, –Ω–æ EMA/—Ü–µ–Ω–∞ –Ω–µ bearish, strength —Å–Ω–∏–∂–µ–Ω –Ω–∞ 50.0% (—Å—Ç–∞–ª–æ 0.010)
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- MACD –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç bearish —Å–∏–≥–Ω–∞–ª
- –ù–æ EMA/—Ü–µ–Ω–∞ –Ω–µ bearish ‚Üí strength —Å–Ω–∏–∂–µ–Ω –Ω–∞ 50%
- –°–∏–≥–Ω–∞–ª —Å–ª–∏—à–∫–æ–º —Å–ª–∞–±—ã–π ‚Üí –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç —Ñ–∏–ª—å—Ç—Ä—ã

**–í—ã–≤–æ–¥:** MACD BEARISH —Å–∏–≥–Ω–∞–ª—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è, –Ω–æ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –∏–∑-–∑–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ —Å EMA/—Ü–µ–Ω–æ–π.

---

### 3. ADX —Ñ–∏–ª—å—Ç—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç SHORT —Å–∏–≥–Ω–∞–ª—ã –ø—Ä–æ—Ç–∏–≤ —Ç—Ä–µ–Ω–¥–∞

**–ö–æ–¥ (signal_generator.py:2352-2368):**

```python
if market_direction == "bearish" and signal_side == "LONG":
    # –ë–ª–æ–∫–∏—Ä—É–µ—Ç LONG –ø—Ä–æ—Ç–∏–≤ bearish —Ç—Ä–µ–Ω–¥–∞
    blocked_by_adx["LONG"] += 1
elif market_direction == "bullish" and signal_side == "SHORT":
    # –ë–ª–æ–∫–∏—Ä—É–µ—Ç SHORT –ø—Ä–æ—Ç–∏–≤ bullish —Ç—Ä–µ–Ω–¥–∞
    blocked_by_adx["SHORT"] += 1
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- ADX –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **bearish** —Ç—Ä–µ–Ω–¥
- SHORT —Å–∏–≥–Ω–∞–ª—ã **–ù–ï –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è** –ø—Ä–∏ bearish —Ç—Ä–µ–Ω–¥–µ (—ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!)
- –ù–æ SHORT —Å–∏–≥–Ω–∞–ª—ã **–Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è** –∏–∑-–∑–∞ –¥—Ä—É–≥–∏—Ö –ø—Ä–∏—á–∏–Ω (RSI –Ω–µ overbought, MACD –∫–æ–Ω—Ñ–ª–∏–∫—Ç)

**–í—ã–≤–æ–¥:** ADX —Ñ–∏–ª—å—Ç—Ä **–Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç** SHORT —Å–∏–≥–Ω–∞–ª—ã –ø—Ä–∏ bearish —Ç—Ä–µ–Ω–¥–µ, –Ω–æ —Å–∏–≥–Ω–∞–ª—ã –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∏–∑-–∑–∞ –¥—Ä—É–≥–∏—Ö –ø—Ä–∏—á–∏–Ω.

---

## üîç –ü–û–õ–ù–´–ô –ê–ù–ê–õ–ò–ó: –ü–û–ß–ï–ú–£ SHORT –°–ò–ì–ù–ê–õ–´ –ù–ï –ì–ï–ù–ï–†–ò–†–£–Æ–¢–°–Ø

### –î–∞–Ω–Ω—ã–µ –∏–∑ –ª–æ–≥–æ–≤ (BTC-USDT, 22:43:56):

```
ADX —Ç—Ä–µ–Ω–¥: ranging, ADX=14.0, +DI=40.6, -DI=59.4
RSI overbought=85, oversold=25
RSI=48.68 (–Ω–µ —É–∫–∞–∑–∞–Ω –≤ –ª–æ–≥–∞—Ö, –Ω–æ –º–æ–∂–Ω–æ –≤—ã—á–∏—Å–ª–∏—Ç—å)
MACD BEARISH —Å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–º: strength —Å–Ω–∏–∂–µ–Ω –Ω–∞ 50.0% (—Å—Ç–∞–ª–æ 0.059)
```

---

### 1. RSI –ù–ï –ì–ï–ù–ï–†–ò–†–£–ï–¢ SHORT –°–ò–ì–ù–ê–õ–´

**–ö–æ–¥ (signal_generator.py:3201-3284):**

```python
elif rsi > rsi_overbought:
    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç SELL —Å–∏–≥–Ω–∞–ª (SHORT)
    signals.append({
        "symbol": symbol,
        "side": "sell",
        "type": "rsi_overbought",
        ...
    })
```

**–£—Å–ª–æ–≤–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:**
- `rsi > rsi_overbought`
- –î–ª—è ranging —Ä–µ–∂–∏–º–∞: `rsi_overbought = 85`

**–ò–∑ –ª–æ–≥–æ–≤:**
- RSI –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è ranging: `overbought=85, oversold=25`
- RSI –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ —É–∫–∞–∑–∞–Ω–æ —è–≤–Ω–æ, –Ω–æ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤–∏–¥–Ω–æ, —á—Ç–æ RSI –Ω–µ –¥–æ—Å—Ç–∏–≥ –ø–æ—Ä–æ–≥–∞ 85

**–ü–æ—á–µ–º—É –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è:**
- RSI < 85 ‚Üí —É—Å–ª–æ–≤–∏–µ `rsi > rsi_overbought` –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
- **–ù–µ—Ç SHORT —Å–∏–≥–Ω–∞–ª–∞ –æ—Ç RSI**

**–°—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞:**
- `signal_generator.py:3201` - —É—Å–ª–æ–≤–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ RSI SHORT —Å–∏–≥–Ω–∞–ª–∞
- `signal_generator.py:2984` - –ø–æ–ª—É—á–µ–Ω–∏–µ `rsi_overbought` –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ (85 –¥–ª—è ranging)

---

### 2. MACD BEARISH –ì–ï–ù–ï–†–ò–†–£–ï–¢–°–Ø, –ù–û STRENGTH –°–ù–ò–ñ–ê–ï–¢–°–Ø

**–ö–æ–¥ (macd_signal_generator.py:235-326):**

```python
elif macd_line < signal_line and histogram < 0:
    # MACD BEARISH —Å–∏–≥–Ω–∞–ª
    is_bearish_trend = ema_fast < ema_slow and current_price < ema_fast
    
    base_strength = min(abs(histogram) / macd_strength_divider, 1.0)
    
    if not is_bearish_trend:
        # –ö–æ–Ω—Ñ–ª–∏–∫—Ç: MACD bearish, –Ω–æ EMA/—Ü–µ–Ω–∞ –Ω–µ bearish
        conflict_multiplier = 0.5  # –°–Ω–∏–∂–∞–µ–º strength –Ω–∞ 50%
        base_strength *= conflict_multiplier
        
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º ADX —Ç—Ä–µ–Ω–¥
    if adx_trend == "bullish" and adx_value >= adx_threshold:
        # –ë–ª–æ–∫–∏—Ä—É–µ–º SHORT –ø—Ä–æ—Ç–∏–≤ bullish —Ç—Ä–µ–Ω–¥–∞
        logger.debug("üö´ MACD BEARISH —Å–∏–≥–Ω–∞–ª –û–¢–ú–ï–ù–ï–ù")
    else:
        # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º SHORT —Å–∏–≥–Ω–∞–ª
        signals.append({
            "symbol": symbol,
            "side": "sell",
            "type": "macd_bearish",
            "strength": base_strength,  # –£–∂–µ —Å–Ω–∏–∂–µ–Ω–Ω—ã–π!
            ...
        })
```

**–ò–∑ –ª–æ–≥–æ–≤:**
```
2025-12-29 22:43:56.867 | DEBUG | ‚ö° MACD BEARISH —Å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–º –¥–ª—è BTC-USDT: 
MACD bearish, –Ω–æ EMA/—Ü–µ–Ω–∞ –Ω–µ bearish, strength —Å–Ω–∏–∂–µ–Ω –Ω–∞ 50.0% (—Å—Ç–∞–ª–æ 0.059)
```

**–ü–æ—á–µ–º—É strength —Å–Ω–∏–∂–∞–µ—Ç—Å—è:**
- MACD –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç bearish (histogram < 0)
- –ù–æ EMA/—Ü–µ–Ω–∞ –Ω–µ bearish (`ema_fast >= ema_slow` –∏–ª–∏ `current_price >= ema_fast`)
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç ‚Üí `conflict_multiplier = 0.5` ‚Üí strength —Å–Ω–∏–∂–∞–µ—Ç—Å—è –Ω–∞ 50%
- –ò—Ç–æ–≥–æ–≤—ã–π strength: `0.059` (–æ—á–µ–Ω—å —Å–ª–∞–±—ã–π!)

**–°—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞:**
- `macd_signal_generator.py:237` - –ø—Ä–æ–≤–µ—Ä–∫–∞ `is_bearish_trend`
- `macd_signal_generator.py:267` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞
- `macd_signal_generator.py:301` - —Å–Ω–∏–∂–µ–Ω–∏–µ strength –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ
- `macd_signal_generator.py:309` - –ø—Ä–æ–≤–µ—Ä–∫–∞ ADX —Ç—Ä–µ–Ω–¥–∞ (–±–ª–æ–∫–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ç–∏–≤ bullish)

---

### 3. ADX –§–ò–õ–¨–¢–† –ù–ï –ë–õ–û–ö–ò–†–£–ï–¢ SHORT –ü–†–ò BEARISH –¢–†–ï–ù–î–ï

**–ö–æ–¥ (signal_generator.py:2351-2371):**

```python
if adx_value_from_analyzer >= adx_blocking_threshold:
    if market_direction == "bearish" and signal_side == "LONG":
        # –ë–ª–æ–∫–∏—Ä—É–µ–º LONG –ø—Ä–æ—Ç–∏–≤ bearish —Ç—Ä–µ–Ω–¥–∞
        blocked_by_adx["LONG"] += 1
        continue
    elif market_direction == "bullish" and signal_side == "SHORT":
        # –ë–ª–æ–∫–∏—Ä—É–µ–º SHORT –ø—Ä–æ—Ç–∏–≤ bullish —Ç—Ä–µ–Ω–¥–∞
        blocked_by_adx["SHORT"] += 1
        continue
```

**–ò–∑ –ª–æ–≥–æ–≤:**
```
ADX —Ç—Ä–µ–Ω–¥ –¥–ª—è BTC-USDT: ranging, ADX=14.0, +DI=40.6, -DI=59.4
```

**–ü–æ—á–µ–º—É –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è:**
- ADX –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **bearish** —Ç—Ä–µ–Ω–¥ (-DI=59.4 > +DI=40.6)
- ADX —Ñ–∏–ª—å—Ç—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ:
  - LONG –ø—Ä–æ—Ç–∏–≤ bearish —Ç—Ä–µ–Ω–¥–∞ ‚úÖ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
  - SHORT –ø—Ä–æ—Ç–∏–≤ bullish —Ç—Ä–µ–Ω–¥–∞ ‚úÖ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- ADX —Ñ–∏–ª—å—Ç—Ä **–ù–ï –±–ª–æ–∫–∏—Ä—É–µ—Ç** SHORT –ø—Ä–∏ bearish —Ç—Ä–µ–Ω–¥–µ ‚úÖ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ!)

**–°—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞:**
- `signal_generator.py:2352` - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ LONG –ø—Ä–æ—Ç–∏–≤ bearish
- `signal_generator.py:2362` - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ SHORT –ø—Ä–æ—Ç–∏–≤ bullish
- **–ù–ï–¢ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ SHORT –ø—Ä–∏ bearish** - —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!

---

### 4. –§–ò–õ–¨–¢–†–ê–¶–ò–Ø –ü–û STRENGTH –û–¢–§–ò–õ–¨–¢–†–û–í–´–í–ê–ï–¢ –°–õ–ê–ë–´–ï –°–ò–ì–ù–ê–õ–´

**–ö–æ–¥ (signal_generator.py:6191-6193):**

```python
filtered_signals = [
    s for s in signals if s.get("strength", 0) >= min_strength
]
```

**–ò–∑ –∫–æ–Ω—Ñ–∏–≥–∞:**
- `min_signal_strength = 0.60` (–¥–ª—è ranging —Ä–µ–∂–∏–º–∞)
- `min_signal_strength_ranging = 0.60`

**–ò–∑ –ª–æ–≥–æ–≤:**
- MACD BEARISH —Å–∏–≥–Ω–∞–ª: `strength = 0.059` (–ø–æ—Å–ª–µ —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞ 50%)

**–ü–æ—á–µ–º—É –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è:**
- `strength = 0.059 < min_strength = 0.60` ‚Üí —Å–∏–≥–Ω–∞–ª –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω!
- **MACD BEARISH —Å–∏–≥–Ω–∞–ª —Å–ª–∏—à–∫–æ–º —Å–ª–∞–±—ã–π** –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ strength

**–°—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞:**
- `signal_generator.py:6157-6183` - –ø–æ–ª—É—á–µ–Ω–∏–µ `min_strength` –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
- `signal_generator.py:6191-6193` - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ strength
- `config_futures.yaml:34` - `min_signal_strength: 0.60`

---

### 5. –ü–û–õ–ù–ê–Ø –¶–ï–ü–û–ß–ö–ê: –ü–û–ß–ï–ú–£ SHORT –°–ò–ì–ù–ê–õ–´ –ù–ï –ì–ï–ù–ï–†–ò–†–£–Æ–¢–°–Ø

**–®–∞–≥ 1: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤**

1. **RSI —Å–∏–≥–Ω–∞–ª—ã:**
   - –£—Å–ª–æ–≤–∏–µ: `rsi > 85` (overbought)
   - –†–µ–∞–ª—å–Ω–æ—Å—Ç—å: RSI < 85 (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ ~48.68)
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: **–ù–µ—Ç SHORT —Å–∏–≥–Ω–∞–ª–∞ –æ—Ç RSI** ‚ùå

2. **MACD —Å–∏–≥–Ω–∞–ª—ã:**
   - –£—Å–ª–æ–≤–∏–µ: `macd_line < signal_line` (bearish)
   - –†–µ–∞–ª—å–Ω–æ—Å—Ç—å: MACD bearish ‚úÖ
   - –ö–æ–Ω—Ñ–ª–∏–∫—Ç: EMA/—Ü–µ–Ω–∞ –Ω–µ bearish ‚Üí strength —Å–Ω–∏–∂–µ–Ω –Ω–∞ 50%
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: **MACD BEARISH —Å–∏–≥–Ω–∞–ª —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω, –Ω–æ strength = 0.059** ‚ö†Ô∏è

3. **Bollinger Bands —Å–∏–≥–Ω–∞–ª—ã:**
   - –ù–µ —É–∫–∞–∑–∞–Ω—ã –≤ –ª–æ–≥–∞—Ö –¥–ª—è BTC-USDT
   - –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ: –Ω–µ—Ç SHORT —Å–∏–≥–Ω–∞–ª–æ–≤ –æ—Ç BB

4. **MA —Å–∏–≥–Ω–∞–ª—ã:**
   - –ò–∑ –ª–æ–≥–æ–≤: `MA BULLISH —Å–∏–≥–Ω–∞–ª` (–Ω–µ SHORT)
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: **–ù–µ—Ç SHORT —Å–∏–≥–Ω–∞–ª–∞ –æ—Ç MA** ‚ùå

**–®–∞–≥ 2: ADX —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**

- ADX –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç bearish —Ç—Ä–µ–Ω–¥
- ADX —Ñ–∏–ª—å—Ç—Ä **–ù–ï –±–ª–æ–∫–∏—Ä—É–µ—Ç** SHORT –ø—Ä–∏ bearish (—ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!)
- –†–µ–∑—É–ª—å—Ç–∞—Ç: **MACD BEARISH —Å–∏–≥–Ω–∞–ª –ø—Ä–æ—Ö–æ–¥–∏—Ç ADX —Ñ–∏–ª—å—Ç—Ä** ‚úÖ

**–®–∞–≥ 3: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ strength**

- MACD BEARISH —Å–∏–≥–Ω–∞–ª: `strength = 0.059`
- `min_signal_strength = 0.60`
- –£—Å–ª–æ–≤–∏–µ: `strength >= min_strength` ‚Üí `0.059 >= 0.60` ‚Üí **False**
- –†–µ–∑—É–ª—å—Ç–∞—Ç: **MACD BEARISH —Å–∏–≥–Ω–∞–ª –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω –ø–æ strength** ‚ùå

**–®–∞–≥ 4: –ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

- –í—Å–µ SHORT —Å–∏–≥–Ω–∞–ª—ã –ª–∏–±–æ –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è, –ª–∏–±–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞—é—Ç—Å—è
- –†–µ–∑—É–ª—å—Ç–∞—Ç: **–ù–µ—Ç SHORT —Å–∏–≥–Ω–∞–ª–æ–≤ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏** ‚ùå

---

### 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞–∑—Ä–µ—à–∞–µ—Ç SHORT –ø–æ–∑–∏—Ü–∏–∏

**–ö–æ–¥ (config_futures.yaml:67-68):**

```yaml
allow_long_positions: true   # LONG –ø–æ–∑–∏—Ü–∏–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã
allow_short_positions: true  # SHORT –ø–æ–∑–∏—Ü–∏–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã
```

**–í—ã–≤–æ–¥:** –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞–∑—Ä–µ—à–∞–µ—Ç SHORT –ø–æ–∑–∏—Ü–∏–∏.

---

## üí° –í–´–í–û–î –ü–û SHORT –°–ò–ì–ù–ê–õ–ê–ú

### –ü–æ—á–µ–º—É –±–æ—Ç –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç SHORT –ø–æ–∑–∏—Ü–∏–∏:

1. **RSI –Ω–µ –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω** (RSI < 85) ‚Üí –Ω–µ—Ç SHORT —Å–∏–≥–Ω–∞–ª–∞ –æ—Ç RSI ‚ùå
2. **MACD BEARISH –∫–æ–Ω—Ñ–ª–∏–∫—Ç** ‚Üí MACD –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç bearish, –Ω–æ EMA/—Ü–µ–Ω–∞ –Ω–µ bearish ‚Üí strength —Å–Ω–∏–∂–µ–Ω –Ω–∞ 50% ‚Üí `strength = 0.059` ‚Üí —Å–∏–≥–Ω–∞–ª –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω –ø–æ `min_strength = 0.60` ‚ùå
3. **–ù–µ—Ç –¥—Ä—É–≥–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤**, –∫–æ—Ç–æ—Ä—ã–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç SHORT —Å–∏–≥–Ω–∞–ª—ã –ø—Ä–∏ bearish —Ç—Ä–µ–Ω–¥–µ ‚ùå
4. **ADX —Ñ–∏–ª—å—Ç—Ä –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç** SHORT –ø—Ä–∏ bearish —Ç—Ä–µ–Ω–¥–µ (—ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!) ‚úÖ
5. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ strength** –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞–µ—Ç —Å–ª–∞–±—ã–µ —Å–∏–≥–Ω–∞–ª—ã (MACD BEARISH —Å strength=0.059 < min_strength=0.60) ‚ùå

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

1. **–î–æ–±–∞–≤–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é SHORT —Å–∏–≥–Ω–∞–ª–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ ADX bearish —Ç—Ä–µ–Ω–¥–∞**
   - –ï—Å–ª–∏ ADX –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç bearish —Ç—Ä–µ–Ω–¥ (ADX > threshold, -DI > +DI)
   - –ò –Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ —Å –¥—Ä—É–≥–∏–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏
   - –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å SHORT —Å–∏–≥–Ω–∞–ª

2. **–°–Ω–∏–∑–∏—Ç—å –ø–æ—Ä–æ–≥ RSI overbought –¥–ª—è bearish —Ç—Ä–µ–Ω–¥–∞**
   - –í bearish —Ç—Ä–µ–Ω–¥–µ RSI –º–æ–∂–µ—Ç –Ω–µ –¥–æ—Å—Ç–∏–≥–∞—Ç—å 85
   - –°–Ω–∏–∑–∏—Ç—å –ø–æ—Ä–æ–≥ –¥–æ 70-75 –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SHORT —Å–∏–≥–Ω–∞–ª–æ–≤

3. **–£–ª—É—á—à–∏—Ç—å MACD BEARISH —Å–∏–≥–Ω–∞–ª—ã**
   - –ù–µ —Å–Ω–∏–∂–∞—Ç—å strength –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ —Å EMA/—Ü–µ–Ω–æ–π –≤ bearish —Ç—Ä–µ–Ω–¥–µ
   - –ò–ª–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å SHORT —Å–∏–≥–Ω–∞–ª –Ω–∞ –æ—Å–Ω–æ–≤–µ MACD bearish –¥–∞–∂–µ –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ

---

## üìã –ö–û–ù–ö–†–ï–¢–ù–´–ï –ü–†–ò–ú–ï–†–´ –ò–ó –õ–û–ì–û–í –ò –ö–û–î–ê

### –ü—Ä–∏–º–µ—Ä 1: BTC-USDT (22:43:56)

**–õ–æ–≥–∏:**
```
2025-12-29 22:43:56.866 | DEBUG | ‚úÖ ADX –¥–ª—è BTC-USDT –ø–æ–ª—É—á–µ–Ω –∏–∑ DataRegistry: ADX=13.97, +DI=40.60, -DI=59.40
2025-12-29 22:43:56.867 | DEBUG | üìä ADX —Ç—Ä–µ–Ω–¥ –¥–ª—è BTC-USDT: ranging, ADX=14.0, +DI=40.6, -DI=59.4
2025-12-29 22:43:56.867 | DEBUG | ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –¥–ª—è ranging (BTC-USDT): RSI overbought=85, oversold=25
2025-12-29 22:43:56.867 | DEBUG | ‚ö° MACD BEARISH —Å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–º –¥–ª—è BTC-USDT: MACD bearish, –Ω–æ EMA/—Ü–µ–Ω–∞ –Ω–µ bearish, strength —Å–Ω–∏–∂–µ–Ω –Ω–∞ 50.0% (—Å—Ç–∞–ª–æ 0.059)
2025-12-29 22:43:56.869 | DEBUG | üîç MA –¥–ª—è BTC-USDT: EMA_12=89069.81, EMA_26=88686.33, —Ü–µ–Ω–∞=89088.00, ma_fast>ma_slow=True, —Ü–µ–Ω–∞>ma_fast=True
2025-12-29 22:43:56.869 | DEBUG | ‚ö†Ô∏è MA BULLISH —Å–∏–≥–Ω–∞–ª –û–¢–ú–ï–ù–ï–ù –¥–ª—è BTC-USDT: EMA –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç bullish, –Ω–æ —Ü–µ–Ω–∞ –ø–∞–¥–∞–µ—Ç (–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ=down)
```

**–ê–Ω–∞–ª–∏–∑:**

1. **ADX —Ç—Ä–µ–Ω–¥:**
   - ADX=14.0 (–Ω–∏–∑–∫–∏–π, ranging —Ä–µ–∂–∏–º)
   - -DI=59.4 > +DI=40.6 ‚Üí **bearish —Ç—Ä–µ–Ω–¥** ‚úÖ
   - ADX —Ñ–∏–ª—å—Ç—Ä **–ù–ï –±–ª–æ–∫–∏—Ä—É–µ—Ç** SHORT –ø—Ä–∏ bearish ‚úÖ

2. **RSI:**
   - –ü–æ—Ä–æ–≥ overbought=85 (–¥–ª—è ranging)
   - RSI –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –Ω–æ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤–∏–¥–Ω–æ, —á—Ç–æ RSI < 85
   - **–ù–µ—Ç SHORT —Å–∏–≥–Ω–∞–ª–∞ –æ—Ç RSI** ‚ùå

3. **MACD BEARISH:**
   - MACD –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç bearish ‚úÖ
   - –ù–æ EMA/—Ü–µ–Ω–∞ –Ω–µ bearish:
     - EMA_12=89069.81 > EMA_26=88686.33 (bullish EMA)
     - –¶–µ–Ω–∞=89088.00 > EMA_12 (bullish —Ü–µ–Ω–∞)
   - –ö–æ–Ω—Ñ–ª–∏–∫—Ç ‚Üí strength —Å–Ω–∏–∂–µ–Ω –Ω–∞ 50% ‚Üí `strength = 0.059`
   - **MACD BEARISH —Å–∏–≥–Ω–∞–ª —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω, –Ω–æ —Å–ª–∏—à–∫–æ–º —Å–ª–∞–±—ã–π** ‚ö†Ô∏è

4. **MA —Å–∏–≥–Ω–∞–ª—ã:**
   - EMA –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç bullish (EMA_12 > EMA_26)
   - –¶–µ–Ω–∞ > EMA_12 (bullish)
   - –ù–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω—ã = down (—Ü–µ–Ω–∞ –ø–∞–¥–∞–µ—Ç)
   - **MA BULLISH —Å–∏–≥–Ω–∞–ª –æ—Ç–º–µ–Ω–µ–Ω** (–Ω–µ SHORT) ‚ùå

5. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ strength:**
   - MACD BEARISH: `strength = 0.059`
   - `min_signal_strength = 0.60` (–¥–ª—è ranging)
   - `0.059 < 0.60` ‚Üí **—Å–∏–≥–Ω–∞–ª –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω** ‚ùå

**–ò—Ç–æ–≥:** –ù–µ—Ç SHORT —Å–∏–≥–Ω–∞–ª–æ–≤ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏ ‚ùå

---

### –ü—Ä–∏–º–µ—Ä 2: ETH-USDT (22:41:48)

**–õ–æ–≥–∏:**
```
2025-12-29 22:41:48.693 | DEBUG | üìä ADX —Ç—Ä–µ–Ω–¥ –¥–ª—è ETH-USDT: bearish, ADX=98.1, +DI=1.1, -DI=98.9
2025-12-29 22:41:48.701 | INFO  | üìä ETH-USDT: –ù–µ—Ç —Å–∏–≥–Ω–∞–ª–æ–≤ –æ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤. ADX=98.1 (bearish), RSI=48.6768890488139, MACD=1.2456893188214018
```

**–ê–Ω–∞–ª–∏–∑:**

1. **ADX —Ç—Ä–µ–Ω–¥:**
   - ADX=98.1 (–æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π, —Å–∏–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–¥)
   - -DI=98.9 >> +DI=1.1 ‚Üí **—Å–∏–ª—å–Ω—ã–π bearish —Ç—Ä–µ–Ω–¥** ‚úÖ
   - ADX —Ñ–∏–ª—å—Ç—Ä **–ù–ï –±–ª–æ–∫–∏—Ä—É–µ—Ç** SHORT –ø—Ä–∏ bearish ‚úÖ

2. **RSI:**
   - RSI=48.68 < overbought=85
   - **–ù–µ—Ç SHORT —Å–∏–≥–Ω–∞–ª–∞ –æ—Ç RSI** ‚ùå

3. **MACD:**
   - MACD=1.25 (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π, bullish)
   - **–ù–µ—Ç MACD BEARISH —Å–∏–≥–Ω–∞–ª–∞** ‚ùå

4. **–ò—Ç–æ–≥:** –ù–µ—Ç SHORT —Å–∏–≥–Ω–∞–ª–æ–≤ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏ ‚ùå

---

## üìä –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### 1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ä–∞—Å—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏ –ø—Ä–∏ —á–∞—Å—Ç–∏—á–Ω–æ–º –∑–∞–∫—Ä—ã—Ç–∏–∏:

```python
# –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç: –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è –∑–∞ –≤—Ö–æ–¥ + –∫–æ–º–∏—Å—Å–∏—è –∑–∞ –≤—ã—Ö–æ–¥
total_size_coins = position.get("size", 0)
close_size_coins = close_size

# –ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è –∑–∞ –≤—Ö–æ–¥
entry_commission_proportional = (
    (close_size_coins / total_size_coins) * 
    total_size_coins * entry_price * commission_rate
)

# –ö–æ–º–∏—Å—Å–∏—è –∑–∞ –≤—ã—Ö–æ–¥
exit_commission = close_size_coins * current_price * commission_rate

# –ò—Ç–æ–≥–æ
partial_commission = entry_commission_proportional + exit_commission
```

### 2. –î–æ–±–∞–≤–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é SHORT —Å–∏–≥–Ω–∞–ª–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ ADX bearish —Ç—Ä–µ–Ω–¥–∞:

```python
# –í signal_generator.py –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SHORT —Å–∏–≥–Ω–∞–ª–æ–≤ –ø—Ä–∏ bearish —Ç—Ä–µ–Ω–¥–µ
if adx_trend == "bearish" and adx_value > adx_threshold:
    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º SHORT —Å–∏–≥–Ω–∞–ª –Ω–∞ –æ—Å–Ω–æ–≤–µ bearish —Ç—Ä–µ–Ω–¥–∞
    signals.append({
        "symbol": symbol,
        "side": "sell",
        "type": "adx_bearish",
        "strength": calculate_strength_from_adx(adx_value, -di, +di),
        ...
    })
```

### 3. –°–Ω–∏–∑–∏—Ç—å –ø–æ—Ä–æ–≥ RSI overbought –¥–ª—è bearish —Ç—Ä–µ–Ω–¥–∞:

```python
# –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –ø–æ—Ä–æ–≥ RSI overbought –¥–ª—è bearish —Ç—Ä–µ–Ω–¥–∞
if adx_trend == "bearish":
    rsi_overbought_threshold = 70  # –°–Ω–∏–∂–µ–Ω —Å 85 –¥–æ 70
else:
    rsi_overbought_threshold = 85  # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä–æ–≥
```

---

## ‚úÖ –ò–¢–û–ì–û–í–´–ô –í–´–í–û–î

### –ü–æ –∫–æ–º–∏—Å—Å–∏–∏:

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∞–≤** - –ø—Ä–∏ —á–∞—Å—Ç–∏—á–Ω–æ–º –∑–∞–∫—Ä—ã—Ç–∏–∏ –Ω—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –∫–æ–º–∏—Å—Å–∏—é –∑–∞ –≤—Ö–æ–¥
2. **–¢–µ–∫—É—â–∏–π –∫–æ–¥ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π** - —É–º–Ω–æ–∂–∞–µ—Ç –∫–æ–º–∏—Å—Å–∏—é –Ω–∞ 2, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –¥–≤–æ–π–Ω–æ–º—É —É—á–µ—Ç—É
3. **–ß–∞—Å—Ç–∏—á–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª** —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–æ–π –ø—Ä–∏–±—ã–ª–∏ –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–º–∏—Å—Å–∏–π

### –ü–æ SHORT —Å–∏–≥–Ω–∞–ª–∞–º:

1. **–ë–æ—Ç –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç SHORT –ø–æ–∑–∏—Ü–∏–∏**, –ø–æ—Ç–æ–º—É —á—Ç–æ:
   - RSI –Ω–µ –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω (–Ω–µ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç –ø–æ—Ä–æ–≥–∞ overbought)
   - MACD BEARISH —Å–∏–≥–Ω–∞–ª—ã –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –∏–∑-–∑–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ —Å EMA/—Ü–µ–Ω–æ–π
   - –ù–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SHORT —Å–∏–≥–Ω–∞–ª–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ ADX bearish —Ç—Ä–µ–Ω–¥–∞

2. **–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:**
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—é SHORT —Å–∏–≥–Ω–∞–ª–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ ADX bearish —Ç—Ä–µ–Ω–¥–∞
   - –°–Ω–∏–∂–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–∞ RSI overbought –¥–ª—è bearish —Ç—Ä–µ–Ω–¥–∞
   - –£–ª—É—á—à–µ–Ω–∏–µ MACD BEARISH —Å–∏–≥–Ω–∞–ª–æ–≤

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 29.12.2025  
**–°—Ç–∞—Ç—É—Å:** –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω, —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞

