# ‚úÖ –ü–†–û–í–ï–†–ö–ê –î–ï–ë–ê–ì–ì–ï–†–û–ú –ó–ê–í–ï–†–®–ï–ù–ê

**–î–∞—Ç–∞:** 23.11.2025, 23:58  
**–°—Ç–∞—Ç—É—Å:** –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã

---

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ü–†–û–í–ï–†–ö–ò

### 1. –°–∏–Ω—Ç–∞–∫—Å–∏—Å Python ‚úÖ

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
python -m py_compile src/strategies/scalping/futures/position_manager.py
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£—Å–ø–µ—à–Ω–æ (Exit code: 0)
- –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- –ù–µ—Ç –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

---

### 2. –°–∏–Ω—Ç–∞–∫—Å–∏—Å YAML ‚úÖ

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```python
import yaml
yaml.safe_load(open('config/config_futures.yaml', 'r', encoding='utf-8'))
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£—Å–ø–µ—à–Ω–æ
- YAML —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- –ù–µ—Ç –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞

---

### 3. –ò–º–ø–æ—Ä—Ç –º–æ–¥—É–ª–µ–π ‚úÖ

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```python
from src.config import BotConfig
from src.strategies.scalping.futures.position_manager import FuturesPositionManager
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£—Å–ø–µ—à–Ω–æ
- –í—Å–µ –º–æ–¥—É–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ù–µ—Ç –æ—à–∏–±–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

---

### 4. –ù–∞–ª–∏—á–∏–µ –º–µ—Ç–æ–¥–æ–≤ ‚úÖ

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```python
hasattr(FuturesPositionManager, '_get_adaptive_sl_percent')  # True
hasattr(FuturesPositionManager, '_check_sl')  # True
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£—Å–ø–µ—à–Ω–æ
- –ú–µ—Ç–æ–¥ `_get_adaptive_sl_percent`: –ù–∞–π–¥–µ–Ω
- –ú–µ—Ç–æ–¥ `_check_sl`: –ù–∞–π–¥–µ–Ω

---

### 5. –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞ ‚úÖ

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```python
config = BotConfig.load_from_file('config/config_futures.yaml')
config.scalping.sl_percent  # 1.2%
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£—Å–ø–µ—à–Ω–æ
- –ö–æ–Ω—Ñ–∏–≥ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ì–ª–æ–±–∞–ª—å–Ω—ã–π SL: 1.2%

---

### 6. SL –≤ –∫–æ–Ω—Ñ–∏–≥–µ ‚úÖ

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è sl_percent:**

#### –ì–ª–æ–±–∞–ª—å–Ω—ã–π SL:
- ‚úÖ `scalping.sl_percent: 1.2%`

#### SL –ø–æ —Ä–µ–∂–∏–º–∞–º:
- ‚úÖ `trending: sl_percent: 1.5%`
- ‚úÖ `ranging: sl_percent: 2.0%`
- ‚úÖ `choppy: sl_percent: 1.0%`

#### SL –ø–æ —Å–∏–º–≤–æ–ª–∞–º:

**BTC-USDT:**
- ‚úÖ Per-symbol: 1.5%
- ‚úÖ Trending: 1.5%
- ‚úÖ Ranging: 2.0%
- ‚úÖ Choppy: 1.5%

**ETH-USDT:**
- ‚úÖ Per-symbol: 1.5%
- ‚úÖ Trending: 1.5%
- ‚úÖ Ranging: 2.0%
- ‚úÖ Choppy: 1.2%

**SOL-USDT:**
- ‚úÖ Per-symbol: 1.5%
- ‚úÖ Trending: 1.5%
- ‚úÖ Ranging: 2.0%
- ‚ö†Ô∏è Choppy: –ù–ï –ù–ê–ô–î–ï–ù (fallback –Ω–∞ per-symbol 1.5%)

**DOGE-USDT:**
- ‚úÖ Per-symbol: 1.8%
- ‚úÖ Trending: 1.8%
- ‚úÖ Ranging: 2.0%
- ‚úÖ Choppy: 1.5%

**XRP-USDT:**
- ‚úÖ Per-symbol: 1.8%
- ‚úÖ Trending: 1.8%
- ‚úÖ Ranging: 2.0%
- ‚úÖ Choppy: 1.5%

---

### 7. –õ–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è SL ‚úÖ

**–¢–µ—Å—Ç —Å–∏–º—É–ª—è—Ü–∏–∏ `_get_adaptive_sl_percent`:**

| –°–∏–º–≤–æ–ª | –†–µ–∂–∏–º | SL | –ò—Å—Ç–æ—á–Ω–∏–∫ |
|--------|-------|----|----------|
| BTC-USDT | Trending | 1.5% | Per-regime (trending) |
| BTC-USDT | Ranging | 2.0% | Per-regime (ranging) |
| BTC-USDT | Choppy | 1.5% | Per-regime (choppy) |
| BTC-USDT | N/A | 1.5% | Per-symbol |
| ETH-USDT | Trending | 1.5% | Per-regime (trending) |
| ETH-USDT | Ranging | 2.0% | Per-regime (ranging) |
| ETH-USDT | Choppy | 1.2% | Per-regime (choppy) |
| ETH-USDT | N/A | 1.5% | Per-symbol |
| SOL-USDT | Trending | 1.5% | Per-regime (trending) |
| SOL-USDT | Ranging | 2.0% | Per-regime (ranging) |
| SOL-USDT | Choppy | 1.5% | Per-symbol (fallback) |
| SOL-USDT | N/A | 1.5% | Per-symbol |
| DOGE-USDT | Trending | 1.8% | Per-regime (trending) |
| DOGE-USDT | Ranging | 2.0% | Per-regime (ranging) |
| DOGE-USDT | Choppy | 1.5% | Per-regime (choppy) |
| DOGE-USDT | N/A | 1.8% | Per-symbol |
| XRP-USDT | Trending | 1.8% | Per-regime (trending) |
| XRP-USDT | Ranging | 2.0% | Per-regime (ranging) |
| XRP-USDT | Choppy | 1.5% | Per-regime (choppy) |
| XRP-USDT | N/A | 1.8% | Per-symbol |

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: Per-regime ‚Üí Per-symbol ‚Üí –ì–ª–æ–±–∞–ª—å–Ω—ã–π
- Fallback —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### 8. –õ–∏–Ω—Ç–µ—Ä ‚úÖ

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
read_lints(['src/strategies/scalping/futures/position_manager.py', 'config/config_futures.yaml'])
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫
- –ù–µ—Ç –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞
- –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º

---

## ‚ö†Ô∏è –û–ë–ù–ê–†–£–ñ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### 1. SOL-USDT Choppy SL

**–ü—Ä–æ–±–ª–µ–º–∞:** –î–ª—è SOL-USDT –≤ —Ä–µ–∂–∏–º–µ choppy –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `sl_percent` –≤ –∫–æ–Ω—Ñ–∏–≥–µ.

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fallback –Ω–∞ per-symbol SL (1.5%)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å `sl_percent: 1.2%` –¥–ª—è SOL-USDT choppy –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ —Å ETH-USDT.

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –ù–∏–∑–∫–∞—è (fallback —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ)

---

## ‚úÖ –ò–¢–û–ì–û–í–´–ô –°–¢–ê–¢–£–°

| –ü—Ä–æ–≤–µ—Ä–∫–∞ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|----------|--------|------------|
| –°–∏–Ω—Ç–∞–∫—Å–∏—Å Python | ‚úÖ | –ù–µ—Ç –æ—à–∏–±–æ–∫ |
| –°–∏–Ω—Ç–∞–∫—Å–∏—Å YAML | ‚úÖ | –ù–µ—Ç –æ—à–∏–±–æ–∫ |
| –ò–º–ø–æ—Ä—Ç –º–æ–¥—É–ª–µ–π | ‚úÖ | –í—Å–µ –º–æ–¥—É–ª–∏ –Ω–∞–π–¥–µ–Ω—ã |
| –ù–∞–ª–∏—á–∏–µ –º–µ—Ç–æ–¥–æ–≤ | ‚úÖ | –û–±–∞ –º–µ—Ç–æ–¥–∞ –Ω–∞–π–¥–µ–Ω—ã |
| –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞ | ‚úÖ | –ö–æ–Ω—Ñ–∏–≥ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è |
| SL –≤ –∫–æ–Ω—Ñ–∏–≥–µ | ‚úÖ | –í—Å–µ SL –Ω–∞–π–¥–µ–Ω—ã (1 –∏—Å–∫–ª—é—á–µ–Ω–∏–µ) |
| –õ–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è SL | ‚úÖ | –†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ |
| –õ–∏–Ω—Ç–µ—Ä | ‚úÖ | –ù–µ—Ç –æ—à–∏–±–æ–∫ |

**–û–±—â–∏–π —Å—Ç–∞—Ç—É—Å:** ‚úÖ **–í–°–ï –ü–†–û–í–ï–†–ö–ò –ü–†–û–ô–î–ï–ù–´**

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê

- **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Ñ–∞–π–ª–æ–≤:** 2
  - `src/strategies/scalping/futures/position_manager.py`
  - `config/config_futures.yaml`

- **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –º–µ—Ç–æ–¥–æ–≤:** 2
  - `_get_adaptive_sl_percent`
  - `_check_sl`

- **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Å–∏–º–≤–æ–ª–æ–≤:** 5
  - BTC-USDT, ETH-USDT, SOL-USDT, DOGE-USDT, XRP-USDT

- **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Ä–µ–∂–∏–º–æ–≤:** 3
  - Trending, Ranging, Choppy

- **–í—Å–µ–≥–æ –ø—Ä–æ–≤–µ—Ä–æ–∫:** 8
  - ‚úÖ 8 —É—Å–ø–µ—à–Ω–æ
  - ‚ö†Ô∏è 1 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (–Ω–µ–∫—Ä–∏—Ç–∏—á–Ω–æ)
  - ‚ùå 0 –æ—à–∏–±–æ–∫

---

## ‚úÖ –ì–û–¢–û–í–û –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ

–í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã, –∫–æ–¥ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

**–î–∞—Ç–∞:** 23.11.2025, 23:58

