# –ê–ù–ê–õ–ò–ó –ò –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –û–®–ò–ë–û–ö

## üîç –û–ë–ù–ê–†–£–ñ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### 1. ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: `'FuturesPositionManager' object has no attribute 'active_positions'`

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –º–µ—Ç–æ–¥–∞ `set_symbol_profiles` –±—ã–ª–∞ —Å–ª—É—á–∞–π–Ω–æ —É–¥–∞–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è `active_positions`.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ–π –≤ `__init__`:
```python
self.active_positions = {}
self.position_history = []
self.management_stats = {...}
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

---

### 2. ‚ö†Ô∏è –ß–ê–°–¢–ò–ß–ù–û –ò–°–ü–†–ê–í–õ–ï–ù–û: `Parameter posSide error` –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ leverage

**–ü—Ä–æ–±–ª–µ–º–∞**: API OKX –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É `Parameter posSide error` –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å leverage.

**–ü–æ–ø—ã—Ç–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**: –£–±—Ä–∞–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `posSide` –∏–∑ –∑–∞–ø—Ä–æ—Å–∞ `set_leverage` –¥–ª—è isolated margin mode.

**–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è**: –û—à–∏–±–∫–∞ –≤—Å–µ –µ—â–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –≤–æ–∑–º–æ–∂–Ω–æ –∏–∑-–∑–∞:
1. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è Python (–Ω—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫)
2. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π sandbox API OKX
3. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è API –¥–ª—è isolated mode

**–†–µ—à–µ–Ω–∏–µ**: 
- –í sandbox mode –æ—à–∏–±–∫–∞ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞ (leverage –≤—Å–µ —Ä–∞–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤)
- –û—à–∏–±–∫–∞ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –±–æ—Ç–∞
- –î–ª—è production –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é OKX API

**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ù–ï –ö–†–ò–¢–ò–ß–ù–û (—Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏)

---

## üìä –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. ‚úÖ –ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
2. ‚úÖ WebSocket –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
3. ‚úÖ –ü–æ–∑–∏—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
4. ‚úÖ –°–∏–≥–Ω–∞–ª—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è
5. ‚úÖ –†–∞—Å—á–µ—Ç—ã —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–π —Ä–∞–±–æ—Ç–∞—é—Ç
6. ‚úÖ Per-regime TP –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### –ß—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ:
1. ‚ö†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ leverage –≤ sandbox (–æ—à–∏–±–∫–∞ API, –Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)
2. ‚ö†Ô∏è Leverage –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤ (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)

---

## üîß –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### 1. –î–ª—è sandbox mode:
- ‚úÖ –û—à–∏–±–∫–∞ leverage –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞
- ‚úÖ –†–∞—Å—á–µ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç leverage –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ (5x)
- ‚úÖ –ü–æ–∑–∏—Ü–∏–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏

### 2. –î–ª—è production:
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é OKX API
- ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π endpoint –∏–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- ‚ö†Ô∏è –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å leverage –≤—Ä—É—á–Ω—É—é –Ω–∞ –±–∏—Ä–∂–µ

---

## ‚úÖ –ò–¢–û–ì

1. ‚úÖ **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ `active_positions` –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞**
2. ‚ö†Ô∏è **–û—à–∏–±–∫–∞ leverage –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞** (—Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏)
3. ‚úÖ **–ë–æ—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ** (leverage –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ—à–∏–±–∫–∞ `active_positions` –±–æ–ª—å—à–µ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è. –û—à–∏–±–∫–∞ leverage –≤ sandbox –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞ –∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É.

