# Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ: Balance & TP/SL

## âœ… Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾:

### 1. Balance â€” ÑƒÑ‡Ñ‘Ñ‚ ÑÐ¸Ð»Ñ‹ ÑÐ¸Ð³Ð½Ð°Ð»Ð°

**Ð‘Ñ‹Ð»Ð¾:** Ð¤Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ñ€Ð°Ð·Ð¼ÐµÑ€ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸
```python
position_size = balance * risk_percent
```

**Ð¡Ñ‚Ð°Ð»Ð¾:** ÐÐ´Ð°Ð¿Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ñ€Ð°Ð·Ð¼ÐµÑ€ Ð¿Ð¾ ÑÐ¸Ð»Ðµ ÑÐ¸Ð³Ð½Ð°Ð»Ð°
```python
# ÐžÑ‡ÐµÐ½ÑŒ ÑÐ¸Ð»ÑŒÐ½Ñ‹Ð¹ (>0.8): 1.5x â†’ +50%
# Ð¥Ð¾Ñ€Ð¾ÑˆÐ¸Ð¹ (0.6-0.8): 1.2x â†’ +20%
# Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ (0.4-0.6): 1.0x â†’ Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚
# Ð¡Ð»Ð°Ð±Ñ‹Ð¹ (<0.4): 0.8x â†’ -20%

strength_multiplier = get_strength_multiplier(signal_strength)
base_usd_size *= strength_multiplier
```

**Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÐºÐ°Ðº Ð² Spot:**
- Ð¡Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ ÑÐ¸Ð³Ð½Ð°Ð» â†’ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ñ
- Ð¡Ð»Ð°Ð±Ñ‹Ð¹ ÑÐ¸Ð³Ð½Ð°Ð» â†’ Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸

---

### 2. TP/SL â€” Ð½Ð° Ð±Ð¸Ñ€Ð¶Ðµ Ñ‡ÐµÑ€ÐµÐ· OCO

**Ð‘Ñ‹Ð»Ð¾:** market Ð¾Ñ€Ð´ÐµÑ€ Ð‘Ð•Ð— TP/SL
```python
signal = {"type": "market"}  # âŒ ÐÐµÑ‚ TP/SL!
```

**Ð¡Ñ‚Ð°Ð»Ð¾:** OCO Ð¾Ñ€Ð´ÐµÑ€ Ñ TP/SL
```python
signal = {"type": "oco"}  # âœ… OCO Ñ TP/SL!

# ÐÐ° Ð±Ð¸Ñ€Ð¶Ðµ ÑƒÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÑ‚ÑÑ:
- TP Ð½Ð° +0.3%
- SL Ð½Ð° -0.2%
```

**Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð½Ð° Ð±Ð¸Ñ€Ð¶Ðµ:**
- âœ… TP/SL ÑÑ‚Ð°Ð²ÑÑ‚ÑÑ Ñ‡ÐµÑ€ÐµÐ· OCO
- âœ… ÐŸÐ¾Ð·Ð¸Ñ†Ð¸Ñ Ð·Ð°ÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸
- âœ… ÐÐµ Ð²Ð¸ÑÐ¸Ñ‚ Ð² Ð±Ð¾ÐºÐ¾Ð²Ð¸ÐºÐµ Ð±ÐµÑÐºÐ¾Ð½ÐµÑ‡Ð½Ð¾

---

## ðŸŽ¯ ÐšÐ°Ðº ÑÑ‚Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚:

### Balance + Signal Strength:
```python
# ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð´Ð»Ñ $500 Ð±Ð°Ð»Ð°Ð½ÑÐ° Ð² small profile:
base_usd = $50

# Trending Ñ€ÐµÐ¶Ð¸Ð¼:
regime_multiplier = 1.2
$50 * 1.2 = $60

# Ð¡Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ ÑÐ¸Ð³Ð½Ð°Ð» (strength=0.9):
strength_multiplier = 1.5
$60 * 1.5 = $90

# Weak ÑÐ¸Ð³Ð½Ð°Ð» (strength=0.3):
strength_multiplier = 0.8
$60 * 0.8 = $48
```

### TP/SL Ñ‡ÐµÑ€ÐµÐ· OCO:
```python
# ÐŸÑ€Ð¸ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¸Ð¸ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸:
if signal.type == "oco":
    tp_price = entry_price * (1 + 0.3 / 100)  # +0.3%
    sl_price = entry_price * (1 - 0.2 / 100)  # -0.2%
    
    # ÐžÐšX Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ OCO Ð¾Ñ€Ð´ÐµÑ€:
    place_oco_order(
        symbol="ETH-USDT-SWAP",
        side="buy",
        size=0.01,
        tp_price=tp_price,
        sl_price=sl_price
    )
    
    # âœ… ÐÐ° Ð±Ð¸Ñ€Ð¶Ðµ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸:
    # - TP ÑÑ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ Ð¿Ñ€Ð¸ +0.3%
    # - SL ÑÑ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ Ð¿Ñ€Ð¸ -0.2%
```

---

## ðŸ” ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ñ Ð²Ð¸ÑÐ¸Ñ‚ Ð² Ð±Ð¾ÐºÐ¾Ð²Ð¸ÐºÐµ?

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°:** Ð¢ÐµÑÑ‚Ð¾Ð²Ð°Ñ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ñ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð° Ð‘Ð•Ð— TP/SL (Ñ‚Ð¸Ð¿ "market")

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** Ð˜Ð·Ð¼ÐµÐ½Ð¸Ð» Ð½Ð° "oco" â†’ Ñ‚ÐµÐ¿ÐµÑ€ÑŒ TP/SL ÑÑ‚Ð°Ð²ÑÑ‚ÑÑ!

---

## ðŸ“Š Ð˜Ñ‚Ð¾Ð³Ð¾Ð²Ð°Ñ Ð»Ð¾Ð³Ð¸ÐºÐ°:

### 1. Ð Ð°Ð·Ð¼ÐµÑ€ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸:
```
balance_profile â†’ regime_multiplier â†’ strength_multiplier â†’ final_size
```

### 2. TP/SL:
```
signal.type = "oco" â†’ OCO Ð¾Ñ€Ð´ÐµÑ€ â†’ TP/SL Ð½Ð° Ð±Ð¸Ñ€Ð¶Ðµ
```

**âœ… Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð²ÑÑ‘ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾!**


