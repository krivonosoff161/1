# ‚úÖ –†–ï–ó–Æ–ú–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô –ü–û –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø–ú –ì–†–û–ö–ê (2025-12-21)

## üéØ –û–ë–ó–û–†

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏–∑ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π Grok –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è winrate –∏ —Å–Ω–∏–∂–µ–Ω–∏—è —É–±—ã—Ç–∫–æ–≤.

---

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

### 1. Signal Strength Threshold

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ë–∞–∑–æ–≤—ã–π: `0.25` ‚Üí `0.7` ‚úÖ
- Trending: `0.4` ‚Üí `0.8` ‚úÖ
- Ranging: `0.3` ‚Üí `0.7` ‚úÖ
- Choppy: `0.25` ‚Üí `0.6` ‚úÖ

**–§–∞–π–ª:** `config/config_futures.yaml`
- –°—Ç—Ä–æ–∫–∞ 34: `min_signal_strength: 0.7`
- –°—Ç—Ä–æ–∫–∏ 1851, 1857, 1863: –û–±–Ω–æ–≤–ª–µ–Ω—ã –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —Ä–µ–∂–∏–º–∞–º

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** Winrate +10-15% (–º–µ–Ω—å—à–µ –ª–æ–∂–Ω—ã—Ö –≤—Ö–æ–¥–æ–≤)

---

### 2. ADX Threshold –¥–ª—è Ranging

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- Detection: `15.0` ‚Üí `20.0` ‚úÖ
- Ranging filter: `15.0` ‚Üí `20.0` ‚úÖ

**–§–∞–π–ª:** `config/config_futures.yaml`
- –°—Ç—Ä–æ–∫–∞ 222: `ranging_adx_threshold: 20.0`
- –°—Ç—Ä–æ–∫–∞ 349: `adx_threshold: 20.0`

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –ú–µ–Ω—å—à–µ –ª–æ–∂–Ω—ã—Ö –≤—Ö–æ–¥–æ–≤ –≤ —Å–ª–∞–±—ã–µ —Ç—Ä–µ–Ω–¥—ã

---

### 3. Max Holding - –ñ–µ—Å—Ç–∫–∏–π –°—Ç–æ–ø

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- `max_holding_minutes: 28` ‚Üí `25` ‚úÖ
- –î–æ–±–∞–≤–ª–µ–Ω `max_holding_hard_stop: true` ‚úÖ
- –î–æ–±–∞–≤–ª–µ–Ω `timeout_loss_percent: 1.5` ‚úÖ

**–§–∞–π–ª—ã:**
- `config/config_futures.yaml` (—Å—Ç—Ä–æ–∫–∏ 301-304)
- `src/strategies/scalping/futures/positions/exit_analyzer.py` (—Å—Ç—Ä–æ–∫–∏ 1978-2076)

**–õ–æ–≥–∏–∫–∞:**
- –ï—Å–ª–∏ `max_holding_hard_stop = true`:
  - –ó–∞–∫—Ä—ã–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é –ø–æ max_holding –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç PnL
  - –ï—Å–ª–∏ —É–±—ã—Ç–æ–∫ >= `timeout_loss_percent` (1.5%) - –∑–∞–∫—Ä—ã–≤–∞–µ–º –∂–µ—Å—Ç–∫–æ
  - –ï—Å–ª–∏ —É–±—ã—Ç–æ–∫ < `timeout_loss_percent` - –¥–∞–µ–º –µ—â–µ —à–∞–Ω—Å
- –ï—Å–ª–∏ `max_holding_hard_stop = false` - —Å—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ (–º—è–≥–∫–∏–π —Å—Ç–æ–ø)

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –ë—ã—Å—Ç—Ä–µ–µ —Ä–æ—Ç–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π, –º–µ–Ω—å—à–µ –≤–∏—Å—è—â–∏—Ö –ø–æ–∑–∏—Ü–∏–π

---

### 4. profit_too_low_vs_peak - Absolute Threshold

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `if pnl_percent > 0.5` –ø–µ—Ä–µ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π –ø–æ peak
- –¢–µ–ø–µ—Ä—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–∏–±—ã–ª–µ–π > 0.5%

**–§–∞–π–ª:** `src/strategies/scalping/futures/positions/exit_analyzer.py`
- –°—Ç—Ä–æ–∫–∞ 1712: RANGING —Ä–µ–∂–∏–º
- –°—Ç—Ä–æ–∫–∞ 2304: CHOPPY —Ä–µ–∂–∏–º

**–õ–æ–≥–∏–∫–∞:**
- –†–∞–Ω—å—à–µ: –ë–ª–æ–∫–∏—Ä–æ–≤–∞–ª –≤—ã—Ö–æ–¥ –µ—Å–ª–∏ `pnl_percent < peak_profit_pct * 0.7` –¥–ª—è –ª—é–±—ã—Ö –ø—Ä–∏–±—ã–ª–µ–π
- –¢–µ–ø–µ—Ä—å: –ë–ª–æ–∫–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `pnl_percent > 0.5` –ò `pnl_percent < peak_profit_pct * 0.7`
- –†–µ–∑—É–ª—å—Ç–∞—Ç: –ú–∏–∫—Ä–æ–ø—Ä–∏–±—ã–ª–∏ (< 0.5%) –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è, –∫–æ–º–∏—Å—Å–∏–∏ –Ω–µ —Å—ä–µ–¥–∞—é—Ç –ø—Ä–∏–±—ã–ª—å

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –ü–æ–∑–∏—Ü–∏–∏ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –≤–æ–≤—Ä–µ–º—è, –∫–æ–º–∏—Å—Å–∏–∏ –Ω–µ —Å—ä–µ–¥–∞—é—Ç –º–∏–∫—Ä–æ–ø—Ä–∏–±—ã–ª—å

---

### 5. Margin Safety Threshold

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- Ranging: `1.3` ‚Üí `1.5` ‚úÖ

**–§–∞–π–ª:** `config/config_futures.yaml`
- –°—Ç—Ä–æ–∫–∞ 1719: `safety_threshold: 1.5`

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –ë–æ–ª—å—à–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ equity ~25 USDT

---

## üìä –ò–¢–û–ì–û–í–ê–Ø –¢–ê–ë–õ–ò–¶–ê –ò–ó–ú–ï–ù–ï–ù–ò–ô

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ë—ã–ª–æ | –°—Ç–∞–ª–æ | –≠—Ñ—Ñ–µ–∫—Ç |
|----------|------|------|--------|
| Signal strength (ranging) | 0.3 | 0.7 | +133% |
| ADX threshold (ranging) | 15.0 | 20.0 | +33% |
| Max holding (ranging) | 28 –º–∏–Ω (soft) | 25 –º–∏–Ω (hard) | –ë—ã—Å—Ç—Ä–µ–µ —Ä–æ—Ç–∞—Ü–∏—è |
| Timeout loss | - | 1.5% | –ñ–µ—Å—Ç–∫–∏–π –≤—ã—Ö–æ–¥ |
| profit_too_low threshold | 0% | 0.5% | –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –º–∏–∫—Ä–æ–ø—Ä–∏–±—ã–ª–∏ |
| Margin safety (ranging) | 1.3 | 1.5 | +15% –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ |

---

## üéØ –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### Winrate
- **–¢–µ–∫—É—â–∏–π:** 15.62%
- **–û–∂–∏–¥–∞–µ–º—ã–π:** 25-30% (+10-15% –æ—Ç signal strength)

### Net PnL
- **–¢–µ–∫—É—â–∏–π:** -$9.92 –∑–∞ 6 —á–∞—Å–æ–≤
- **–û–∂–∏–¥–∞–µ–º—ã–π:** –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π (–º–µ–Ω—å—à–µ –ª–æ–∂–Ω—ã—Ö –≤—Ö–æ–¥–æ–≤, –ª—É—á—à–µ –≤—ã—Ö–æ–¥—ã)

### –ü—Ä–æ–±–ª–µ–º—ã
- ‚úÖ –ú–µ–Ω—å—à–µ –ª–æ–∂–Ω—ã—Ö –≤—Ö–æ–¥–æ–≤ (signal strength 0.7)
- ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ —Ä–æ—Ç–∞—Ü–∏—è (max holding hard stop)
- ‚úÖ –ö–æ–º–∏—Å—Å–∏–∏ –Ω–µ —Å—ä–µ–¥–∞—é—Ç –º–∏–∫—Ä–æ–ø—Ä–∏–±—ã–ª—å (absolute threshold)
- ‚úÖ –ë–æ–ª—å—à–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (margin safety 1.5)

---

## üìù –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ demo** (2-3 –¥–Ω—è)
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤ (–¥–æ–ª–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å—Å—è)
   - Winrate (–¥–æ–ª–∂–µ–Ω —É–ª—É—á—à–∏—Ç—å—Å—è)
   - Max holding –∑–∞–∫—Ä—ã—Ç–∏—è (–¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å)
   - profit_too_low_vs_peak (–Ω–µ –¥–æ–ª–∂–µ–Ω –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –º–∏–∫—Ä–æ–ø—Ä–∏–±—ã–ª–∏)
3. **–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** –ø–æ—Å–ª–µ 6-7 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:** 2025-12-21  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã  
**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é:** –î–∞








