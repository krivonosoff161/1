# ‚úÖ –ü–õ–ê–í–ê–Æ–©–ò–ï TP/SL –î–û–ë–ê–í–õ–ï–ù–´!

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### ‚ùå –ë–´–õ–û (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ %):
```python
tp_percent = 0.3%  # –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ
sl_percent = 0.2%  # –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ

tp_price = entry * 1.003
sl_price = entry * 0.998
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
- –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–µ–∂–∏–º —Ä—ã–Ω–∫–∞
- –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –¥–ª—è –≤—Å–µ—Ö —Å–∏—Ç—É–∞—Ü–∏–π

### ‚úÖ –°–¢–ê–õ–û (–ø–ª–∞–≤–∞—é—â–∏–µ –æ—Ç ATR):
```python
# 1. –ü–æ–ª—É—á–∞–µ–º ATR (–≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å)
atr = get_current_atr(symbol, price)  # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π!

# 2. –ü–æ–ª—É—á–∞–µ–º —Ä–µ–∂–∏–º —Ä—ã–Ω–∫–∞
regime = "trending"  # trending/ranging/choppy

# 3. –ê–¥–∞–ø—Ç–∏—Ä—É–µ–º –º–Ω–æ–∂–∏—Ç–µ–ª–∏ –ø–æ–¥ —Ä–µ–∂–∏–º
tp_multiplier = 0.6  # trending
sl_multiplier = 0.4

# 4. –ê–¥–∞–ø—Ç–∏—Ä—É–µ–º –ø–æ–¥ —Å–∏–ª—É —Å–∏–≥–Ω–∞–ª–∞
strength = 0.9
tp_multiplier *= 1.4  # (0.5 + 0.9) = 1.4x
sl_multiplier *= 1.4

# 5. –†–ê–°–ß–ï–¢ –û–¢ ATR (–ü–õ–ê–í–ê–Æ–©–ò–ô!)
tp_distance = atr * tp_multiplier
sl_distance = atr * sl_multiplier

tp_price = entry + tp_distance  # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π!
sl_price = entry - sl_distance  # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π!
```

---

## üìä –ü–†–ò–ú–ï–†–´:

### –ü—Ä–∏–º–µ—Ä 1: –ù–∏–∑–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å + Trending
```
–¶–µ–Ω–∞: $4000
ATR: $20 (0.5%)
–†–µ–∂–∏–º: trending
Strength: 0.9

tp_multiplier = 0.6 * 1.4 = 0.84
sl_multiplier = 0.4 * 1.4 = 0.56

TP distance: $20 * 0.84 = $16.8 (0.42%)
SL distance: $20 * 0.56 = $11.2 (0.28%)

TP: $4016.8
SL: $3988.8
‚úÖ –¢–∞–π—Ç-—Å—Ç–æ–ø –¥–ª—è –º–∞–ª–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏!
```

### –ü—Ä–∏–º–µ—Ä 2: –í—ã—Å–æ–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å + Trending
```
–¶–µ–Ω–∞: $4000
ATR: $80 (2%)
–†–µ–∂–∏–º: trending
Strength: 0.9

tp_multiplier = 0.6 * 1.4 = 0.84
sl_multiplier = 0.4 * 1.4 = 0.56

TP distance: $80 * 0.84 = $67.2 (1.68%)
SL distance: $80 * 0.56 = $44.8 (1.12%)

TP: $4067.2
SL: $3955.2
‚úÖ –ë–æ–ª—å—à–µ –æ—Ç—Å—Ç—É–ø –¥–ª—è –≤—ã—Å–æ–∫–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏!
```

### –ü—Ä–∏–º–µ—Ä 3: Choppy —Ä–µ–∂–∏–º + –°–ª–∞–±—ã–π —Å–∏–≥–Ω–∞–ª
```
–¶–µ–Ω–∞: $4000
ATR: $60 (1.5%)
–†–µ–∂–∏–º: choppy
Strength: 0.3

tp_multiplier = 0.3 * 0.8 = 0.24  # –ú–∞–ª–µ–Ω—å–∫–∏–π!
sl_multiplier = 0.3 * 0.8 = 0.24  # –ú–∞–ª–µ–Ω—å–∫–∏–π!

TP distance: $60 * 0.24 = $14.4 (0.36%)
SL distance: $60 * 0.24 = $14.4 (0.36%)

TP: $4014.4
SL: $3985.6
‚úÖ –û—á–µ–Ω—å —Ç–∞–π—Ç-—Å—Ç–æ–ø –¥–ª—è —Ö–∞–æ—Å–∞!
```

---

## üéØ –û–¢–õ–ò–ß–ò–Ø:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ % | –ü–ª–∞–≤–∞—é—â–∏–µ ATR |
|----------|-----------------|----------------|
| **Low vol** | TP 0.3%, SL 0.2% | TP 0.2%, SL 0.1% ‚úÖ |
| **High vol** | TP 0.3%, SL 0.2% | TP 1.5%, SL 1.0% ‚úÖ |
| **Trending** | TP 0.3%, SL 0.2% | TP 0.6%, SL 0.4% ‚úÖ |
| **Ranging** | TP 0.3%, SL 0.2% | TP 0.5%, SL 0.4% ‚úÖ |
| **Choppy** | TP 0.3%, SL 0.2% | TP 0.3%, SL 0.3% ‚úÖ |
| **Strong** | TP 0.3%, SL 0.2% | TP 0.45%, SL 0.3% ‚úÖ |
| **Weak** | TP 0.3%, SL 0.2% | TP 0.15%, SL 0.1% ‚úÖ |

**üëâ –ê–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –†–ï–ê–õ–¨–ù–û–ô —Å–∏—Ç—É–∞—Ü–∏–∏!**

---

## üéØ –ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢:

### 1. –û–ø—Ä–µ–¥–µ–ª—è–µ–º –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å:
```python
atr = get_current_atr(symbol, price)
# –ù–∏–∑–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å ‚Üí –º–µ–Ω—å—à–∏–π ATR
# –í—ã—Å–æ–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å ‚Üí –±–æ–ª—å—à–∏–π ATR
```

### 2. –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–µ–∂–∏–º —Ä—ã–Ω–∫–∞:
```python
regime = ARM.get_current_regime()
# trending ‚Üí –±–æ–ª—å—à–µ TP/SL
# ranging ‚Üí —Å—Ä–µ–¥–Ω–∏–π TP/SL  
# choppy ‚Üí –º–µ–Ω—å—à–µ TP/SL
```

### 3. –ê–¥–∞–ø—Ç–∏—Ä—É–µ–º –ø–æ–¥ —Å–∏–≥–Ω–∞–ª:
```python
strength = signal.get("strength")
# –°–∏–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª ‚Üí –±–æ–ª—å—à–µ TP/SL
# –°–ª–∞–±—ã–π —Å–∏–≥–Ω–∞–ª ‚Üí –º–µ–Ω—å—à–µ TP/SL
```

### 4. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º:
```python
tp_distance = ATR * regime_multiplier * strength_multiplier
sl_distance = ATR * regime_multiplier * strength_multiplier
```

---

## ‚úÖ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê:

### 1. –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
- –ù–∏–∑–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å ‚Üí —Ç–∞–π—Ç-—Å—Ç–æ–ø
- –í—ã—Å–æ–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å ‚Üí —à–∏—Ä–µ —Å—Ç–æ–ø

### 2. –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —Ä–µ–∂–∏–º—É —Ä—ã–Ω–∫–∞
- Trending ‚Üí –±–æ–ª—å—à–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª
- Ranging ‚Üí —Å—Ä–µ–¥–Ω–∏–µ TP/SL
- Choppy ‚Üí –º–µ–Ω—å—à–µ —Ä–∏—Å–∫

### 3. –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —Å–∏–ª–µ —Å–∏–≥–Ω–∞–ª–∞
- –°–∏–ª—å–Ω—ã–π ‚Üí –±–æ–ª—å—à–µ TP
- –°–ª–∞–±—ã–π ‚Üí –º–µ–Ω—å—à–µ —Ä–∏—Å–∫

### 4. –î–∏–Ω–∞–º–∏–∫–∞
- TP/SL –º–µ–Ω—è—é—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑
- –û–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–∏

---

## üéØ –ò–¢–û–ì:

**–¢–µ–ø–µ—Ä—å TP/SL:**
- ‚úÖ **–ü–ª–∞–≤–∞—é—â–∏–µ** - –æ—Ç ATR (–≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å)
- ‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ** - –ø–æ–¥ —Ä–µ–∂–∏–º (trending/ranging/choppy)
- ‚úÖ **–ì–∏–±–∫–∏–µ** - –ø–æ–¥ —Å–∏–ª—É —Å–∏–≥–Ω–∞–ª–∞ (strong/weak)
- ‚úÖ **–£–º–Ω—ã–µ** - –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤—Ö–æ–¥–∞!

**–ù–ï —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ 0.3%/0.2%!**
**–ê –ê–î–ê–ü–¢–ò–í–ù–´–ï –ø–æ–¥ —Å–∏—Ç—É–∞—Ü–∏—é!** üéØ‚ú®


