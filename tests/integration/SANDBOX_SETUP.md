# üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Sandbox —Ç–µ—Å—Ç–æ–≤

**–î–∞—Ç–∞:** 2026-01-05  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏ –∑–∞–ø—É—Å–∫—É –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ —Å —Ä–µ–∞–ª—å–Ω—ã–º sandbox –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º

---

## üìã –¢–†–ï–ë–û–í–ê–ù–ò–Ø:

### 1. –ü–æ–ª—É—á–∏—Ç—å Sandbox API –∫–ª—é—á–∏:

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ OKX
2. –ü–µ—Ä–µ–π—Ç–∏ –≤ API Management
3. –°–æ–∑–¥–∞—Ç—å API –∫–ª—é—á–∏ —Å –ø—Ä–∞–≤–∞–º–∏ –¥–ª—è **Sandbox**
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å:
   - API Key
   - Secret Key
   - Passphrase

---

## ‚öôÔ∏è –£–°–¢–ê–ù–û–í–ö–ê:

### Windows PowerShell:

```powershell
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏
$env:OKX_API_KEY="your_sandbox_api_key_here"
$env:OKX_SECRET_KEY="your_sandbox_secret_key_here"
$env:OKX_PASSPHRASE="your_sandbox_passphrase_here"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
python -c "import os; print('API_KEY:', 'SET' if os.getenv('OKX_API_KEY') else 'NOT SET')"
```

### Linux/Mac:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
export OKX_API_KEY="your_sandbox_api_key_here"
export OKX_SECRET_KEY="your_sandbox_secret_key_here"
export OKX_PASSPHRASE="your_sandbox_passphrase_here"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
python -c "import os; print('API_KEY:', 'SET' if os.getenv('OKX_API_KEY') else 'NOT SET')"
```

---

## üöÄ –ó–ê–ü–£–°–ö:

### –í—Å–µ sandbox —Ç–µ—Å—Ç—ã:

```bash
pytest tests/integration/test_position_size_real_sandbox.py -v -s
```

### –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç:

```bash
pytest tests/integration/test_position_size_real_sandbox.py::TestPositionSizeRealSandbox::test_full_chain_sandbox_client_to_risk_manager -v -s
```

### –° –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º:

```bash
pytest tests/integration/test_position_size_real_sandbox.py -v -s --tb=short
```

---

## ‚úÖ –ß–¢–û –ü–†–û–í–ï–†–Ø–ï–¢–°–Ø:

### –ü—Ä–æ–±–ª–µ–º–∞ #2: –†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏

**–¶–µ–ø–æ—á–∫–∞:**
```
Sandbox API ‚Üí OKXFuturesClient ‚Üí RiskManager ‚Üí —Ä–∞—Å—á–µ—Ç ‚Üí DataRegistry ‚Üí —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
1. ‚úÖ –†–µ–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ sandbox API
2. ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –±–∏—Ä–∂–∏ (—Ü–µ–Ω–∞, –±–∞–ª–∞–Ω—Å, instrument details)
3. ‚úÖ –†–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ –≤ –ú–û–ù–ï–¢–ê–• (–Ω–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞—Ö)
4. ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ DataRegistry
5. ‚úÖ –ß—Ç–µ–Ω–∏–µ –∏–∑ DataRegistry
6. ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –º–æ–Ω–µ—Ç—ã ‚Üí –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û:

- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **sandbox=True** (–±–µ–∑–æ–ø–∞—Å–Ω–æ, –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–µ–Ω–µ–≥)
- ‚úÖ –¢–µ—Å—Ç—ã –º–æ–≥—É—Ç –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å—Å—è –µ—Å–ª–∏ –Ω–µ—Ç API –∫–ª—é—á–µ–π (skipTest)
- ‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞—é—Ç—Å—è —Å —Ä–µ–∞–ª—å–Ω–æ–π sandbox –±–∏—Ä–∂–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –í–°–Ø —Ü–µ–ø–æ—á–∫–∞ —Ä–∞–±–æ—Ç—ã –ë–ï–ó –º–æ–∫–æ–≤

---

## üêõ –û–¢–õ–ê–î–ö–ê:

–ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è:

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ API –∫–ª—é—á–∏ –≤–∞–ª–∏–¥–Ω—ã –¥–ª—è sandbox
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ sandbox –¥–æ—Å—Ç—É–ø–µ–Ω
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å `-v -s` –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞

---

## üìä –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´:

- ‚úÖ –ó–∞–ø—Ä–æ—Å—ã –∫ sandbox API —É—Å–ø–µ—à–Ω—ã
- ‚úÖ –î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –†–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ –≤ –ú–û–ù–ï–¢–ê–• (–Ω–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞—Ö)
- ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –º–æ–Ω–µ—Ç—ã ‚Üí –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è
- ‚úÖ DataRegistry —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏ —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
