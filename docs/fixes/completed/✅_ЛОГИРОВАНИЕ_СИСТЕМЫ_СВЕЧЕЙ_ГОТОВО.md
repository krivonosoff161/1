# ‚úÖ –õ–û–ì–ò–†–û–í–ê–ù–ò–ï –°–ò–°–¢–ï–ú–´ –°–í–ï–ß–ï–ô –ì–û–¢–û–í–û

**–î–∞—Ç–∞:** 26.11.2025 23:05  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

---

## üìä –¢–†–ò –¢–ò–ü–ê –õ–û–ì–û–í

### **1. –û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥ (DEBUG+)** 
**–§–∞–π–ª:** `logs/futures/futures_main_{date}.log`  
**–£—Ä–æ–≤–µ–Ω—å:** DEBUG+  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª–Ω–æ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π

### **2. INFO –ª–æ–≥ (INFO+)**
**–§–∞–π–ª:** `logs/futures/info_{date}.log`  
**–£—Ä–æ–≤–µ–Ω—å:** INFO+  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–∞–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –∏ —Å—Ç–∞—Ç—É—Å—ã

### **3. ERROR –ª–æ–≥ (ERROR+)**
**–§–∞–π–ª:** `logs/futures/errors_{date}.log`  
**–£—Ä–æ–≤–µ–Ω—å:** ERROR+  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏ –∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### **StructuredLogger (JSON):**
**–§–∞–π–ª—ã:**
- `logs/futures/structured/candles_init_{date}.json` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–≤–µ—á–µ–π
- `logs/futures/structured/candles_new_{date}.json` - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–≤–µ—á–µ–π (5m, 1H, 1D)
- `logs/futures/structured/candles_usage_{date}.json` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–≤–µ—á–µ–π —Ñ–∏–ª—å—Ç—Ä–∞–º–∏

---

## ‚úÖ –ß–¢–û –õ–û–ì–ò–†–£–ï–¢–°–Ø

### **1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–≤–µ—á–µ–π** üìä

**INFO –ª–æ–≥:**
- ‚úÖ –ù–∞—á–∞–ª–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ –∏ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–≤–µ—á–µ–π
- ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**StructuredLogger:**
- ‚úÖ –ö–∞–∂–¥—ã–π —É—Å–ø–µ—à–Ω—ã–π –±—É—Ñ–µ—Ä ‚Üí `candles_init_{date}.json`
- ‚úÖ –ö–∞–∂–¥–∞—è –æ—à–∏–±–∫–∞ ‚Üí `candles_init_{date}.json` —Å `status="error"`
- ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ ‚Üí `candles_init_{date}.json` —Å `symbol="ALL"`

---

### **2. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–≤–µ—á–µ–π** üîÑ

**INFO –ª–æ–≥:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–≤–µ—á–µ–π –¥–ª—è –≤–∞–∂–Ω—ã—Ö —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤ (5m, 1H, 1D)

**DEBUG –ª–æ–≥:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–≤–µ—á–µ–π –¥–ª—è 1m
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∏—Ä—É—é—â–∏—Ö—Å—è —Å–≤–µ—á–µ–π

**StructuredLogger:**
- ‚úÖ –¢–æ–ª—å–∫–æ –¥–ª—è –≤–∞–∂–Ω—ã—Ö —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤ (5m, 1H, 1D) ‚Üí `candles_new_{date}.json`

---

### **3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–≤–µ—á–µ–π –≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ö** üîç

**INFO –ª–æ–≥:**
- ‚úÖ Fallback –∫ API (–∫–æ–≥–¥–∞ DataRegistry –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–≤–µ—á–µ–π)

**DEBUG –ª–æ–≥:**
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–µ—á–µ–π –∏–∑ DataRegistry
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–µ—á–µ–π —á–µ—Ä–µ–∑ API

**StructuredLogger:**
- ‚úÖ –ö–∞–∂–¥–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ‚Üí `candles_usage_{date}.json`
- ‚úÖ –£–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫ (dataregistry –∏–ª–∏ api)
- ‚úÖ –£–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è fallback –∫ API

---

## üìã –†–ê–°–ü–†–ï–î–ï–õ–ï–ù–ò–ï –ü–û –õ–û–ì–ê–ú

| –°–æ–±—ã—Ç–∏–µ | INFO –ª–æ–≥ | DEBUG –ª–æ–≥ | ERROR –ª–æ–≥ | StructuredLogger |
|---------|----------|-----------|-----------|------------------|
| **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** | ‚úÖ –ù–∞—á–∞–ª–æ/–∫–æ–Ω–µ—Ü, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ | ‚úÖ –î–µ—Ç–∞–ª–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ | ‚úÖ –û—à–∏–±–∫–∏ | ‚úÖ –í—Å–µ —Å–æ–±—ã—Ç–∏—è |
| **–ù–æ–≤–∞—è —Å–≤–µ—á–∞ (5m, 1H, 1D)** | ‚úÖ | - | - | ‚úÖ |
| **–ù–æ–≤–∞—è —Å–≤–µ—á–∞ (1m)** | - | ‚úÖ | - | - |
| **Fallback –∫ API** | ‚úÖ | - | - | ‚úÖ |
| **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ DataRegistry** | - | ‚úÖ | - | ‚úÖ |
| **–û—à–∏–±–∫–∏** | - | - | ‚úÖ | ‚úÖ |

---

## üîç –ö–ê–ö –ê–ù–ê–õ–ò–ó–ò–†–û–í–ê–¢–¨

### **1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:**
```bash
# INFO –ª–æ–≥
grep "–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±—É—Ñ–µ—Ä–æ–≤ —Å–≤–µ—á–µ–π" logs/futures/info_*.log

# StructuredLogger - –æ—à–∏–±–∫–∏
cat logs/futures/structured/candles_init_*.json | jq '.[] | select(.status=="error")'

# StructuredLogger - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
cat logs/futures/structured/candles_init_*.json | jq '.[] | select(.symbol=="ALL")'
```

### **2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–≤–µ—á–µ–π:**
```bash
# INFO –ª–æ–≥ (—Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ —Ç–∞–π–º—Ñ—Ä–µ–π–º—ã)
grep "–°–æ–∑–¥–∞–Ω–∞ –Ω–æ–≤–∞—è —Å–≤–µ—á–∞" logs/futures/info_*.log | grep -E "5m|1H|1D"

# StructuredLogger
cat logs/futures/structured/candles_new_*.json | jq '.[] | select(.timeframe=="5m")'
```

### **3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è DataRegistry:**
```bash
# INFO –ª–æ–≥ (fallback –∫ API)
grep "fallback –∫ API" logs/futures/info_*.log

# StructuredLogger - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
cat logs/futures/structured/candles_usage_*.json | jq '[.[] | .source] | group_by(.) | map({source: .[0], count: length})'

# StructuredLogger - fallback –∫ API
cat logs/futures/structured/candles_usage_*.json | jq '.[] | select(.fallback_to_api==true)'
```

---

## ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

1. ‚úÖ –ú–µ—Ç–æ–¥—ã –≤ StructuredLogger –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–≤–µ—á–µ–π
2. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ orchestrator
3. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Å–≤–µ—á–µ–π –≤ websocket_coordinator
4. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ MTF —Ñ–∏–ª—å—Ç—Ä–µ
5. ‚úÖ –ü–µ—Ä–µ–¥–∞—á–∞ structured_logger –≤ WebSocketCoordinator

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ**

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã —Å–≤–µ—á–µ–π —á–µ—Ä–µ–∑ –ª–æ–≥–∏!






