# üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ ADX Filter –æ—Ç –ì—Ä–æ–∫–∞

> **–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 21 –¥–µ–∫–∞–±—Ä—è 2025  
> **–ü—Ä–æ–≤–µ—Ä—è–µ–º—ã–π —Ñ–∞–π–ª:** `src/strategies/modules/adx_filter.py`

---

## ‚úÖ –ß–¢–û –ü–†–ê–í–ò–õ–¨–ù–û –í –ê–ù–ê–õ–ò–ó–ï –ì–†–û–ö–ê

1. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** - ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–¥—É
   - `ADXFilterConfig` - –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø–∏—Å–∞–Ω
   - `ADXResult` - –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø–∏—Å–∞–Ω
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–æ–≤ - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç

2. **–õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (3 —ç—Ç–∞–ø–∞)** - ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø–∏—Å–∞–Ω–∞
   - –≠—Ç–∞–ø 1: –†–∞—Å—á–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
   - –≠—Ç–∞–ø 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–ª—ã —Ç—Ä–µ–Ω–¥–∞ (ADX < threshold)
   - –≠—Ç–∞–ø 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è (+DI/-DI)

3. **–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤** - ‚úÖ –í –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - TR (True Range) - ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
   - +DI/-DI —Ä–∞—Å—á–µ—Ç - ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
   - ADX —Ä–∞—Å—á–µ—Ç - ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
   - Wilder's Smoothing - ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ

4. **–ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫** - ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø–∏—Å–∞–Ω–∞
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ NaN - ‚úÖ –ï—Å—Ç—å –≤ –∫–æ–¥–µ
   - –ó–∞—â–∏—Ç–∞ –æ—Ç –¥–µ–ª–µ–Ω–∏—è –Ω–∞ –Ω–æ–ª—å - ‚úÖ –ï—Å—Ç—å –≤ –∫–æ–¥–µ (1e-10)
   - Fail-Open —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è - ‚úÖ –ï—Å—Ç—å –≤ –∫–æ–¥–µ (allowed=True –ø—Ä–∏ –æ—à–∏–±–∫–µ)

5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ARM** - ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø–∏—Å–∞–Ω–∞
   - –ú–µ—Ç–æ–¥ `update_parameters()` - ‚úÖ –ï—Å—Ç—å –≤ –∫–æ–¥–µ
   - –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ä–µ–∂–∏–º—ã - ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

6. **–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** - ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø–∏—Å–∞–Ω—ã

---

## ‚ùå –û–®–ò–ë–ö–ò –ò –ù–ï–¢–û–ß–ù–û–°–¢–ò –í –ê–ù–ê–õ–ò–ó–ï

### 1. ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–∞ +DM/-DM

**–ß—Ç–æ —Å–∫–∞–∑–∞–ª –ì—Ä–æ–∫:**
```python
+DM = high - prev_high  (–µ—Å–ª–∏ > 0 –∏ –±–æ–ª—å—à–µ down_move)
-DM = prev_low - low    (–µ—Å–ª–∏ > 0 –∏ –±–æ–ª—å—à–µ up_move)
```

**–ß—Ç–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –∫–æ–¥–µ (—Å—Ç—Ä–æ–∫–∏ 369-393):**
```python
def _calculate_plus_dm(self, highs: np.ndarray) -> np.ndarray:
    up_move = highs[1:] - highs[:-1]
    plus_dm = np.zeros(len(highs))
    plus_dm[1:] = np.where(up_move > 0, up_move, 0)
    return plus_dm

def _calculate_minus_dm(self, lows: np.ndarray) -> np.ndarray:
    down_move = lows[:-1] - lows[1:]
    minus_dm = np.zeros(len(lows))
    minus_dm[1:] = np.where(down_move > 0, down_move, 0)
    return minus_dm
```

**–ü–†–û–ë–õ–ï–ú–ê:** 
- –ö–æ–¥ –ù–ï –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏–µ "–∏ –±–æ–ª—å—à–µ down_move/up_move"!
- –≠—Ç–æ **—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è** ADX, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –¥–∞–≤–∞—Ç—å –º–µ–Ω–µ–µ —Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –í –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º ADX –£–∞–π–ª–¥–µ—Ä–∞ +DM –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å > 0 **–ò** > |down_move|, –∏–Ω–∞—á–µ 0

**–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø:** 
- –õ–∏–±–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥, —á—Ç–æ–±—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º—É ADX
- –õ–∏–±–æ –æ–±–Ω–æ–≤–∏—Ç—å –∞–Ω–∞–ª–∏–∑, —É–∫–∞–∑–∞–≤, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è

---

### 2. ‚ùå –ù–ï–¢–û–ß–ù–û–°–¢–¨: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —Ä–µ–∂–∏–º–∞–º –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–∞–ª—å–Ω—ã–º

**–ß—Ç–æ —Å–∫–∞–∑–∞–ª –ì—Ä–æ–∫:**
```
TRENDING —Ä–µ–∂–∏–º: adx_threshold=20.0, di_difference=3.0
RANGING —Ä–µ–∂–∏–º: adx_threshold=25.0, di_difference=5.0
CHOPPY —Ä–µ–∂–∏–º: adx_threshold=30.0, di_difference=7.0
```

**–ß—Ç–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –∫–æ–Ω—Ñ–∏–≥–µ (`config_futures.yaml`):**
```yaml
trending:
  modules:
    adx_filter:
      adx_threshold: 18.0  # ‚ùå –ù–ï 20.0!
      adx_di_difference: 1.5  # ‚ùå –ù–ï 3.0!

ranging:
  modules:
    adx_filter:
      adx_threshold: 15.0  # ‚ùå –ù–ï 25.0!
      adx_di_difference: 1.2  # ‚ùå –ù–ï 5.0!

choppy:
  modules:
    adx_filter:
      adx_threshold: 12.0  # ‚ùå –ù–ï 30.0!
      adx_di_difference: 1.0  # ‚ùå –ù–ï 7.0!
```

**–ü–†–û–ë–õ–ï–ú–ê:**
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –∞–Ω–∞–ª–∏–∑–µ **–ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç** —Ä–µ–∞–ª—å–Ω—ã–º!
- –†–µ–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã **–ì–û–†–ê–ó–î–û –º—è–≥—á–µ** (–Ω–∏–∂–µ –ø–æ—Ä–æ–≥–∏, –º–µ–Ω—å—à–µ —Ä–∞–∑–Ω–∏—Ü–∞ DI)
- –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Ñ–∏–ª—å—Ç—Ä–∞!

**–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø:**
- –û–±–Ω–æ–≤–∏—Ç—å –∞–Ω–∞–ª–∏–∑ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
- –£–∫–∞–∑–∞—Ç—å, —á—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∏ –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å—Å—è

---

### 3. ‚ö†Ô∏è –£–ü–£–©–ï–ù–û: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ—á–µ–π

**–ß—Ç–æ —É–ø—É—Å—Ç–∏–ª –ì—Ä–æ–∫:**
–í –∫–æ–¥–µ –µ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏:
```python
if len(candles) < self.config.adx_period + 1:
    return 0.0
```

**–ü–†–û–ë–õ–ï–ú–ê:**
- –ï—Å–ª–∏ —Å–≤–µ—á–µ–π –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ (< 15 –¥–ª—è period=14), ADX –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0.0
- –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ñ–∏–ª—å—Ç—Ä **–±–ª–æ–∫–∏—Ä—É–µ—Ç** —Å–∏–≥–Ω–∞–ª (ADX=0 < threshold)
- –í –∞–Ω–∞–ª–∏–∑–µ –Ω–µ —É–ø–æ–º—è–Ω—É—Ç–æ!

**–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø:**
- –î–æ–±–∞–≤–∏—Ç—å –≤ –∞–Ω–∞–ª–∏–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–≤–µ—á–µ–π
- –£–∫–∞–∑–∞—Ç—å, —á—Ç–æ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–∏–≥–Ω–∞–ª

---

### 4. ‚ö†Ô∏è –£–ü–£–©–ï–ù–û: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ NaN –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —ç—Ç–∞–ø–∞—Ö

**–ß—Ç–æ —É–ø—É—Å—Ç–∏–ª –ì—Ä–æ–∫:**
–í –∞–Ω–∞–ª–∏–∑–µ —É–ø–æ–º—è–Ω—É—Ç–∞ —Ç–æ–ª—å–∫–æ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ NaN, –Ω–æ –≤ –∫–æ–¥–µ –µ—Å—Ç—å **–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏**:

1. –ü–æ—Å–ª–µ —Ä–∞—Å—á–µ—Ç–∞ ATR (—Å—Ç—Ä–æ–∫–∞ 215)
2. –ü–æ—Å–ª–µ —Ä–∞—Å—á–µ—Ç–∞ +DI/-DI (—Å—Ç—Ä–æ–∫–∏ 238-250)
3. –ü–æ—Å–ª–µ —Ä–∞—Å—á–µ—Ç–∞ DX (—Å—Ç—Ä–æ–∫–∏ 261-266)
4. –ü–æ—Å–ª–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ ADX (—Å—Ç—Ä–æ–∫–∏ 278-282)

**–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø:**
- –£–∫–∞–∑–∞—Ç—å, —á—Ç–æ –∑–∞—â–∏—Ç–∞ –æ—Ç NaN —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –Ω–∞ **–∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ** —Ä–∞—Å—á–µ—Ç–∞
- –≠—Ç–æ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ, —á–µ–º –æ–¥–Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

---

### 5. ‚ö†Ô∏è –ù–ï–¢–û–ß–ù–û–°–¢–¨: –û–ø–∏—Å–∞–Ω–∏–µ Wilder's Smoothing

**–ß—Ç–æ —Å–∫–∞–∑–∞–ª –ì—Ä–æ–∫:**
```python
smoothed[i] = (smoothed[i-1] * (period - 1) + value[i]) / period
```

**–ß—Ç–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –∫–æ–¥–µ (—Å—Ç—Ä–æ–∫–∏ 395-411):**
```python
def _wilder_smooth(self, values: np.ndarray, period: int) -> np.ndarray:
    smoothed = np.zeros(len(values))
    smoothed[: period - 1] = np.nan  # ‚úÖ –ü–µ—Ä–≤—ã–µ period-1 –∑–Ω–∞—á–µ–Ω–∏–π = nan
    
    # –ü–µ—Ä–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ = –ø—Ä–æ—Å—Ç–æ–µ —Å—Ä–µ–¥–Ω–µ–µ
    smoothed[period - 1] = np.mean(values[:period])
    
    # –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è = Wilder's smoothing
    for i in range(period, len(values)):
        smoothed[i] = (smoothed[i - 1] * (period - 1) + values[i]) / period
    
    return smoothed
```

**–ü–†–û–ë–õ–ï–ú–ê:**
- –í –∞–Ω–∞–ª–∏–∑–µ –Ω–µ —É–ø–æ–º—è–Ω—É—Ç–æ, —á—Ç–æ **–ø–µ—Ä–≤—ã–µ period-1 –∑–Ω–∞—á–µ–Ω–∏–π = nan**
- –ù–µ —É–ø–æ–º—è–Ω—É—Ç–æ, —á—Ç–æ **–ø–µ—Ä–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ = –ø—Ä–æ—Å—Ç–æ–µ —Å—Ä–µ–¥–Ω–µ–µ** (–Ω–µ Wilder's smoothing)

**–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø:**
- –£—Ç–æ—á–Ω–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ Wilder's Smoothing —Å —É—á–µ—Ç–æ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

---

## üìä –ò–¢–û–ì–û–í–ê–Ø –û–¶–ï–ù–ö–ê –ê–ù–ê–õ–ò–ó–ê –ì–†–û–ö–ê

### ‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:
1. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø–∏—Å–∞–Ω–∞ –æ–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
2. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø–∏—Å–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
3. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø–∏—Å–∞–Ω–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ (–∫—Ä–æ–º–µ +DM/-DM)
4. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø–∏—Å–∞–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫
5. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø–∏—Å–∞–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ARM

### ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ +DM/-DM** - –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é
2. **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —Ä–µ–∂–∏–º–∞–º –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–∞–ª—å–Ω—ã–º** - –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å

### ‚ö†Ô∏è –£–ø—É—â–µ–Ω–∏—è:
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ—á–µ–π
2. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ NaN –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —ç—Ç–∞–ø–∞—Ö
3. –î–µ—Ç–∞–ª–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Wilder's Smoothing

---

## üîß –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Æ

### 1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ +DM/-DM:

**–ë—ã–ª–æ:**
```python
+DM = high - prev_high  (–µ—Å–ª–∏ > 0 –∏ –±–æ–ª—å—à–µ down_move)
-DM = prev_low - low    (–µ—Å–ª–∏ > 0 –∏ –±–æ–ª—å—à–µ up_move)
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```python
# ‚ö†Ô∏è –£–ü–†–û–©–ï–ù–ù–ê–Ø –í–ï–†–°–ò–Ø (–Ω–µ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π ADX –£–∞–π–ª–¥–µ—Ä–∞):
+DM = high - prev_high  (–µ—Å–ª–∏ > 0, –∏–Ω–∞—á–µ 0)
-DM = prev_low - low    (–µ—Å–ª–∏ > 0, –∏–Ω–∞—á–µ 0)

# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –í –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º ADX —Ç–∞–∫–∂–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
# +DM –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å > |down_move|, –∏–Ω–∞—á–µ 0
# -DM –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å > |up_move|, –∏–Ω–∞—á–µ 0
# –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```

### 2. –û–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —Ä–µ–∂–∏–º–∞–º:

**–ë—ã–ª–æ:**
```
TRENDING: adx_threshold=20.0, di_difference=3.0
RANGING: adx_threshold=25.0, di_difference=5.0
CHOPPY: adx_threshold=30.0, di_difference=7.0
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
TRENDING: adx_threshold=18.0, di_difference=1.5  (–±–æ–ª–µ–µ –º—è–≥–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
RANGING: adx_threshold=15.0, di_difference=1.2   (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
CHOPPY: adx_threshold=12.0, di_difference=1.0    (–±–æ–ª–µ–µ –º—è–≥–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Ö–∞–æ—Å–∞)

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ (BTC, ETH –∏ —Ç.–¥.)
```

### 3. –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–≤–µ—á–µ–π:

```markdown
**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –¥–∞–Ω–Ω—ã–º:**
- –ú–∏–Ω–∏–º—É–º —Å–≤–µ—á–µ–π: `adx_period + 1` (–¥–ª—è period=14 –Ω—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 15 —Å–≤–µ—á–µ–π)
- –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è ADX=0.0, —á—Ç–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–∏–≥–Ω–∞–ª
```

### 4. –£—Ç–æ—á–Ω–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ Wilder's Smoothing:

```markdown
**Wilder's Smoothing:**
1. –ü–µ—Ä–≤—ã–µ `period-1` –∑–Ω–∞—á–µ–Ω–∏–π = `nan` (–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö)
2. –ü–µ—Ä–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ = –ø—Ä–æ—Å—Ç–æ–µ —Å—Ä–µ–¥–Ω–µ–µ: `mean(values[:period])`
3. –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è = Wilder's smoothing: `(prev * (period-1) + current) / period`
```

---

## ‚úÖ –í–´–í–û–î

**–ê–Ω–∞–ª–∏–∑ –ì—Ä–æ–∫–∞ –≤ —Ü–µ–ª–æ–º –ü–†–ê–í–ò–õ–¨–ù–´–ô**, –Ω–æ –µ—Å—Ç—å **2 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏**:

1. ‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ +DM/-DM** - –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é
2. ‚ùå **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —Ä–µ–∂–∏–º–∞–º –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–∞–ª—å–Ω—ã–º** - –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–∏ 2 –ø—É–Ω–∫—Ç–∞, –∏ –∞–Ω–∞–ª–∏–∑ –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º.

---

**–ö–æ–Ω–µ—Ü –ø—Ä–æ–≤–µ—Ä–∫–∏**

