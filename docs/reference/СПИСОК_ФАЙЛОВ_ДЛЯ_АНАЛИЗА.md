# üìã –°–ü–ò–°–û–ö –§–ê–ô–õ–û–í –î–õ–Ø –ü–û–õ–ù–û–ì–û –ê–ù–ê–õ–ò–ó–ê –¢–û–†–ì–û–í–õ–ò –ó–ê 21.12.2025

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-22  
**–¶–µ–ª—å:** –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏ –∑–∞ 21.12.2025

---

## üéØ –ë–´–°–¢–†–ê–Ø –°–í–û–î–ö–ê

### ‚≠ê –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –¥–∞–Ω–Ω—ã–º–∏ –∑–∞ 21.12.2025:

1. **`logs/futures/archived/logs_2025-12-21_23-42-26/`** ‚≠ê **–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø**
   - –†–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π (14:11-22:32)
   - –û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥: `futures_main_2025-12-21.log` (22,788 —Å—Ç—Ä–æ–∫)
   - –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
   - CSV —Ñ–∞–π–ª—ã: trades, signals, orders, positions_open

2. **`logs/futures/archived/logs_2025-12-22_00-16-39/`**
   - –û—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏ –≤ –µ–¥–∏–Ω–æ–º —Ñ–∞–π–ª–µ
   - CSV —Ñ–∞–π–ª—ã: trades, signals, orders, positions_open
   - –£–¥–æ–±–Ω–æ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞

### üìä CSV –¥–∞–Ω–Ω—ã–µ (–¥–æ—Å—Ç—É–ø–Ω—ã –≤ –æ–±–µ–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö):
- ‚úÖ `trades_2025-12-21.csv` ‚Äî 169 —Å–¥–µ–ª–æ–∫
- ‚úÖ `signals_2025-12-21.csv` ‚Äî 5,523 —Å–∏–≥–Ω–∞–ª–∞
- ‚úÖ `orders_2025-12-21.csv` ‚Äî –≤—Å–µ –æ—Ä–¥–µ—Ä–∞

### üíª –ö–æ–¥ (–≤—Å–µ —Ñ–∞–π–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã):
- ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –∫–æ–¥–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: `config/config_futures.yaml`

---

## 1. üìÅ –õ–û–ì–ò (–∑–∞ –≤–µ—Å—å –¥–µ–Ω—å 21.12.2025)

### ‚úÖ –í–°–ï –õ–û–ì–ò –ù–ê–ô–î–ï–ù–´ –í –î–í–£–• –î–ò–†–ï–ö–¢–û–†–ò–Ø–•!

**–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è 1:** `logs/futures/archived/logs_2025-12-21_23-42-26/` (–∞—Ä—Ö–∏–≤ —Å–æ–∑–¥–∞–Ω –≤ 23:42:26)
**–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è 2:** `logs/futures/archived/logs_2025-12-22_00-16-39/` (–∞—Ä—Ö–∏–≤ —Å–æ–∑–¥–∞–Ω –≤ 00:16:39)

### 1.1 –û—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏ –∑–∞ 21.12.2025

#### –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è 1: `logs_2025-12-21_23-42-26/` ‚≠ê **–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø –î–õ–Ø –î–ï–¢–ê–õ–¨–ù–û–ì–û –ê–ù–ê–õ–ò–ó–ê**
- ‚úÖ **futures_main_2025-12-21.log** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥ (22,788 —Å—Ç—Ä–æ–∫, –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –≤ 22:32:11)
- ‚úÖ **futures_main_2025-12-21.*.log** ‚Äî —Ä–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ (–º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ –ø–æ –≤—Ä–µ–º–µ–Ω–∏: 14:11-22:32)
  - –ü—Ä–∏–º–µ—Ä—ã: `futures_main_2025-12-21.2025-12-21_14-11-41_448901.log`, `futures_main_2025-12-21.2025-12-21_22-02-28_977584.log`
  - **–ü–æ–∫—Ä—ã—Ç–∏–µ:** –° 14:11 –¥–æ 22:32 (–≤–µ—Å—å —Ç–æ—Ä–≥–æ–≤—ã–π –¥–µ–Ω—å)
- ‚úÖ **info_2025-12-21.log** ‚Äî info –ª–æ–≥
- ‚úÖ **info_2025-12-21.*.log** ‚Äî —Ä–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ info –ª–æ–≥–∏ (4 —Ñ–∞–π–ª–∞: 14:11, 15:28, 17:15, 18:39)
- ‚úÖ **errors_2025-12-21.log** ‚Äî –æ—à–∏–±–∫–∏ –∑–∞ 21.12.2025
- ‚úÖ **trades_2025-12-21.csv** ‚Äî —Å–¥–µ–ª–∫–∏
- ‚úÖ **signals_2025-12-21.csv** ‚Äî —Å–∏–≥–Ω–∞–ª—ã
- ‚úÖ **orders_2025-12-21.csv** ‚Äî –æ—Ä–¥–µ—Ä–∞
- ‚úÖ **positions_open_2025-12-21.csv** ‚Äî –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏
- ‚úÖ **debug_20251221_141141.csv** ‚Äî debug –¥–∞–Ω–Ω—ã–µ (–Ω–∞—á–∞–ª–æ: 14:11)

#### –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è 2: `logs_2025-12-22_00-16-39/`
- ‚úÖ **futures_main_2025-12-21.log** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥ (–≤–æ–∑–º–æ–∂–Ω–æ, –∑–∞ –≤—Ç–æ—Ä—É—é —á–∞—Å—Ç—å –¥–Ω—è –∏–ª–∏ –ø–æ–ª–Ω—ã–π)
- ‚úÖ **info_2025-12-21.log** ‚Äî info –ª–æ–≥
- ‚úÖ **errors_2025-12-21.log** ‚Äî –æ—à–∏–±–∫–∏ –∑–∞ 21.12.2025
- ‚úÖ **trades_2025-12-21.csv** ‚Äî —Å–¥–µ–ª–∫–∏
- ‚úÖ **signals_2025-12-21.csv** ‚Äî —Å–∏–≥–Ω–∞–ª—ã
- ‚úÖ **orders_2025-12-21.csv** ‚Äî –æ—Ä–¥–µ—Ä–∞
- ‚úÖ **positions_open_2025-12-21.csv** ‚Äî –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏
- ‚úÖ **debug_20251221_234257.csv** ‚Äî debug –¥–∞–Ω–Ω—ã–µ

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** 
- **–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è 1** (`logs_2025-12-21_23-42-26`): 
  - –°–æ–¥–µ—Ä–∂–∏—Ç —Ä–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏ 14:11-22:32
  - –û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥ `futures_main_2025-12-21.log` –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –≤ 22:32:11
  - –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
  - **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:** –ë–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ —Å —Ä–æ—Ç–∞—Ü–∏–µ–π
  
- **–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è 2** (`logs_2025-12-22_00-16-39`): 
  - –°–æ–¥–µ—Ä–∂–∏—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏ (–≤–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –∏–ª–∏ –ø–æ–ª–Ω—ã–π –¥–µ–Ω—å)
  - –ë–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –±–µ–∑ —Ä–æ—Ç–∞—Ü–∏–∏
  - **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:** –ï—Å–ª–∏ –Ω—É–∂–µ–Ω –µ–¥–∏–Ω—ã–π —Ñ–∞–π–ª –±–µ–∑ —Ä–æ—Ç–∞—Ü–∏–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** 
1. ‚≠ê **–î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é 1** (`logs_2025-12-21_23-42-26`) 
   - –°–æ–¥–µ—Ä–∂–∏—Ç —Ä–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
   - –ü–æ–∫—Ä—ã–≤–∞–µ—Ç –ø–µ—Ä–∏–æ–¥ —Å 14:11 –¥–æ 22:32 (–≤–µ—Å—å —Ç–æ—Ä–≥–æ–≤—ã–π –¥–µ–Ω—å)
   - –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
   
2. **–î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é 2** (`logs_2025-12-22_00-16-39`) 
   - –°–æ–¥–µ—Ä–∂–∏—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏ –≤ –µ–¥–∏–Ω–æ–º —Ñ–∞–π–ª–µ
   - –ë–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –±–µ–∑ —Ä–æ—Ç–∞—Ü–∏–∏
   - –£–¥–æ–±–Ω–æ –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—É
   
3. **–î–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–∞ –∞—Ä—Ö–∏–≤–∞ –∏ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫
   - –û–±—ä–µ–¥–∏–Ω–∏—Ç—å CSV –¥–∞–Ω–Ω—ã–µ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–∞ –Ω–∞–±–æ—Ä–∞ –ª–æ–≥–æ–≤ –¥–ª—è –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

### 1.2 –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ (–∑–∞ 21.12.2025)
- ‚úÖ **logs/futures/structured/position_closures_2025-12-21.jsonl** ‚Äî –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π (3 –∑–∞–ø–∏—Å–∏)
- ‚úÖ **logs/futures/debug/exit_decisions/** ‚Äî —Ä–µ—à–µ–Ω–∏—è ExitAnalyzer (200+ JSON —Ñ–∞–π–ª–æ–≤ –∑–∞ 21.12)

### 1.3 –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
–ü–æ—Å–∫–æ–ª—å–∫—É –ø–æ–ª–Ω—ã–µ –ª–æ–≥–∏ –∑–∞ 21.12.2025 –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç, –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
1. ‚úÖ **CSV —Ñ–∞–π–ª—ã** ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ —Å–¥–µ–ª–∫–∞—Ö, —Å–∏–≥–Ω–∞–ª–∞—Ö –∏ –æ—Ä–¥–µ—Ä–∞—Ö
2. ‚úÖ **exit_decisions JSON** ‚Äî —Ä–µ—à–µ–Ω–∏—è ExitAnalyzer –¥–ª—è –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏
3. ‚úÖ **position_closures JSONL** ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –∑–∞–∫—Ä—ã—Ç–∏—è—Ö
4. ‚úÖ **–ö–æ–¥** ‚Äî –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞

---

## 2. ‚öôÔ∏è –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

### 2.1 –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏
- ‚úÖ **config/config_futures.yaml** ‚Äî –ø–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Futures —Ç–æ—Ä–≥–æ–≤–ª–∏ (1896 —Å—Ç—Ä–æ–∫)
- ‚úÖ **config.yaml** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥ (670 —Å—Ç—Ä–æ–∫, —Å–æ–¥–µ—Ä–∂–∏—Ç manual_pools –¥–ª—è Spot —Ç–æ—Ä–≥–æ–≤–ª–∏)

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥–∞—Ö:**
- `sl_percent`, `tp_percent` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞
- `ph_threshold_percent`, `ph_min_absolute_usd`
- `sl_atr_based`, `sl_atr_multiplier`, `sl_min_percent`, `sl_max_percent`
- `symbol_profiles` –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã

---

## 3. üíª –ö–û–î ‚Äî –õ–û–ì–ò–ö–ê –í–•–û–î–ê/–í–´–•–û–î–ê –ò –†–ò–°–ö–ê

### 3.1 Risk Manager
- ‚úÖ **src/strategies/scalping/futures/risk_manager.py** ‚Äî —Ä–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ –∏ –º–∞—Ä–∂–∏
  - **–§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
    - `calculate_position_size()` ‚Äî —Ä–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏
    - `_calculate_dynamic_margin_cap()` ‚Äî –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–∞–ø –º–∞—Ä–∂–∏
    - `_calculate_risk_based_margin()` ‚Äî —Ä–∞—Å—á–µ—Ç –º–∞—Ä–∂–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∏—Å–∫–∞
    - ‚ö†Ô∏è **calculate_leverage()** ‚Äî **–ù–ï –ù–ê–ô–î–ï–ù–ê** (–≤–æ–∑–º–æ–∂–Ω–æ –≤ –¥—Ä—É–≥–æ–º —Ñ–∞–π–ª–µ)

### 3.2 Exit Analyzer
- ‚úÖ **src/strategies/scalping/futures/positions/exit_analyzer.py** ‚Äî –ª–æ–≥–∏–∫–∞ SL/TP/PH
  - **–§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
    - `analyze_position()` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∞–Ω–∞–ª–∏–∑ –ø–æ–∑–∏—Ü–∏–∏
    - `_generate_exit_for_ranging()` ‚Äî –ª–æ–≥–∏–∫–∞ –≤—ã—Ö–æ–¥–∞ –¥–ª—è ranging —Ä–µ–∂–∏–º–∞
    - `_get_sl_percent()` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ SL% (ATR-based –∏–ª–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
    - `_get_tp_percent()` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ TP% (ATR-based –∏–ª–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
    - `_calculate_pnl_percent()` ‚Äî —Ä–∞—Å—á–µ—Ç PnL% –æ—Ç –º–∞—Ä–∂–∏
    - `_check_ph()` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ Profit Harvesting (–µ—Å–ª–∏ –µ—Å—Ç—å)

### 3.3 Regime Manager
- ‚úÖ **src/strategies/scalping/futures/adaptivity/regime_manager.py** ‚Äî –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  - **–§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
    - `get_current_regime()` ‚Äî —Ç–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º —Ä—ã–Ω–∫–∞
    - `get_current_parameters()` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–∂–∏–º–∞
    - `get_dynamic_params()` ‚Äî –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)

### 3.4 Trading Control Center
- ‚úÖ **src/strategies/scalping/futures/core/trading_control_center.py** ‚Äî –≥–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª
  - **–§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
    - `run_main_loop()` ‚Äî –ø–æ—Ä—è–¥–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –≥–ª–∞–≤–Ω–æ–º —Ü–∏–∫–ª–µ
    - `manage_positions()` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏—è–º–∏
    - `update_state()` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
    - `_sync_positions_with_exchange()` ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –±–∏—Ä–∂–µ–π

### 3.5 Position Manager
- ‚úÖ **src/strategies/scalping/futures/position_manager.py** ‚Äî –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–π
  - **–§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
    - `close_position_manually()` ‚Äî —Ä—É—á–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ
    - `_close_position_by_reason()` ‚Äî –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –ø—Ä–∏—á–∏–Ω–µ
    - `_emergency_close_position()` ‚Äî —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ

### 3.6 Signal Generator
- ‚úÖ **src/strategies/scalping/futures/signal_generator.py** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ —Ñ–∏–ª—å—Ç—Ä—ã —Å–∏–≥–Ω–∞–ª–æ–≤
  - **–§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
    - `generate_signals()` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤
    - `_apply_filters_legacy()` ‚Äî –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤
    - `_generate_base_signals()` ‚Äî –±–∞–∑–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã

### 3.7 Leverage Calculation
- ‚úÖ **src/strategies/scalping/futures/risk/adaptive_leverage.py** ‚Äî —Ä–∞—Å—á–µ—Ç –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ –ª–µ–≤–µ—Ä–∏–¥–∂–∞
  - **–§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
    - `calculate_leverage()` ‚Äî —Ä–∞—Å—á–µ—Ç –ª–µ–≤–µ—Ä–∏–¥–∂–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ strength —Å–∏–≥–Ω–∞–ª–∞ (—Å—Ç—Ä–æ–∫–∞ ~45)
    - `get_leverage_for_signal()` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –ª–µ–≤–µ—Ä–∏–¥–∂–∞ —Å —É—á–µ—Ç–æ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ (—Å—Ç—Ä–æ–∫–∞ ~171)
    - **–õ–æ–≥–∏–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ strength:**
      - 0.0-0.3 ‚Üí very_weak ‚Üí 3x
      - 0.3-0.5 ‚Üí weak ‚Üí 5x
      - 0.5-0.7 ‚Üí medium ‚Üí 10x
      - 0.7-0.9 ‚Üí strong ‚Üí 20x
      - 0.9-1.0 ‚Üí very_strong ‚Üí 30x
    - **–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏:**
      - –†–µ–∂–∏–º: trending (+20%), choppy (-20%)
      - –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å: –≤—ã—Å–æ–∫–∞—è (>5%) ‚Üí -30%, –Ω–∏–∑–∫–∞—è (<1%) ‚Üí +30%
    - **–û–∫—Ä—É–≥–ª–µ–Ω–∏–µ:** –î–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –Ω–∞ –±–∏—Ä–∂–µ OKX

---

## 4. üìä –î–ê–ù–ù–´–ï –°–î–ï–õ–û–ö (CSV)

### 4.1 –¢–æ—Ä–≥–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

#### –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è 1: `logs_2025-12-21_23-42-26/`
- ‚úÖ **trades_2025-12-21.csv** ‚Äî –≤—Å–µ –∑–∞–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏
- ‚úÖ **signals_2025-12-21.csv** ‚Äî –≤—Å–µ —Å–∏–≥–Ω–∞–ª—ã
- ‚úÖ **orders_2025-12-21.csv** ‚Äî –≤—Å–µ –æ—Ä–¥–µ—Ä–∞
- ‚úÖ **positions_open_2025-12-21.csv** ‚Äî –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏
- ‚úÖ **debug_20251221_141141.csv** ‚Äî debug –¥–∞–Ω–Ω—ã–µ (–Ω–∞—á–∞–ª–æ: 14:11)

#### –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è 2: `logs_2025-12-22_00-16-39/`
- ‚úÖ **trades_2025-12-21.csv** ‚Äî –≤—Å–µ –∑–∞–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏
  - **–ö–æ–ª–æ–Ω–∫–∏:** timestamp, symbol, side, entry_price, exit_price, size, gross_pnl, commission, net_pnl, duration_sec, reason, win_rate
  - **–í—Å–µ–≥–æ:** 169 —Å–¥–µ–ª–æ–∫
- ‚úÖ **signals_2025-12-21.csv** ‚Äî –≤—Å–µ —Å–∏–≥–Ω–∞–ª—ã
  - **–ö–æ–ª–æ–Ω–∫–∏:** timestamp, symbol, side, price, strength, regime, filters_passed, executed, order_id
  - **–í—Å–µ–≥–æ:** 5,523 —Å–∏–≥–Ω–∞–ª–∞
- ‚úÖ **orders_2025-12-21.csv** ‚Äî –≤—Å–µ –æ—Ä–¥–µ—Ä–∞
  - **–ö–æ–ª–æ–Ω–∫–∏:** timestamp, symbol, side, order_type, order_id, size, price, status, fill_price, fill_size, execution_time_ms, slippage
- ‚úÖ **positions_open_2025-12-21.csv** ‚Äî –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏
- ‚úÖ **debug_20251221_234257.csv** ‚Äî debug –¥–∞–Ω–Ω—ã–µ (–∫–æ–Ω–µ—Ü: 23:42)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –∏–∑ –æ–±–µ–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è –¥–Ω—è. –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –≤—ã–±—Ä–∞—Ç—å –±–æ–ª–µ–µ –ø–æ–ª–Ω—ã–π –∞—Ä—Ö–∏–≤.

---

## 5. üîç –ß–¢–û –ü–†–û–í–ï–†–ò–¢–¨ –í –ö–ê–ñ–î–û–ú –§–ê–ô–õ–ï

### 5.1 –í –ª–æ–≥–∞—Ö (–ø–æ—Å–ª–µ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ –∞—Ä—Ö–∏–≤–∞)

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. ‚úÖ –ó–Ω–∞—á–µ–Ω–∏—è `sl_percent`, `tp_percent`, `ph_margin` –≤ –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–µ
2. ‚úÖ –ü–æ—á–µ–º—É –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ -0.2% ‚Äî —ç—Ç–æ SL, PH –∏–ª–∏ —Ä—É—á–Ω–æ–π –≤—ã—Ö–æ–¥?
3. ‚úÖ –ö–∞–∫ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ª–µ–≤–µ—Ä–∏–¥–∂: `calculate_leverage` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ–≥–¥–∞ 20 –∏–ª–∏ –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è?
4. ‚úÖ –ï—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ `UnboundLocalError` —Å `datetime`?

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø–æ–∏—Å–∫–∞:**
```bash
# –ü–æ–∏—Å–∫ –∑–Ω–∞—á–µ–Ω–∏–π SL/TP –≤ –ª–æ–≥–∞—Ö
grep -E "sl_percent|tp_percent|ph_threshold" futures_main_2025-12-21.log

# –ü–æ–∏—Å–∫ –∑–∞–∫—Ä—ã—Ç–∏–π –ø–æ -0.2%
grep -E "-0\.2|sl_reached|profit_harvest" futures_main_2025-12-21.log

# –ü–æ–∏—Å–∫ calculate_leverage
grep -E "calculate_leverage|leverage.*20" futures_main_2025-12-21.log

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫ datetime
grep -E "UnboundLocalError|datetime" errors_2025-12-21.log
```

---

### 5.2 –í –∫–æ–¥–µ

#### risk_manager.py
**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `calculate_leverage()` ‚Äî –∫–∞–∫–∏–µ —É—Å–ª–æ–≤–∏—è –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç –ª–µ–≤–µ—Ä–∏–¥–∂ –¥–æ 20x?
- ‚úÖ –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ —Å —É—á–µ—Ç–æ–º leverage
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–∞–ø –º–∞—Ä–∂–∏

**–ö–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏:**
- `calculate_position_size()` ‚Äî —Å—Ç—Ä–æ–∫–∞ ~592
- `_calculate_dynamic_margin_cap()` ‚Äî —Å—Ç—Ä–æ–∫–∞ ~149

#### exit_analyzer.py
**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `_get_sl_percent()` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ ATR –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ SL?
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `_generate_exit_for_ranging()` ‚Äî –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ SL
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ PH (–µ—Å–ª–∏ –µ—Å—Ç—å –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è)

**–ö–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏:**
- `_get_sl_percent()` ‚Äî —Å—Ç—Ä–æ–∫–∞ ~731
- `_generate_exit_for_ranging()` ‚Äî —Å—Ç—Ä–æ–∫–∞ ~1798
- ATR-based SL —Ä–∞—Å—á–µ—Ç ‚Äî —Å—Ç—Ä–æ–∫–∞ ~826-868

#### adaptive_regime_manager.py
**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `get_current_parameters()` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–ª–∏ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ?
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `get_dynamic_params()` ‚Äî –µ—Å–ª–∏ –µ—Å—Ç—å

**–ö–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏:**
- `get_current_parameters()` ‚Äî –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏
- `get_current_regime()` ‚Äî –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏

#### trading_control_center.py
**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –ü–æ—Ä—è–¥–æ–∫: `initialize` ‚Üí `run_main_loop` ‚Üí –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ ‚Üí —Ä–∞—Å—á–µ—Ç —Ä–∏—Å–∫–∞ ‚Üí –≤—Ö–æ–¥ ‚Üí –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- ‚úÖ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –≥–ª–∞–≤–Ω–æ–º —Ü–∏–∫–ª–µ

**–ö–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏:**
- `run_main_loop()` ‚Äî —Å—Ç—Ä–æ–∫–∞ ~113
- –ü–æ—Ä—è–¥–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π ‚Äî —Å—Ç—Ä–æ–∫–∏ ~149-244

---

### 5.3 –í CSV

#### trades_2025-12-21.csv
**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. ‚úÖ Correlation: `sl_percent` vs `actual_pnl` vs `exit_price` vs `optimal_price`
2. ‚úÖ –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–¥–µ–ª–æ–∫: –µ—Å–ª–∏ `< 2 –º–∏–Ω` –∏ `pnl ‚âà -0.2%` ‚Üí —ç—Ç–æ PH, –Ω–µ SL
3. ‚úÖ –ê–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω –∑–∞–∫—Ä—ã—Ç–∏—è (`reason`):
   - `sl_reached` ‚Äî —Å–∫–æ–ª—å–∫–æ —Å–¥–µ–ª–æ–∫
   - `tp_reached` ‚Äî —Å–∫–æ–ª—å–∫–æ —Å–¥–µ–ª–æ–∫
   - `profit_harvest` ‚Äî —Å–∫–æ–ª—å–∫–æ —Å–¥–µ–ª–æ–∫
   - `max_holding_hard_stop` ‚Äî —Å–∫–æ–ª—å–∫–æ —Å–¥–µ–ª–æ–∫

**SQL-–ø–æ–¥–æ–±–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:**
```python
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ -0.2%
df[df['net_pnl'].between(-0.25, -0.15)]

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–µ —Å–¥–µ–ª–∫–∏ —Å —É–±—ã—Ç–∫–æ–º
df[(df['duration_sec'] < 120) & (df['net_pnl'] < -0.15)]

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å correlation SL vs —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π PnL
df[df['reason'] == 'sl_reached']['net_pnl'].describe()
```

---

## 6. üìù –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô

### ‚úÖ –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –Ω–∞–π–¥–µ–Ω—ã –≤ –¥–≤—É—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö:
- `logs/futures/archived/logs_2025-12-21_23-42-26/` (–∞—Ä—Ö–∏–≤ 23:42:26)
- `logs/futures/archived/logs_2025-12-22_00-16-39/` (–∞—Ä—Ö–∏–≤ 00:16:39)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–∞ –∞—Ä—Ö–∏–≤–∞ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è –¥–Ω—è. –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –ª–æ–≥–∏ –∏–ª–∏ –≤—ã–±—Ä–∞—Ç—å –±–æ–ª–µ–µ –ø–æ–ª–Ω—ã–π.

### –®–∞–≥ 2: –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –∑–∞ 21.12.2025

#### –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è 1: `logs_2025-12-21_23-42-26/`
**–ò—Å–ø–æ–ª—å–∑—É–µ–º –ª–æ–≥–∏ —Å —Ä–æ—Ç–∞—Ü–∏–µ–π:**
- ‚úÖ **futures_main_2025-12-21.log** + —Ä–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (14:11-22:02)
- ‚úÖ **info_2025-12-21.log** + —Ä–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ **errors_2025-12-21.log**

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:**
```bash
# Windows PowerShell
cd logs/futures/archived/logs_2025-12-21_23-42-26

# –ü–æ–∏—Å–∫ –≤–æ –≤—Å–µ—Ö –ª–æ–≥–∞—Ö (–≤–∫–ª—é—á–∞—è —Ä–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
Select-String -Path "futures_main_2025-12-21*.log" -Pattern "sl_percent|tp_percent|ph_threshold" | Select-Object -First 50

# –ü–æ–∏—Å–∫ –∑–∞–∫—Ä—ã—Ç–∏–π –ø–æ -0.2%
Select-String -Path "futures_main_2025-12-21*.log" -Pattern "-0\.2|sl_reached|profit_harvest"

# –ü–æ–∏—Å–∫ calculate_leverage
Select-String -Path "futures_main_2025-12-21*.log" -Pattern "ADAPTIVE_LEVERAGE|calculate_leverage|leverage.*20"

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫ datetime
Select-String -Path "errors_2025-12-21.log" -Pattern "UnboundLocalError|datetime"
```

#### –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è 2: `logs_2025-12-22_00-16-39/`
**–ò—Å–ø–æ–ª—å–∑—É–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏:**
- ‚úÖ **futures_main_2025-12-21.log** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥
- ‚úÖ **info_2025-12-21.log** ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ **errors_2025-12-21.log** ‚Äî –æ—à–∏–±–∫–∏

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:**
```bash
# Windows PowerShell
cd logs/futures/archived/logs_2025-12-22_00-16-39
Select-String -Path "futures_main_2025-12-21.log" -Pattern "sl_percent|tp_percent|ph_threshold" | Select-Object -First 50

# –ü–æ–∏—Å–∫ –∑–∞–∫—Ä—ã—Ç–∏–π –ø–æ -0.2%
Select-String -Path "futures_main_2025-12-21.log" -Pattern "-0\.2|sl_reached|profit_harvest"

# –ü–æ–∏—Å–∫ calculate_leverage
Select-String -Path "futures_main_2025-12-21.log" -Pattern "ADAPTIVE_LEVERAGE|calculate_leverage|leverage.*20"

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫ datetime
Select-String -Path "errors_2025-12-21.log" -Pattern "UnboundLocalError|datetime"
```

### –®–∞–≥ 3: –ê–Ω–∞–ª–∏–∑ CSV –¥–∞–Ω–Ω—ã—Ö
- –ê–Ω–∞–ª–∏–∑ `trades_2025-12-21.csv` ‚Äî –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è SL vs —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π PnL
- –ê–Ω–∞–ª–∏–∑ `signals_2025-12-21.csv` ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤
- –ê–Ω–∞–ª–∏–∑ `orders_2025-12-21.csv` ‚Äî –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ

### –®–∞–≥ 4: –ê–Ω–∞–ª–∏–∑ exit_decisions JSON
- –ü–æ–∏—Å–∫ –∑–Ω–∞—á–µ–Ω–∏–π `sl_percent`, `tp_percent`, `ph_threshold` –≤ JSON —Ñ–∞–π–ª–∞—Ö
- –ê–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω –∑–∞–∫—Ä—ã—Ç–∏—è (`reason`: `sl_reached`, `profit_harvest`, etc.)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ATR-based SL (`atr_sl_percent`)

**–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:**
```bash
# –ü–æ–∏—Å–∫ –∑–Ω–∞—á–µ–Ω–∏–π SL/TP/PH –≤ exit_decisions
cd logs/futures/debug/exit_decisions
grep -r "sl_percent\|tp_percent\|ph_threshold" *.json | head -20
```

### –®–∞–≥ 4: –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `calculate_leverage()` –≤ risk_manager –∏–ª–∏ –¥—Ä—É–≥–æ–º —Ñ–∞–π–ª–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å ATR-based SL –≤ exit_analyzer
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å get_current_parameters –≤ regime_manager
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ trading_control_center

### –®–∞–≥ 5: –ê–Ω–∞–ª–∏–∑ CSV
- –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ SL vs —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π PnL
- –ê–Ω–∞–ª–∏–∑ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å–¥–µ–ª–æ–∫ (< 2 –º–∏–Ω) —Å —É–±—ã—Ç–∫–æ–º
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –ø—Ä–∏—á–∏–Ω–∞–º –∑–∞–∫—Ä—ã—Ç–∏—è

---

## 7. üìç –ú–ï–°–¢–û–ü–û–õ–û–ñ–ï–ù–ò–ï –§–ê–ô–õ–û–í

### –ù–∞–π–¥–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `config/config_futures.yaml` ‚Äî –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ `src/strategies/scalping/futures/risk_manager.py` ‚Äî –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ `src/strategies/scalping/futures/positions/exit_analyzer.py` ‚Äî –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ `src/strategies/scalping/futures/adaptivity/regime_manager.py` ‚Äî –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ `src/strategies/scalping/futures/core/trading_control_center.py` ‚Äî –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ `src/strategies/scalping/futures/position_manager.py` ‚Äî –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ `src/strategies/scalping/futures/signal_generator.py` ‚Äî –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ `src/strategies/scalping/futures/risk/adaptive_leverage.py` ‚Äî —Ä–∞—Å—á–µ—Ç –ª–µ–≤–µ—Ä–∏–¥–∂–∞

**–õ–æ–≥–∏ –∏ –¥–∞–Ω–Ω—ã–µ –∑–∞ 21.12.2025 (–î–ò–†–ï–ö–¢–û–†–ò–Ø 1):**
- ‚úÖ `logs/futures/archived/logs_2025-12-21_23-42-26/futures_main_2025-12-21.log` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥
- ‚úÖ `logs/futures/archived/logs_2025-12-21_23-42-26/futures_main_2025-12-21.*.log` ‚Äî —Ä–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ (–º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤)
- ‚úÖ `logs/futures/archived/logs_2025-12-21_23-42-26/info_2025-12-21.log` ‚Äî info –ª–æ–≥
- ‚úÖ `logs/futures/archived/logs_2025-12-21_23-42-26/errors_2025-12-21.log` ‚Äî –æ—à–∏–±–∫–∏
- ‚úÖ `logs/futures/archived/logs_2025-12-21_23-42-26/trades_2025-12-21.csv` ‚Äî —Å–¥–µ–ª–∫–∏
- ‚úÖ `logs/futures/archived/logs_2025-12-21_23-42-26/signals_2025-12-21.csv` ‚Äî —Å–∏–≥–Ω–∞–ª—ã
- ‚úÖ `logs/futures/archived/logs_2025-12-21_23-42-26/orders_2025-12-21.csv` ‚Äî –æ—Ä–¥–µ—Ä–∞

**–õ–æ–≥–∏ –∏ –¥–∞–Ω–Ω—ã–µ –∑–∞ 21.12.2025 (–î–ò–†–ï–ö–¢–û–†–ò–Ø 2):**
- ‚úÖ `logs/futures/archived/logs_2025-12-22_00-16-39/futures_main_2025-12-21.log` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥
- ‚úÖ `logs/futures/archived/logs_2025-12-22_00-16-39/info_2025-12-21.log` ‚Äî info –ª–æ–≥
- ‚úÖ `logs/futures/archived/logs_2025-12-22_00-16-39/errors_2025-12-21.log` ‚Äî –æ—à–∏–±–∫–∏
- ‚úÖ `logs/futures/archived/logs_2025-12-22_00-16-39/trades_2025-12-21.csv` ‚Äî —Å–¥–µ–ª–∫–∏
- ‚úÖ `logs/futures/archived/logs_2025-12-22_00-16-39/signals_2025-12-21.csv` ‚Äî —Å–∏–≥–Ω–∞–ª—ã
- ‚úÖ `logs/futures/archived/logs_2025-12-22_00-16-39/orders_2025-12-21.csv` ‚Äî –æ—Ä–¥–µ—Ä–∞

**–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- ‚úÖ `logs/futures/structured/position_closures_2025-12-21.jsonl` ‚Äî –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π
- ‚úÖ `logs/futures/debug/exit_decisions/` ‚Äî —Ä–µ—à–µ–Ω–∏—è ExitAnalyzer (200+ JSON —Ñ–∞–π–ª–æ–≤)

---

---

## 8. üõ†Ô∏è –ò–ù–°–¢–†–£–ú–ï–ù–¢–´ –î–õ–Ø –ê–ù–ê–õ–ò–ó–ê

### 8.1 –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –∑–∞ 21.12.2025

**‚úÖ –í—Å–µ –ª–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –¥–≤—É—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö:**

#### –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è 1: `logs_2025-12-21_23-42-26/` (–∞—Ä—Ö–∏–≤ —Å–æ–∑–¥–∞–Ω –≤ 23:42:26)
**–°–æ–¥–µ—Ä–∂–∏—Ç —Ä–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏:**
- `futures_main_2025-12-21.log` + –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (14:11-22:02)
- `info_2025-12-21.log` + 4 —Ä–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞
- `errors_2025-12-21.log`

#### –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è 2: `logs_2025-12-22_00-16-39/` (–∞—Ä—Ö–∏–≤ —Å–æ–∑–¥–∞–Ω –≤ 00:16:39)
**–°–æ–¥–µ—Ä–∂–∏—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏:**
- `futures_main_2025-12-21.log`
- `info_2025-12-21.log`
- `errors_2025-12-21.log`

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–∞ –∞—Ä—Ö–∏–≤–∞ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è –¥–Ω—è. –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –ª–æ–≥–∏ –∏–ª–∏ –≤—ã–±—Ä–∞—Ç—å –±–æ–ª–µ–µ –ø–æ–ª–Ω—ã–π –∞—Ä—Ö–∏–≤.

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:**
```bash
# Windows PowerShell
cd logs/futures/archived/logs_2025-12-22_00-16-39

# –ü–æ–∏—Å–∫ –∑–Ω–∞—á–µ–Ω–∏–π SL/TP/PH
Select-String -Path "futures_main_2025-12-21.log" -Pattern "sl_percent|tp_percent|ph_threshold|ph_margin" | Select-Object -First 50

# –ü–æ–∏—Å–∫ –∑–∞–∫—Ä—ã—Ç–∏–π –ø–æ -0.2%
Select-String -Path "futures_main_2025-12-21.log" -Pattern "-0\.2|-0\.21|-0\.19" | Select-Object -First 30

# –ü–æ–∏—Å–∫ calculate_leverage –∏ –∑–Ω–∞—á–µ–Ω–∏–π –ª–µ–≤–µ—Ä–∏–¥–∂–∞
Select-String -Path "futures_main_2025-12-21.log" -Pattern "ADAPTIVE_LEVERAGE|calculate_leverage|leverage.*20|leverage.*5|leverage.*10" | Select-Object -First 50

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
Select-String -Path "errors_2025-12-21.log" -Pattern "UnboundLocalError|datetime|TypeError" | Select-Object -First 20
```

### 8.2 –ê–Ω–∞–ª–∏–∑ exit_decisions JSON (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ exit_decisions:**
```json
{
  "symbol": "ETH-USDT",
  "action": "close",
  "reason": "sl_reached",
  "pnl_pct": -0.21,
  "sl_percent": 0.8,
  "tp_percent": 2.0,
  "atr_value": null,
  "atr_sl_percent": null,
  "regime": "ranging",
  "timestamp": "2025-12-21T23:45:00"
}
```

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:**
```bash
# Windows PowerShell
cd logs/futures/debug/exit_decisions
Select-String -Path "*.json" -Pattern "sl_percent|tp_percent|ph_threshold" | Select-Object -First 20

# Linux/Mac
cd logs/futures/debug/exit_decisions
grep -r "sl_percent\|tp_percent\|ph_threshold" *.json | head -20
```

### 8.2 –ê–Ω–∞–ª–∏–∑ CSV —Ñ–∞–π–ª–æ–≤

**Python —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:**
```python
import pandas as pd

# –ê–Ω–∞–ª–∏–∑ trades
trades = pd.read_csv('logs/futures/archived/logs_2025-12-22_16-35-54/trades_2025-12-21.csv')
print("–ó–∞–∫—Ä—ã—Ç–∏—è –ø–æ -0.2%:")
print(trades[trades['net_pnl'].between(-0.25, -0.15)])

# –ê–Ω–∞–ª–∏–∑ signals
signals = pd.read_csv('logs/futures/archived/logs_2025-12-22_16-35-54/signals_2025-12-21.csv')
print("\n–°–∏–≥–Ω–∞–ª—ã —Å strength >= 0.7:")
print(signals[signals['strength'] >= 0.7].describe())
```

### 8.3 –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ (–¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏)

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Å—Ç–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- `exit_analyzer.py:_get_sl_percent()` ‚Äî –∫–∞–∫ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è SL%
- `exit_analyzer.py:_generate_exit_for_ranging()` ‚Äî –ª–æ–≥–∏–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è
- `adaptive_leverage.py:calculate_leverage()` ‚Äî —Ä–∞—Å—á–µ—Ç –ª–µ–≤–µ—Ä–∏–¥–∂–∞
- `regime_manager.py:get_current_parameters()` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–µ–∂–∏–º–∞

---

## 9. üìä –ö–õ–Æ–ß–ï–í–´–ï –ú–ï–¢–†–ò–ö–ò –î–õ–Ø –ü–†–û–í–ï–†–ö–ò

### 9.1 –í –ª–æ–≥–∞—Ö –∑–∞ 21.12.2025
**‚úÖ –í—Å–µ –ª–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ `logs_2025-12-22_00-16-39/`:**

1. **SL/TP –∑–Ω–∞—á–µ–Ω–∏—è:**
   - –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `sl_percent=0.8` vs `sl_percent=1.0`? (–∏–∑ –ª–æ–≥–æ–≤)
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ ATR-based SL (`atr_sl_percent` –≤ –ª–æ–≥–∞—Ö)?
   - –ö–∞–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è `ph_threshold_percent` —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è?

2. **–ó–∞–∫—Ä—ã—Ç–∏—è –ø–æ -0.2%:**
   - –°–∫–æ–ª—å–∫–æ –∑–∞–∫—Ä—ã—Ç–∏–π —Å `net_pnl ‚âà -0.2%`? (–∏–∑ –ª–æ–≥–æ–≤ –∏ trades.csv)
   - –ö–∞–∫–∞—è –ø—Ä–∏—á–∏–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏—è (`reason`: `sl_reached`, `profit_harvest`, `max_holding`)?
   - –ö–∞–∫–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–∑–∏—Ü–∏–π (< 2 –º–∏–Ω)? (–∏–∑ trades.csv)

3. **–õ–µ–≤–µ—Ä–∏–¥–∂:**
   - –ö–∞–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `calculate_leverage()`? (–∏–∑ –ª–æ–≥–æ–≤: `ADAPTIVE_LEVERAGE`)
   - –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 20x vs –¥—Ä—É–≥–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è (3x, 5x, 10x, 30x)?
   - –ï—Å—Ç—å –ª–∏ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ –¥–æ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –Ω–∞ –±–∏—Ä–∂–µ?

4. **–û—à–∏–±–∫–∏:**
   - –ï—Å—Ç—å –ª–∏ `UnboundLocalError` —Å `datetime`? (–∏–∑ errors_2025-12-21.log)
   - –ï—Å—Ç—å –ª–∏ –¥—Ä—É–≥–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏?

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –≤ exit_decisions JSON:**
- –ê–Ω–∞–ª–∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ SL/TP/PH –¥–ª—è –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ATR-based SL (`atr_sl_percent`)

### 9.2 –í –∫–æ–¥–µ
1. **risk_manager.py:**
   - –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏
   - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–∞–ø –º–∞—Ä–∂–∏
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è leverage

2. **exit_analyzer.py:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ATR –¥–ª—è SL
   - –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ SL –≤ `_generate_exit_for_ranging()`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ PH (–µ—Å–ª–∏ –µ—Å—Ç—å)

3. **adaptive_leverage.py:**
   - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ strength
   - –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ —Ä–µ–∂–∏–º—É –∏ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
   - –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –¥–æ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –Ω–∞ –±–∏—Ä–∂–µ

4. **regime_manager.py:**
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–ª–∏ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ?
   - –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ä–µ–∂–∏–º?

5. **trading_control_center.py:**
   - –ü–æ—Ä—è–¥–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –≥–ª–∞–≤–Ω–æ–º —Ü–∏–∫–ª–µ
   - –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å: initialize ‚Üí signals ‚Üí risk ‚Üí entry ‚Üí monitor

### 9.3 –í CSV
1. **trades_2025-12-21.csv:**
   - –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è: `sl_percent` vs `actual_pnl` vs `exit_price`
   - –ö–æ—Ä–æ—Ç–∫–∏–µ —Å–¥–µ–ª–∫–∏ (< 2 –º–∏–Ω) —Å —É–±—ã—Ç–∫–æ–º ‚âà -0.2%
   - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –ø—Ä–∏—á–∏–Ω–∞–º –∑–∞–∫—Ä—ã—Ç–∏—è

2. **signals_2025-12-21.csv:**
   - –°–∫–æ–ª—å–∫–æ —Å–∏–≥–Ω–∞–ª–æ–≤ —Å `strength >= 0.7`?
   - –°–∫–æ–ª—å–∫–æ —Å–∏–≥–Ω–∞–ª–æ–≤ –∏—Å–ø–æ–ª–Ω–µ–Ω–æ (`executed=1`)?
   - –ö–∞–∫–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã —á–∞—â–µ –≤—Å–µ–≥–æ –±–ª–æ–∫–∏—Ä—É—é—Ç —Å–∏–≥–Ω–∞–ª—ã?

3. **orders_2025-12-21.csv:**
   - –ü—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ (`slippage`)
   - –í—Ä–µ–º—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (`execution_time_ms`)
   - –¢–∏–ø –æ—Ä–¥–µ—Ä–∞ (`order_type`: limit vs market)

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-22  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –°–ø–∏—Å–æ–∫ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω, –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é  
**–°–∫—Ä–∏–ø—Ç –∞–Ω–∞–ª–∏–∑–∞:** ‚úÖ `extract_and_analyze_logs.py` —Å–æ–∑–¥–∞–Ω

