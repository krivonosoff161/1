# üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã —Ñ–∏–ª—å—Ç—Ä–æ–≤

## ‚ùå –¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞

**11 –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** –ø—Ä–∏ "–∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π" —Å–∏—Å—Ç–µ–º–µ - —ç—Ç–æ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–µ!

---

## ‚úÖ –¶–µ–ª—å: –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –∞–¥–∞–ø—Ç–∞—Ü–∏–∏:

1. **–†–µ–∂–∏–º —Ä—ã–Ω–∫–∞** (trending/ranging/choppy) - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–∫—Ç–æ—Ä
2. **–ë–∞–ª–∞–Ω—Å** (small/medium/large) - —Ä–∞–∑–º–µ—Ä –∫–∞–ø–∏—Ç–∞–ª–∞
3. **–õ–µ–≤–µ—Ä–∏–¥–∂** (1x-10x) - —Ç–µ–∫—É—â–∏–π –ª–µ–≤–µ—Ä–∏–¥–∂
4. **–†–∏—Å–∫** (win rate, drawdown) - –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
5. **–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å** (ATR, volatility %) - —Ä—ã–Ω–æ—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è
6. **–°–∏–º–≤–æ–ª** (BTC/ETH/SOL/DOGE/XRP) - —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞ –∞–∫—Ç–∏–≤–∞

---

## üìä –ú–∞—Ç—Ä–∏—Ü–∞ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### 1. V-–æ–±—Ä–∞–∑–Ω—ã–π —Ä–∞–∑–≤–æ—Ä–æ—Ç (reversal_threshold)

| –§–∞–∫—Ç–æ—Ä | –ë–∞–∑–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –ê–¥–∞–ø—Ç–∞—Ü–∏—è | –§–æ—Ä–º—É–ª–∞ |
|--------|------------------|-----------|---------|
| **–†–µ–∂–∏–º** | 0.15% | trending: +50%, ranging: +100%, choppy: +150% | `base * (1 + regime_multiplier)` |
| **–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å** | - | –í—ã—Å–æ–∫–∞—è: +100%, –ù–∏–∑–∫–∞—è: -50% | `base * (1 + volatility_factor)` |
| **–ë–∞–ª–∞–Ω—Å** | - | Small: +50%, Large: -25% | `base * (1 + balance_factor)` |
| **–õ–µ–≤–µ—Ä–∏–¥–∂** | - | –í—ã—Å–æ–∫–∏–π (>5x): +50%, –ù–∏–∑–∫–∏–π (<3x): -25% | `base * (1 + leverage_factor)` |
| **Win rate** | - | –í—ã—Å–æ–∫–∏–π (>60%): -25%, –ù–∏–∑–∫–∏–π (<40%): +50% | `base * (1 - winrate_factor)` |

**–ò—Ç–æ–≥–æ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∞:**
```python
reversal_threshold = base * (1 + regime_mult) * (1 + vol_factor) * (1 + balance_factor) * (1 + leverage_factor) * (1 - winrate_factor)
```

**–ü—Ä–∏–º–µ—Ä—ã:**
- Trending + High Vol + Small Balance + High Leverage + Low Win Rate:
  - `0.15% * 1.5 * 2.0 * 1.5 * 1.5 * 1.5 = 1.52%` ‚úÖ (–≤ 10 —Ä–∞–∑ –±–æ–ª—å—à–µ!)
- Ranging + Low Vol + Large Balance + Low Leverage + High Win Rate:
  - `0.15% * 2.0 * 0.5 * 0.75 * 0.75 * 0.75 = 0.063%` (–≤ 2 —Ä–∞–∑–∞ –º–µ–Ω—å—à–µ)

---

### 2. ADX Threshold

| –§–∞–∫—Ç–æ—Ä | –ë–∞–∑–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –ê–¥–∞–ø—Ç–∞—Ü–∏—è | –§–æ—Ä–º—É–ª–∞ |
|--------|------------------|-----------|---------|
| **–†–µ–∂–∏–º** | 20.0 | trending: +25%, ranging: -25%, choppy: -50% | `base * (1 + regime_multiplier)` |
| **–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å** | - | –í—ã—Å–æ–∫–∞—è: -20%, –ù–∏–∑–∫–∞—è: +20% | `base * (1 - volatility_factor)` |
| **–ë–∞–ª–∞–Ω—Å** | - | Small: -10%, Large: +10% | `base * (1 - balance_factor)` |
| **Win rate** | - | –í—ã—Å–æ–∫–∏–π (>60%): -15%, –ù–∏–∑–∫–∏–π (<40%): +15% | `base * (1 - winrate_factor)` |

**–ò—Ç–æ–≥–æ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∞:**
```python
adx_threshold = base * (1 + regime_mult) * (1 - vol_factor) * (1 - balance_factor) * (1 - winrate_factor)
```

**–ü—Ä–∏–º–µ—Ä—ã:**
- Trending + High Vol + Small Balance + High Win Rate:
  - `20.0 * 1.25 * 0.8 * 0.9 * 0.85 = 15.3` ‚úÖ (—Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞ 24%)
- Ranging + Low Vol + Large Balance + Low Win Rate:
  - `20.0 * 0.75 * 1.2 * 1.1 * 1.15 = 22.8` (—É–≤–µ–ª–∏—á–µ–Ω–∏–µ –Ω–∞ 14%)

---

### 3. Correlation Threshold

| –§–∞–∫—Ç–æ—Ä | –ë–∞–∑–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –ê–¥–∞–ø—Ç–∞—Ü–∏—è | –§–æ—Ä–º—É–ª–∞ |
|--------|------------------|-----------|---------|
| **–†–µ–∂–∏–º** | 0.7 | trending: -10%, ranging: -20%, choppy: -30% | `base * (1 + regime_multiplier)` |
| **–ë–∞–ª–∞–Ω—Å** | - | Small: -10%, Large: +10% | `base * (1 - balance_factor)` |
| **Win rate** | - | –í—ã—Å–æ–∫–∏–π (>60%): -10%, –ù–∏–∑–∫–∏–π (<40%): +10% | `base * (1 - winrate_factor)` |

**–ò—Ç–æ–≥–æ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∞:**
```python
correlation_threshold = base * (1 + regime_mult) * (1 - balance_factor) * (1 - winrate_factor)
```

---

### 4. Min Signal Strength

| –§–∞–∫—Ç–æ—Ä | –ë–∞–∑–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –ê–¥–∞–ø—Ç–∞—Ü–∏—è | –§–æ—Ä–º—É–ª–∞ |
|--------|------------------|-----------|---------|
| **–†–µ–∂–∏–º** | 0.7 | trending: -10%, ranging: 0%, choppy: +10% | `base * (1 + regime_multiplier)` |
| **–ë–∞–ª–∞–Ω—Å** | - | Small: -10%, Large: +10% | `base * (1 - balance_factor)` |
| **Win rate** | - | –í—ã—Å–æ–∫–∏–π (>60%): -15%, –ù–∏–∑–∫–∏–π (<40%): +15% | `base * (1 - winrate_factor)` |
| **Drawdown** | - | –í—ã—Å–æ–∫–∏–π (>5%): +20%, –ù–∏–∑–∫–∏–π (<2%): -10% | `base * (1 + drawdown_factor)` |

**–ò—Ç–æ–≥–æ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∞:**
```python
min_signal_strength = base * (1 + regime_mult) * (1 - balance_factor) * (1 - winrate_factor) * (1 + drawdown_factor)
```

---

### 5. MACD Strength Divisor

| –§–∞–∫—Ç–æ—Ä | –ë–∞–∑–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –ê–¥–∞–ø—Ç–∞—Ü–∏—è | –§–æ—Ä–º—É–ª–∞ |
|--------|------------------|-----------|---------|
| **–†–µ–∂–∏–º** | 200.0 | trending: -20%, ranging: +20%, choppy: +40% | `base * (1 + regime_multiplier)` |
| **–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å** | - | –í—ã—Å–æ–∫–∞—è: -30%, –ù–∏–∑–∫–∞—è: +30% | `base * (1 - volatility_factor)` |
| **–°–∏–º–≤–æ–ª** | - | BTC/ETH: -10%, Altcoins: +20% | `base * (1 + symbol_factor)` |

**–ò—Ç–æ–≥–æ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∞:**
```python
macd_divisor = base * (1 + regime_mult) * (1 - vol_factor) * (1 + symbol_factor)
```

---

### 6. Strength Multiplier

| –§–∞–∫—Ç–æ—Ä | –ë–∞–∑–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –ê–¥–∞–ø—Ç–∞—Ü–∏—è | –§–æ—Ä–º—É–ª–∞ |
|--------|------------------|-----------|---------|
| **–†–µ–∂–∏–º** | 2000.0 | trending: +20%, ranging: -10%, choppy: -20% | `base * (1 + regime_multiplier)` |
| **–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å** | - | –í—ã—Å–æ–∫–∞—è: +30%, –ù–∏–∑–∫–∞—è: -20% | `base * (1 + volatility_factor)` |

**–ò—Ç–æ–≥–æ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∞:**
```python
strength_multiplier = base * (1 + regime_mult) * (1 + vol_factor)
```

---

### 7. Pivot Points Tolerance

| –§–∞–∫—Ç–æ—Ä | –ë–∞–∑–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –ê–¥–∞–ø—Ç–∞—Ü–∏—è | –§–æ—Ä–º—É–ª–∞ |
|--------|------------------|-----------|---------|
| **–†–µ–∂–∏–º** | 0.25% | trending: -20%, ranging: +20%, choppy: +40% | `base * (1 + regime_multiplier)` |
| **–°–∏–º–≤–æ–ª** | - | BTC/ETH: -10%, Altcoins: +20% | `base * (1 + symbol_factor)` |

---

### 8. Volume Profile Tolerance

| –§–∞–∫—Ç–æ—Ä | –ë–∞–∑–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –ê–¥–∞–ø—Ç–∞—Ü–∏—è | –§–æ—Ä–º—É–ª–∞ |
|--------|------------------|-----------|---------|
| **–†–µ–∂–∏–º** | 0.25% | trending: -20%, ranging: +20%, choppy: +40% | `base * (1 + regime_multiplier)` |
| **–°–∏–º–≤–æ–ª** | - | BTC/ETH: -10%, Altcoins: +20% | `base * (1 + symbol_factor)` |

---

### 9. Conflict Multiplier

| –§–∞–∫—Ç–æ—Ä | –ë–∞–∑–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –ê–¥–∞–ø—Ç–∞—Ü–∏—è | –§–æ—Ä–º—É–ª–∞ |
|--------|------------------|-----------|---------|
| **–†–µ–∂–∏–º** | 0.5 | trending: 0.0 (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞), ranging: 0.3, choppy: 0.5 | –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ –ø–æ —Ä–µ–∂–∏–º—É |
| **Win rate** | - | –í—ã—Å–æ–∫–∏–π (>60%): +0.1, –ù–∏–∑–∫–∏–π (<40%): -0.1 | `base + winrate_adjustment` |

---

### 10. ADX DI Difference

| –§–∞–∫—Ç–æ—Ä | –ë–∞–∑–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –ê–¥–∞–ø—Ç–∞—Ü–∏—è | –§–æ—Ä–º—É–ª–∞ |
|--------|------------------|-----------|---------|
| **–†–µ–∂–∏–º** | 1.5 | trending: -20%, ranging: +20%, choppy: +40% | `base * (1 + regime_multiplier)` |
| **–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å** | - | –í—ã—Å–æ–∫–∞—è: -10%, –ù–∏–∑–∫–∞—è: +10% | `base * (1 - volatility_factor)` |

---

### 11. PH Threshold

| –§–∞–∫—Ç–æ—Ä | –ë–∞–∑–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –ê–¥–∞–ø—Ç–∞—Ü–∏—è | –§–æ—Ä–º—É–ª–∞ |
|--------|------------------|-----------|---------|
| **–†–µ–∂–∏–º** | 0.20 | trending: +25%, ranging: -10%, choppy: -20% | `base * (1 + regime_multiplier)` |
| **–ë–∞–ª–∞–Ω—Å** | - | Small: -20%, Large: +20% | `base * (1 - balance_factor)` |
| **–ú–∞—Ä–∂–∞** | - | –ê–¥–∞–ø—Ç–∏–≤–Ω–æ –æ—Ç –º–∞—Ä–∂–∏ (—É–∂–µ –µ—Å—Ç—å) | `margin * ph_threshold_percent / 100` |

---

## üèõÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

### –ö–ª–∞—Å—Å: `AdaptiveFilterParameters`

```python
class AdaptiveFilterParameters:
    """
    –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ–∏–ª—å—Ç—Ä–æ–≤.
    –ë–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤, —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏.
    """
    
    def __init__(
        self,
        regime_manager: AdaptiveRegimeManager,
        balance_manager: AdaptiveBalanceManager,
        leverage_manager: AdaptiveLeverage,
        risk_manager: RiskManager,
        trading_statistics: TradingStatistics,
        data_registry: DataRegistry,
    ):
        self.regime_manager = regime_manager
        self.balance_manager = balance_manager
        self.leverage_manager = leverage_manager
        self.risk_manager = risk_manager
        self.trading_statistics = trading_statistics
        self.data_registry = data_registry
        
        # –ö—ç—à –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
        self._cache: Dict[str, Dict[str, float]] = {}
        self._cache_ttl = 30  # —Å–µ–∫—É–Ω–¥
    
    def get_reversal_threshold(
        self, symbol: str, regime: str = None
    ) -> float:
        """–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –ø–æ—Ä–æ–≥ V-–æ–±—Ä–∞–∑–Ω–æ–≥–æ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞"""
        base = 0.0015  # 0.15%
        
        # –ü–æ–ª—É—á–∞–µ–º —Ñ–∞–∫—Ç–æ—Ä—ã
        regime_mult = self._get_regime_multiplier(regime, "reversal")
        vol_factor = self._get_volatility_factor(symbol)
        balance_factor = self._get_balance_factor("reversal")
        leverage_factor = self._get_leverage_factor(symbol)
        winrate_factor = self._get_winrate_factor(symbol)
        
        # –ü—Ä–∏–º–µ–Ω—è–µ–º —Ñ–æ—Ä–º—É–ª—É
        threshold = base * (1 + regime_mult) * (1 + vol_factor) * \
                   (1 + balance_factor) * (1 + leverage_factor) * \
                   (1 - winrate_factor)
        
        # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (min/max)
        return max(0.0005, min(0.01, threshold))  # 0.05% - 1.0%
    
    def get_adx_threshold(
        self, symbol: str, regime: str = None
    ) -> float:
        """–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π ADX threshold"""
        base = 20.0
        
        regime_mult = self._get_regime_multiplier(regime, "adx")
        vol_factor = self._get_volatility_factor(symbol)
        balance_factor = self._get_balance_factor("adx")
        winrate_factor = self._get_winrate_factor(symbol)
        
        threshold = base * (1 + regime_mult) * (1 - vol_factor) * \
                   (1 - balance_factor) * (1 - winrate_factor)
        
        return max(15.0, min(30.0, threshold))
    
    # ... –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    
    def _get_regime_multiplier(self, regime: str, param_type: str) -> float:
        """–ú–Ω–æ–∂–∏—Ç–µ–ª—å –ø–æ —Ä–µ–∂–∏–º—É —Ä—ã–Ω–∫–∞"""
        if not regime:
            regime = self.regime_manager.current_regime.value.lower()
        
        multipliers = {
            "reversal": {
                "trending": 0.5,   # +50%
                "ranging": 1.0,    # +100%
                "choppy": 1.5,     # +150%
            },
            "adx": {
                "trending": 0.25,  # +25%
                "ranging": -0.25,  # -25%
                "choppy": -0.5,    # -50%
            },
            # ... –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
        }
        
        return multipliers.get(param_type, {}).get(regime, 0.0)
    
    def _get_volatility_factor(self, symbol: str) -> float:
        """–§–∞–∫—Ç–æ—Ä –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏"""
        # –ü–æ–ª—É—á–∞–µ–º ATR –∏–∑ data_registry
        atr = self.data_registry.get_atr(symbol, period=14)
        current_price = self.data_registry.get_current_price(symbol)
        
        if not atr or not current_price:
            return 0.0
        
        volatility_pct = (atr / current_price) * 100
        
        # –í—ã—Å–æ–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å (>3%): +100%
        if volatility_pct > 3.0:
            return 1.0
        # –ù–∏–∑–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å (<1%): -50%
        elif volatility_pct < 1.0:
            return -0.5
        else:
            return 0.0
    
    def _get_balance_factor(self, param_type: str) -> float:
        """–§–∞–∫—Ç–æ—Ä –±–∞–ª–∞–Ω—Å–∞"""
        balance = self.balance_manager.get_current_balance()
        profile = self.balance_manager.get_balance_profile(balance)
        
        if profile["name"] == "small":
            return 0.5  # +50%
        elif profile["name"] == "large":
            return -0.25  # -25%
        else:
            return 0.0
    
    def _get_leverage_factor(self, symbol: str) -> float:
        """–§–∞–∫—Ç–æ—Ä –ª–µ–≤–µ—Ä–∏–¥–∂–∞"""
        leverage = self.leverage_manager.get_current_leverage(symbol)
        
        if leverage > 5:
            return 0.5  # +50%
        elif leverage < 3:
            return -0.25  # -25%
        else:
            return 0.0
    
    def _get_winrate_factor(self, symbol: str) -> float:
        """–§–∞–∫—Ç–æ—Ä win rate"""
        stats = self.trading_statistics.get_symbol_stats(symbol)
        win_rate = stats.get("win_rate", 0.5)
        
        if win_rate > 0.6:
            return 0.25  # -25% (—Å–Ω–∏–∂–∞–µ–º –ø–æ—Ä–æ–≥–∏)
        elif win_rate < 0.4:
            return -0.5  # +50% (–ø–æ–≤—ã—à–∞–µ–º –ø–æ—Ä–æ–≥–∏)
        else:
            return 0.0
```

---

## üîÑ –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∞–¥–∞–ø—Ç–∞—Ü–∏–π (–±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –†–µ–∂–∏–º —Ä—ã–Ω–∫–∞ (–æ—Å–Ω–æ–≤–Ω–æ–π)
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –±–∞–∑–æ–≤—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
- –ù–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å (—Ä—ã–Ω–æ—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è)
- –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –£—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ä–µ–∂–∏–º–∞

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –ë–∞–ª–∞–Ω—Å (—Ä–∞–∑–º–µ—Ä –∫–∞–ø–∏—Ç–∞–ª–∞)
- –í–ª–∏—è–µ—Ç –Ω–∞ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ—Å—Ç—å
- –ù–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å —Ä–µ–∂–∏–º–æ–º

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4: –õ–µ–≤–µ—Ä–∏–¥–∂ (—Ä–∏—Å–∫)
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è
- –£—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –±–∞–ª–∞–Ω—Å–∞

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 5: Win Rate (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è
- –£—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 6: –°–∏–º–≤–æ–ª (—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞ –∞–∫—Ç–∏–≤–∞)
- –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ

---

## üìù –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ config.yaml

```yaml
adaptive_filters:
  enabled: true
  
  # –ë–∞–∑–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (fallback)
  base_values:
    reversal_threshold: 0.0015  # 0.15%
    adx_threshold: 20.0
    correlation_threshold: 0.7
    min_signal_strength: 0.7
    macd_divisor: 200.0
    strength_multiplier: 2000.0
    pivot_tolerance: 0.0025  # 0.25%
    volume_profile_tolerance: 0.0025  # 0.25%
    conflict_multiplier: 0.5
    adx_di_difference: 1.5
  
  # –ú–Ω–æ–∂–∏—Ç–µ–ª–∏ –ø–æ —Ä–µ–∂–∏–º–∞–º
  regime_multipliers:
    reversal_threshold:
      trending: 0.5   # +50%
      ranging: 1.0    # +100%
      choppy: 1.5     # +150%
    adx_threshold:
      trending: 0.25  # +25%
      ranging: -0.25  # -25%
      choppy: -0.5    # -50%
    # ... –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  
  # –§–∞–∫—Ç–æ—Ä—ã –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
  volatility_factors:
    reversal_threshold:
      high: 1.0   # +100% (>3%)
      low: -0.5   # -50% (<1%)
    # ... –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  
  # –§–∞–∫—Ç–æ—Ä—ã –±–∞–ª–∞–Ω—Å–∞
  balance_factors:
    reversal_threshold:
      small: 0.5   # +50%
      large: -0.25 # -25%
    # ... –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  
  # –§–∞–∫—Ç–æ—Ä—ã –ª–µ–≤–µ—Ä–∏–¥–∂–∞
  leverage_factors:
    reversal_threshold:
      high: 0.5   # +50% (>5x)
      low: -0.25  # -25% (<3x)
    # ... –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  
  # –§–∞–∫—Ç–æ—Ä—ã win rate
  winrate_factors:
    reversal_threshold:
      high: 0.25  # -25% (>60%)
      low: -0.5   # +50% (<40%)
    # ... –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  
  # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (min/max)
  limits:
    reversal_threshold:
      min: 0.0005  # 0.05%
      max: 0.01    # 1.0%
    adx_threshold:
      min: 15.0
      max: 30.0
    # ... –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
```

---

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å–∏—Å—Ç–µ–º—ã

1. **–ü–æ–ª–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** - –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è
2. **–ë–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤** - —á–µ—Ç–∫–∏–π –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤
3. **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** - –≤—Å–µ —Ñ–∞–∫—Ç–æ—Ä—ã –≤–∏–¥–Ω—ã –≤ –ª–æ–≥–∞—Ö
4. **–ì–∏–±–∫–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã
5. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
6. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - min/max –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

---

## üöÄ –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

1. **–≠—Ç–∞–ø 1:** –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å `AdaptiveFilterParameters`
2. **–≠—Ç–∞–ø 2:** –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ `SignalGenerator` –∏ `FilterManager`
3. **–≠—Ç–∞–ø 3:** –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `config.yaml`
4. **–≠—Ç–∞–ø 4:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞
5. **–≠—Ç–∞–ø 5:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

---

**–î–∞—Ç–∞:** 2025-12-23  
**–°—Ç–∞—Ç—É—Å:** –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

