# üîç –ê–£–î–ò–¢ –ù–ï–î–û–°–¢–ê–Æ–©–ò–• –ò –ü–£–°–¢–´–• –ü–ê–†–ê–ú–ï–¢–†–û–í

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 8 —è–Ω–≤–∞—Ä—è 2026  
**–ü–µ—Ä–∏–æ–¥ –¥–∞–Ω–Ω—ã—Ö:** 7 —è–Ω–≤–∞—Ä—è 2026, 21:35 - 8 —è–Ω–≤–∞—Ä—è 2026, 08:33  
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ –ù–ê–ô–î–ï–ù–´

---

## üìã –†–ï–ó–Æ–ú–ï –ü–†–û–ë–õ–ï–ú

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ù–∞–π–¥–µ–Ω–æ | –°—Ç–∞—Ç—É—Å |
|-----------|---------|--------|
| NoneType –æ—à–∏–±–∫–∏ –≤ position_manager | **17 –æ—à–∏–±–æ–∫** | üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï |
| TCC –æ—à–∏–±–∫–∏ —Å –Ω–µ–≤–µ—Ä–Ω—ã–º —Ç–∏–ø–æ–º –¥–∞–Ω–Ω—ã—Ö | **58+ –æ—à–∏–±–æ–∫** | üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï |
| –ü—É—Å—Ç—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Å–∏–≥–Ω–∞–ª–∞—Ö | 1,446 (78.5%) | üü° –û–ñ–ò–î–ê–ï–ú–û |
| –°–∏–≥–Ω–∞–ª—ã –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –ø–æ–∑–∏—Ü–∏—è–º | **19 –ø–æ–∑–∏—Ü–∏–π** | üî¥ –£–¢–ï–ß–ö–ê |

---

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê #1: NoneType –≤ position_manager

### –û–ø–∏—Å–∞–Ω–∏–µ
–§—É–Ω–∫—Ü–∏—è `close_position_manually()` –≤ **position_manager.py** –ø–æ–ª—É—á–∞–µ—Ç `None` –≤–º–µ—Å—Ç–æ JSON –æ—Ç–≤–µ—Ç–∞ –æ—Ç API –∏ –ø—ã—Ç–∞–µ—Ç—Å—è –≤—ã–∑–≤–∞—Ç—å `.get()` –Ω–∞ `None`.

### –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–µ
```
2026-01-07 22:17:47.904 | ERROR | position_manager:close_position_manually:6440
‚ùå –û—à–∏–±–∫–∞ —Ä—É—á–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏: 'NoneType' object has no attribute 'get'

2026-01-07 22:30:43.983 | ERROR | position_manager:close_position_manually:6440
‚ùå –û—à–∏–±–∫–∞ —Ä—É—á–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏: 'NoneType' object has no attribute 'get'

2026-01-07 22:39:37.259 | ERROR | position_manager:close_position_manually:6440
‚ùå –û—à–∏–±–∫–∞ —Ä—É—á–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏: 'NoneType' object has no attribute 'get'

2026-01-07 22:50:54.694 | ERROR | position_manager:close_position_manually:6440
‚ùå –û—à–∏–±–∫–∞ —Ä—É—á–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏: 'NoneType' object has no attribute 'get'
```

### –°–∫–æ–ª—å–∫–æ —Ä–∞–∑
**17 –æ—à–∏–±–æ–∫** —Å —ç—Ç–æ–π –∂–µ –ø—Ä–æ–±–ª–µ–º–æ–π

### –ü—Ä–∏—á–∏–Ω–∞
–í –∫–æ–¥–µ `position_manager.py` –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–∏ –¥–µ–ª–∞–µ—Ç—Å—è –≤—ã–∑–æ–≤ API, –Ω–æ –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ `None`:

```python
# –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (—Ç–µ–∫—É—â–∏–π –∫–æ–¥)
response = await self.client.close_position(...)
order_id = response['id']  # ‚ùå –ï—Å–ª–∏ response=None, –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞!
```

### –ö–æ–≥–¥–∞ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
- 22:17, 22:30, 22:39, 22:50 - –ø—Ä–∏–º–µ—Ä–Ω–æ –∫–∞–∂–¥—ã–µ 10-15 –º–∏–Ω—É—Ç
- –°–æ—á–µ—Ç–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–∞–º–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (SSL errors)
- –ü–æ—Å–ª–µ —Ä–∞–∑—Ä—ã–≤–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç None –≤–º–µ—Å—Ç–æ JSON

### –§–∞–π–ª –∏ —Å—Ç—Ä–æ–∫–∞
**–§–∞–π–ª:** [src/strategies/scalping/futures/position_manager.py](src/strategies/scalping/futures/position_manager.py)  
**–§—É–Ω–∫—Ü–∏—è:** `close_position_manually()`  
**–°—Ç—Ä–æ–∫–∞:** ~6440 (–ø–æ –ª–æ–≥–∞–º)

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```python
# –ü–†–ê–í–ò–õ–¨–ù–û
response = await self.client.close_position(...)
if response is None:
    logger.error("API –≤–µ—Ä–Ω—É–ª None –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–∏ - —Å–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞")
    return False
    
if not isinstance(response, dict):
    logger.error(f"API –≤–µ—Ä–Ω—É–ª –Ω–µ–≤–µ—Ä–Ω—ã–π —Ç–∏–ø: {type(response)}")
    return False
    
order_id = response.get('id')  # –ò—Å–ø–æ–ª—å–∑—É–µ–º .get() —Å —É–º–æ–ª—á–∞–Ω–∏–µ–º
```

---

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê #2: TCC (Trading Control Center) - 'str' object has no attribute 'get'

### –û–ø–∏—Å–∞–Ω–∏–µ
–§—É–Ω–∫—Ü–∏—è `update_state()` –≤ **trading_control_center.py** –ø–æ–ª—É—á–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –≤–º–µ—Å—Ç–æ —Å–ª–æ–≤–∞—Ä—è –∏ –ø—ã—Ç–∞–µ—Ç—Å—è –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–µ—Ç–æ–¥—ã —Å–ª–æ–≤–∞—Ä—è.

### –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–µ
```
2026-01-07 22:36:10.863 | ERROR | trading_control_center:update_state:786
‚ùå TCC: –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è: 'str' object has no attribute 'get'

2026-01-07 22:36:46.281 | ERROR | trading_control_center:update_state:786
‚ùå TCC: –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è: 'str' object has no attribute 'get'

[... 50+ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π ...]
```

### –°–∫–æ–ª—å–∫–æ —Ä–∞–∑
**58+ –æ—à–∏–±–æ–∫** —Å —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π (–ø—Ä–∏–º–µ—Ä–Ω–æ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É)

### –ü—Ä–∏—á–∏–Ω–∞
–ö–æ–¥ –ø—ã—Ç–∞–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥–∞–Ω–Ω—ã–º–∏ –∫–∞–∫ —Å–æ —Å–ª–æ–≤–∞—Ä–µ–º, –Ω–æ –ø–æ–ª—É—á–∞–µ—Ç —Å—Ç—Ä–æ–∫—É:

```python
# –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
state = self.get_state()  # –ú–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å —Å—Ç—Ä–æ–∫—É –≤–º–µ—Å—Ç–æ dict
name = state['name']  # ‚ùå –ï—Å–ª–∏ state="error", –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞!
```

### –ö–æ–≥–¥–∞ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
- 22:36 - 23:00+ (–ø—Ä–∏–º–µ—Ä–Ω–æ —á–∞—Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫)
- –ü–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º ~1-5 –º–∏–Ω—É—Ç
- –ö–æ—Ä—Ä–µ–ª–∏—Ä—É–µ—Ç —Å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–∑–∏—Ü–∏—è—Ö –≤ –ª–æ–≥–µ

### –§–∞–π–ª –∏ —Å—Ç—Ä–æ–∫–∞
**–§–∞–π–ª:** [src/strategies/scalping/futures/core/trading_control_center.py](src/strategies/scalping/futures/core/trading_control_center.py)  
**–§—É–Ω–∫—Ü–∏—è:** `update_state()`  
**–°—Ç—Ä–æ–∫–∞:** ~786 (–ø–æ –ª–æ–≥–∞–º)

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```python
# –ü–†–ê–í–ò–õ–¨–ù–û
state = self.get_state()

if not isinstance(state, dict):
    logger.warning(f"TCC: state –∏–º–µ–µ—Ç —Ç–∏–ø {type(state)}, –æ–∂–∏–¥–∞–ª–æ—Å—å dict")
    return False

name = state.get('name', 'unknown')  # –ò—Å–ø–æ–ª—å–∑—É–µ–º .get() —Å —É–º–æ–ª—á–∞–Ω–∏–µ–º
```

---

## üü° –ü–†–û–ë–õ–ï–ú–ê #3: –ü—É—Å—Ç—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –°–ò–ì–ù–ê–õ–ê–• (–ø–æ –¥–∏–∑–∞–π–Ω—É)

### –û–ø–∏—Å–∞–Ω–∏–µ
–í —Å–∏–≥–Ω–∞–ª–∞—Ö (record_type='signals') 78.5% –∑–∞–ø–∏—Å–µ–π –∏–º–µ—é—Ç –ø—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ –ø–æ–ª—è–º:

### –ö–∞–∫–∏–µ –ø–æ–ª—è –ø—É—Å—Ç—ã
```
entry_price:    1446 —Å–∏–≥–Ω–∞–ª–æ–≤ (100%)  ‚Üê –ø—É—Å—Ç–æ –≤ —Å–∏–≥–Ω–∞–ª–∞—Ö - –û–ñ–ò–î–ê–ï–ú–û
exit_price:     1446 —Å–∏–≥–Ω–∞–ª–æ–≤ (100%)  ‚Üê –ø—É—Å—Ç–æ –≤ —Å–∏–≥–Ω–∞–ª–∞—Ö - –û–ñ–ò–î–ê–ï–ú–û
size:           1446 —Å–∏–≥–Ω–∞–ª–æ–≤ (100%)  ‚Üê –ø—É—Å—Ç–æ –≤ —Å–∏–≥–Ω–∞–ª–∞—Ö - –û–ñ–ò–î–ê–ï–ú–û
gross_pnl:      1446 —Å–∏–≥–Ω–∞–ª–æ–≤ (100%)  ‚Üê –ø—É—Å—Ç–æ –≤ —Å–∏–≥–Ω–∞–ª–∞—Ö - –û–ñ–ò–î–ê–ï–ú–û
commission:     1446 —Å–∏–≥–Ω–∞–ª–æ–≤ (100%)  ‚Üê –ø—É—Å—Ç–æ –≤ —Å–∏–≥–Ω–∞–ª–∞—Ö - –û–ñ–ò–î–ê–ï–ú–û
net_pnl:        1446 —Å–∏–≥–Ω–∞–ª–æ–≤ (100%)  ‚Üê –ø—É—Å—Ç–æ –≤ —Å–∏–≥–Ω–∞–ª–∞—Ö - –û–ñ–ò–î–ê–ï–ú–û
reason:         1446 —Å–∏–≥–Ω–∞–ª–æ–≤ (100%)  ‚Üê –ø—É—Å—Ç–æ –≤ —Å–∏–≥–Ω–∞–ª–∞—Ö - –û–ñ–ò–î–ê–ï–ú–û
fill_price:     1446 —Å–∏–≥–Ω–∞–ª–æ–≤ (100%)  ‚Üê –ø—É—Å—Ç–æ –≤ —Å–∏–≥–Ω–∞–ª–∞—Ö - –û–ñ–ò–î–ê–ï–ú–û
```

### –ü—Ä–∏—á–∏–Ω–∞
**–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!** –°–∏–≥–Ω–∞–ª—ã - —ç—Ç–æ –¢–û–õ–¨–ö–û –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—á—Ç–æ –∫—É–ø–∏—Ç—å/–ø—Ä–æ–¥–∞—Ç—å), –æ–Ω–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –¥–∞–Ω–Ω—ã—Ö –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏. –≠—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –æ—Ä–¥–µ—Ä–∞—Ö –∏ –ø–æ–∑–∏—Ü–∏—è—Ö.

### ‚úÖ –≠—Ç–æ –ù–ï –ø—Ä–æ–±–ª–µ–º–∞


---

## üî¥ –ü–†–û–ë–õ–ï–ú–ê #4: –ü–æ–∑–∏—Ü–∏–∏ –ë–ï–ó —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Å–∏–≥–Ω–∞–ª–∞

### –û–ø–∏—Å–∞–Ω–∏–µ
19 –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π –æ—Ç–∫—Ä—ã—Ç—ã, –Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Å–∏–≥–Ω–∞–ª–∞ –≤ –ª–æ–≥–∞—Ö –ù–ï –ù–ê–ô–î–ï–ù–û.

### –ü—Ä–∏–º–µ—Ä—ã
```
BTC-USDT  2026-01-07T18:41:08.567069  ‚Üê –ø–æ–∑–∏—Ü–∏—è –µ—Å—Ç—å, –Ω–æ —Å–∏–≥–Ω–∞–ª–∞ –Ω–µ—Ç –≤ –ª–æ–≥–µ
SOL-USDT  2026-01-07T18:41:53.381133  ‚Üê –ø–æ–∑–∏—Ü–∏—è –µ—Å—Ç—å, –Ω–æ —Å–∏–≥–Ω–∞–ª–∞ –Ω–µ—Ç –≤ –ª–æ–≥–µ
```

### –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞
- **–ü–æ—Ç–µ—Ä—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:** –ü–æ–∑–∏—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∞, –Ω–æ –Ω–µ—Ç –∑–∞–ø–∏—Å–∏ –æ —Å–∏–≥–Ω–∞–ª–µ, –∫–æ—Ç–æ—Ä—ã–π –µ—ë –≤—ã–∑–≤–∞–ª
- **–£—Ç–µ—á–∫–∞ –≤ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–∏:** Signal Generator –Ω–µ –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞–ª —Å–∏–≥–Ω–∞–ª
- **–¢—Ä—É–¥–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞:** –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã –ø—Ä–æ–ø—É—Å—Ç–∏–ª–∏ —ç—Ç–æ—Ç —Å–∏–≥–Ω–∞–ª

### –ü–æ—á–µ–º—É –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
1. Signal Generator –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–∏–≥–Ω–∞–ª
2. –ù–æ –ø–æ –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–∏—á–∏–Ω–µ —Å–∏–≥–Ω–∞–ª –Ω–µ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –≤ CSV
3. –ü–æ–∑–∏—Ü–∏—è –≤—Å—ë —Ä–∞–≤–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è (—Ç–∞–∫ –∫–∞–∫ –∫–æ–¥ —É–∂–µ –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è)
4. –í –ª–æ–≥–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ–∑–∏—Ü–∏—è, –Ω–æ –Ω–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Å–∏–≥–Ω–∞–ª–∞

### –§–∞–π–ª –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
**–§–∞–π–ª:** [src/strategies/scalping/futures/signal_generator.py](src/strategies/scalping/futures/signal_generator.py)  
**–ú–µ—Ç–æ–¥:** –ì–¥–µ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å–∏–≥–Ω–∞–ª—ã

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–∏–≥–Ω–∞–ª –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –î–û –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏:

```python
# –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫:
1. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–∏–≥–Ω–∞–ª
2. –õ–û–ì–ò–†–û–í–∞—Ç—å —Å–∏–≥–Ω–∞–ª  ‚Üê –í–ê–ñ–ù–û! –≠—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–µ—Ä–≤—ã–º
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
4. –û—Ç–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏—é
```

---

## üìä –ê–ù–ê–õ–ò–ó MTF –ü–ê–†–ê–ú–ï–¢–†–ê

### –ù–∞–π–¥–µ–Ω–æ
- **–í—Å–µ 1,446 —Å–∏–≥–Ω–∞–ª–æ–≤ —Å–æ–¥–µ—Ä–∂–∞—Ç MTF** –≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ö (`filters_passed`)
- MTF –ø–∞—Ä–∞–º–µ—Ç—Ä —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –æ—Ç —Ñ–∏–ª—å—Ç—Ä–∞ –∫ —Å–∏–≥–Ω–∞–ª—É
- **–ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å MTF** - –æ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è

### –°—Ç–∞—Ç—É—Å
‚úÖ **MTF –ø–∞—Ä–∞–º–µ—Ç—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**

---

## üìä –ê–ù–ê–õ–ò–ó –ü–ê–†–ê–ú–ï–¢–†–û–í –í –ü–û–ó–ò–¶–ò–Ø–•

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏—è—Ö (147 –ø–æ–∑–∏—Ü–∏–π)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç | –°—Ç–∞—Ç—É—Å |
|----------|-------------|--------|
| symbol | 147/147 | ‚úÖ 100% |
| side | 147/147 | ‚úÖ 100% |
| entry_price | 147/147 | ‚úÖ 100% |
| size | 147/147 | ‚úÖ 100% |
| regime | 147/147 | ‚úÖ 100% |
| order_id | 147/147 | ‚úÖ 100% |
| timestamp | 147/147 | ‚úÖ 100% |

### –í—ã–≤–æ–¥
**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∑–∏—Ü–∏–π –ø–æ–ª–Ω—ã–µ.** –ü—Ä–æ–±–ª–µ–º—ã —Ç–æ–ª—å–∫–æ –≤ position_manager –ø—Ä–∏ –ó–ê–ö–†–´–¢–ò–ò –ø–æ–∑–∏—Ü–∏–∏.

---

## üéØ –ü–†–û–ë–õ–ï–ú–´ –° –ü–ê–†–ê–ú–ï–¢–†–ê–ú–ò - –ò–¢–û–ì–û–í–ê–Ø –¢–ê–ë–õ–ò–¶–ê

| –ü—Ä–æ–±–ª–µ–º–∞ | –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ | –§–∞–π–ª | –¢–∏–ø | –í–ª–∏—è–Ω–∏–µ |
|----------|------------|------|-----|---------|
| NoneType –≤ position_manager | 17 | position_manager.py | API response | –ü–æ–∑–∏—Ü–∏–∏ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è |
| TCC 'str' error | 58+ | trading_control_center.py | Type mismatch | –°–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è |
| –°–∏–≥–Ω–∞–ª—ã –±–µ–∑ –ø–æ–∑–∏—Ü–∏–π | 19 | signal_generator.py | Logging gap | –ü–æ—Ç–µ—Ä—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è |
| –ü—É—Å—Ç—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Å–∏–≥–Ω–∞–ª–∞—Ö | 1,446 | CSV | Expected | N/A - –Ω–æ—Ä–º–∞–ª—å–Ω–æ |

---

## üîß –ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

### –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï (–°—Ä–æ—á–Ω–æ)

**1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å NoneType –≤ position_manager (17 –æ—à–∏–±–æ–∫)**
- **–§–∞–π–ª:** [src/strategies/scalping/futures/position_manager.py](src/strategies/scalping/futures/position_manager.py)
- **–í—Ä–µ–º—è:** 15 –º–∏–Ω—É—Ç
- **–ö–æ–¥:**
```python
response = await self.client.close_position(...)
if response is None:
    logger.error("API –≤–µ—Ä–Ω—É–ª None –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–∏")
    return False

if not isinstance(response, dict):
    logger.error(f"API –≤–µ—Ä–Ω—É–ª –Ω–µ–≤–µ—Ä–Ω—ã–π —Ç–∏–ø: {type(response)}")
    return False

order_id = response.get('id')
```

**2. –ò—Å–ø—Ä–∞–≤–∏—Ç—å TCC 'str' error (58+ –æ—à–∏–±–æ–∫)**
- **–§–∞–π–ª:** [src/strategies/scalping/futures/core/trading_control_center.py](src/strategies/scalping/futures/core/trading_control_center.py)
- **–í—Ä–µ–º—è:** 20 –º–∏–Ω—É—Ç
- **–ö–æ–¥:**
```python
state = self.get_state()
if not isinstance(state, dict):
    logger.warning(f"State type error: {type(state)}")
    return False
name = state.get('name', 'unknown')
```

### –í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢

**3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å–∏–≥–Ω–∞–ª—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –î–û –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏ (19 –ø–æ—Ç–µ—Ä—å)**
- **–§–∞–π–ª:** [src/strategies/scalping/futures/signal_generator.py](src/strategies/scalping/futures/signal_generator.py)
- **–í—Ä–µ–º—è:** 30 –º–∏–Ω—É—Ç
- **–î–µ–π—Å—Ç–≤–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (log ‚Üí execute)

---

## ‚úÖ –ò–¢–û–ì–û–í–´–ï –í–´–í–û–î–´

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Å–∞–º–∏—Ö –ø–æ–∑–∏—Ü–∏—è—Ö –ø–æ–ª–Ω—ã–µ (symbol, side, entry_price, size, regime)
- MTF –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è

### –ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç ‚ùå
1. **NoneType –æ—à–∏–±–∫–∏** –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–π (position_manager.py:17 –æ—à–∏–±–æ–∫)
2. **TCC –æ—à–∏–±–∫–∏** –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è (trading_control_center.py:58+ –æ—à–∏–±–æ–∫)
3. **–ü–æ—Ç–µ—Ä—è —Å–∏–≥–Ω–∞–ª–æ–≤** - 19 –ø–æ–∑–∏—Ü–∏–π –æ—Ç–∫—Ä—ã—Ç—ã –±–µ–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Å–∏–≥–Ω–∞–ª–∞ –≤ –ª–æ–≥–µ
4. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤** - –∫–æ–¥ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
–í–Ω–µ–¥—Ä–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤ –î–û –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:
```python
# –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ç–∏–ø –ø–µ—Ä–µ–¥ –¥–æ—Å—Ç—É–ø–æ–º
if response is None:
    return handle_error()
if not isinstance(response, dict):
    return handle_error()
value = response.get('key', default_value)
```

