# Конфигурация для Futures торговли
# Основные параметры торгового бота для Futures

# API настройки
api:
  okx:
    api_key: "${OKX_API_KEY}"
    api_secret: "${OKX_API_SECRET}"
    passphrase: "${OKX_PASSPHRASE}"
    sandbox: true  # true для тестирования, false для реальной торговли

# Общие настройки торговли
trading:
  symbols:
    - "BTC-USDT"
    - "ETH-USDT"
  base_currency: "USDT"
  trading_mode: "futures"

# Futures торговля
scalping:
  enabled: true
  symbols:
    - "BTC-USDT"
    - "ETH-USDT"
  
  # Параметры скальпинга (адаптированы для Futures)
  min_signal_strength: 0.25  # Более чувствительные сигналы
  max_concurrent_signals: 3  # Меньше одновременных сигналов
  base_risk_percentage: 0.03  # Больший риск (3%)
  min_position_size: 0.001  # Минимальный размер позиции
  
  # Take Profit и Stop Loss (адаптированы для Futures)
  tp_percent: 0.3  # Меньше TP для быстрого закрытия
  sl_percent: 0.2  # Меньше SL для быстрого закрытия
  
  # Адаптивные параметры
  adaptive_tp_sl: true  # Адаптивные TP/SL на основе волатильности
  volatility_multiplier: 1.2  # Меньший множитель для Futures
  
  # Фильтры (адаптированы для Futures)
  enable_rsi_filter: true
  enable_macd_filter: true
  enable_bollinger_filter: true
  enable_ma_filter: true
  
  # RSI параметры (адаптированы для Futures)
  rsi_period: 14
  rsi_oversold: 25  # Более строгие уровни
  rsi_overbought: 75
  
  # MACD параметры
  macd_fast: 12
  macd_slow: 26
  macd_signal: 9
  
  # Bollinger Bands параметры
  bb_period: 20
  bb_std_dev: 1.8  # Более узкие полосы для Futures
  
  # Moving Average параметры
  ma_fast: 10  # Более быстрые MA для Futures
  ma_slow: 21

# Риск-менеджмент для Futures
risk:
  max_position_size_percent: 3.0  # Максимальный размер позиции в % от баланса (меньше для Futures)
  max_daily_loss_percent: 5.0  # Максимальная дневная потеря в % от баланса (строже для Futures)
  risk_per_trade_percent: 1.5  # Риск на сделку в % от баланса
  max_open_positions: 2  # Максимальное количество открытых позиций (меньше для Futures)
  
  # Адаптивное управление риском
  adaptive_risk: true
  balance_threshold: 0.8  # Порог для снижения риска (80% от начального баланса)
  risk_reduction_factor: 0.5  # Коэффициент снижения риска
  
  # Адаптивные минимумы для Futures (более агрессивные)
  adaptive_minimums:
    small:  # $100 - $1500
      balance_threshold: 1500.0
      minimum_order_usd: 5.0  # Futures может быть меньше
    medium:  # $1500 - $2300
      balance_threshold: 2300.0
      minimum_order_usd: 10.0  # Стандартный минимум
    large:  # $2300+
      balance_threshold: 999999.0  # Большое число для "от"
      minimum_order_usd: 15.0  # Больше для большого баланса

# Параметры Futures-специфичных модулей
futures_modules:
  # Slippage Guard
  slippage_guard:
    max_slippage_percent: 0.1  # Максимальное проскальзывание (0.1%)
    max_spread_percent: 0.05  # Максимальный спред (0.05%)
    order_timeout: 30.0  # Таймаут ордера (30 сек)
  
  # Order Flow Indicator
  order_flow:
    window: 100  # Размер окна для анализа
    long_threshold: 0.1  # Порог для благоприятности лонга (10%)
    short_threshold: -0.1  # Порог для благоприятности шорта (-10%)
  
  # Micro Pivot Calculator
  micro_pivot:
    timeframe: "15m"  # Таймфрейм для расчета пивотов
    max_distance_pct: 0.3  # Максимальное расстояние до TP (0.3%)
  
  # Trailing Stop Loss
  trailing_sl:
    initial_trail: 0.05  # Начальный трейлинг (0.05%)
    max_trail: 0.2  # Максимальный трейлинг (0.2%)
    min_trail: 0.02  # Минимальный трейлинг (0.02%)
  
  # Funding Rate Monitor
  funding_monitor:
    max_funding_rate: 0.05  # Максимальный допустимый funding (5%)
  
  # Max Size Limiter
  max_size_limiter:
    max_single_size_usd: 1000.0  # Максимальный размер одной позиции ($1000)
    max_total_size_usd: 5000.0  # Максимальный общий размер позиций ($5000)
    max_positions: 5  # Максимальное количество позиций
    size_step_btc: 0.001  # Шаг размера для BTC (0.001 BTC)
    size_step_eth: 0.01  # Шаг размера для ETH (0.01 ETH)

# Manual pools для адаптивных параметров
manual_pools: {}