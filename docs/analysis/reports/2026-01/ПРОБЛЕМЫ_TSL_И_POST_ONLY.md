# üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´: TSL –ò POST_ONLY

**–î–∞—Ç–∞:** 02 —è–Ω–≤–∞—Ä—è 2026  
**–°—Ç–∞—Ç—É—Å:** üî¥ –¢–†–ï–ë–£–ï–¢–°–Ø –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í–´–°–û–ö–ò–ô

---

## üìä –ü–†–û–ë–õ–ï–ú–ê #1: –î–í–û–ô–ù–ê–Ø –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø TSL

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

TrailingStopLoss –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è **–¥–≤–∞–∂–¥—ã** –¥–ª—è –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ –ø–æ–∑–∏—Ü–∏–∏, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫:
- –ü–µ—Ä–µ–∑–∞–ø–∏—Å–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ TSL (–ø–µ—Ä–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å trail=3.00%, –≤—Ç–æ—Ä–∞—è —Å trail=0.40%)
- –ü–æ—Ç–µ—Ä–µ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞

### –ü—Ä–∏–º–µ—Ä –∏–∑ –ª–æ–≥–æ–≤ SOL-USDT

```
11:06:00 | TSL INIT –¥–ª—è SOL-USDT: regime=ranging, trail=3.00%, loss_cut=4.00%
11:06:02 | TSL AGGRESSIVE –¥–ª—è SOL-USDT: strength=1.00 > 0.8, trail=0.40%, losscut=1.00%
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–µ—Ä–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –∑–∞—Ç–µ–º –ø–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–º–∏.

---

### –ú–µ—Å—Ç–∞ –¥–≤–æ–π–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

#### 1. EntryManager.open_position_with_size() (—Å—Ç—Ä–æ–∫–∞ ~250)

**–§–∞–π–ª:** `src/strategies/scalping/futures/positions/entry_manager.py`

**–ö–æ–¥:**
```python
# –ü–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è callback –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ TSL
if self.initialize_trailing_stop_callback:
    tsl = self.initialize_trailing_stop_callback(
        symbol=symbol,
        entry_price=entry_price,
        side=position_side,
        current_price=current_price,
        signal=signal_with_regime
    )
```

**–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:**
- –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –Ω–æ–≤–æ–π –ø–æ–∑–∏—Ü–∏–∏ —á–µ—Ä–µ–∑ EntryManager
- –°—Ä–∞–∑—É –ø–æ—Å–ª–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–∞ –Ω–∞ –±–∏—Ä–∂–µ

---

#### 2. Orchestrator._sync_positions_with_exchange() (—Å—Ç—Ä–æ–∫–∞ 2328)

**–§–∞–π–ª:** `src/strategies/scalping/futures/orchestrator.py`

**–ö–æ–¥:**
```python
if not self.trailing_sl_coordinator.get_tsl(symbol):
    tsl = self.trailing_sl_coordinator.initialize_trailing_stop(
        symbol=symbol,
        entry_price=effective_price,
        side=trailing_side,
        current_price=mark_price,
        signal=signal_with_regime
    )
```

**–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:**
- –ü—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ–∑–∏—Ü–∏–π —Å –±–∏—Ä–∂–µ–π
- –ü–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏ (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–æ–≤–µ—Ä–∫–∞ `if not self.trailing_sl_coordinator.get_tsl(symbol)` –º–æ–∂–µ—Ç –Ω–µ —Å—Ä–∞–±–æ—Ç–∞—Ç—å, –µ—Å–ª–∏ TSL —É–∂–µ —Å–æ–∑–¥–∞–Ω, –Ω–æ –µ—â–µ –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ `trailing_sl_by_symbol`.

---

#### 3. SignalCoordinator.execute_signal_from_price() (—Å—Ç—Ä–æ–∫–∞ 3396)

**–§–∞–π–ª:** `src/strategies/scalping/futures/coordinators/signal_coordinator.py`

**–ö–æ–¥:**
```python
if self.initialize_trailing_stop_callback:
    tsl = self.initialize_trailing_stop_callback(
        symbol=symbol,
        entry_price=entry_price,
        side=position_side,
        current_price=current_price,
        signal=signal_with_regime
    )
```

**–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:**
- –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏
- –ü–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ entry_price —Å –±–∏—Ä–∂–µ–π

---

### –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–∑–æ–≤–æ–≤ (–ø—Ä–æ–±–ª–µ–º–∞)

1. **EntryManager.open_position_with_size()** ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç TSL –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é (trail=3.00%)
2. **SignalCoordinator.execute_signal_from_price()** ‚Üí —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç entry_price ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç TSL –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é (trail=0.40%, aggressive)
3. **Orchestrator._sync_positions_with_exchange()** ‚Üí —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –ø–æ–∑–∏—Ü–∏–∏ ‚Üí –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å TSL –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** TSL –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –º–∏–Ω–∏–º—É–º 2 —Ä–∞–∑–∞, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è.

---

### –†–µ—à–µ–Ω–∏–µ

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è TSL –ø–µ—Ä–µ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π

**–í EntryManager:**
```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —É–∂–µ TSL –¥–ª—è —ç—Ç–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
if self.initialize_trailing_stop_callback:
    existing_tsl = self.trailing_sl_coordinator.get_tsl(symbol)
    if not existing_tsl:
        tsl = self.initialize_trailing_stop_callback(...)
```

**–í SignalCoordinator:**
```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —É–∂–µ TSL –¥–ª—è —ç—Ç–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
if self.initialize_trailing_stop_callback:
    existing_tsl = self.trailing_sl_coordinator.get_tsl(symbol)
    if not existing_tsl:
        tsl = self.initialize_trailing_stop_callback(...)
```

**–í Orchestrator:**
```python
# –£–∂–µ –µ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∞, –Ω–æ –Ω—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
if not self.trailing_sl_coordinator.get_tsl(symbol):
    tsl = self.trailing_sl_coordinator.initialize_trailing_stop(...)
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è TSL

**–°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—É—é —Ç–æ—á–∫—É –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ TSL:**
- –¢–æ–ª—å–∫–æ EntryManager –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç TSL –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–∏
- SignalCoordinator –∏ Orchestrator —Ç–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–ª—è—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ TSL

#### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–µ—Ä–µ–¥–∞—á–∞ signal —Å strength –≤ –ø–µ—Ä–≤—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–µ—Ä–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç signal —Å strength, –ø–æ—ç—Ç–æ–º—É –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º.

**–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å signal —Å strength –≤ EntryManager –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–∏.

---

## üìä –ü–†–û–ë–õ–ï–ú–ê #2: POST_ONLY –û–†–î–ï–† –ò–°–ü–û–õ–ù–Ø–ï–¢–°–Ø –ü–û –î–†–£–ì–û–ô –¶–ï–ù–ï

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

POST_ONLY –æ—Ä–¥–µ—Ä —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –ø–æ –æ–¥–Ω–æ–π —Ü–µ–Ω–µ, –Ω–æ –ø–æ–∑–∏—Ü–∏—è –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ –¥—Ä—É–≥–æ–π (–±–æ–ª–µ–µ –Ω–µ–≤—ã–≥–æ–¥–Ω–æ–π) —Ü–µ–Ω–µ.

### –ü—Ä–∏–º–µ—Ä –∏–∑ –ª–æ–≥–æ–≤ SOL-USDT

```
11:05:57 | –õ–∏–º–∏—Ç–Ω–∞—è —Ü–µ–Ω–∞ –¥–ª—è SOL-USDT sell: 127.21 (POST_ONLY enabled)
11:05:58 | –õ–∏–º–∏—Ç–Ω—ã–π –æ—Ä–¥–µ—Ä —Ä–∞–∑–º–µ—â–µ–Ω: 3182260695124742144 @ 127.21 (post_only=True)
11:06:00 | Position opened: SOL-USDT SHORT @ 128.90 (avgPx —Å –±–∏—Ä–∂–∏)
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –û—Ä–¥–µ—Ä —Ä–∞–∑–º–µ—â–µ–Ω –ø–æ $127.21 (POST_ONLY)
- –ü–æ–∑–∏—Ü–∏—è –æ—Ç–∫—Ä—ã–ª–∞—Å—å –ø–æ $128.90 (+1.33% —Ö—É–∂–µ)
- –î–ª—è SHORT –ø–æ–∑–∏—Ü–∏–∏ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —É–±—ã—Ç–æ–∫ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏

---

### –ü—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã

#### 1. POST_ONLY –æ—Ä–¥–µ—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω –±–∏—Ä–∂–µ–π

**–õ–æ–≥–∏–∫–∞ OKX:**
- –ï—Å–ª–∏ POST_ONLY –æ—Ä–¥–µ—Ä —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –ø–æ —Ü–µ–Ω–µ, –∫–æ—Ç–æ—Ä–∞—è —É–∂–µ –ø—Ä–æ—à–ª–∞ (—Ü–µ–Ω–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å), –±–∏—Ä–∂–∞ –º–æ–∂–µ—Ç:
  - –û—Ç–∫–ª–æ–Ω–∏—Ç—å –æ—Ä–¥–µ—Ä (–µ—Å–ª–∏ —Ü–µ–Ω–∞ –ø—Ä–æ—à–ª–∞ —á–µ—Ä–µ–∑ –ª–∏–º–∏—Ç–Ω—É—é)
  - –ò—Å–ø–æ–ª–Ω–∏—Ç—å –æ—Ä–¥–µ—Ä –∫–∞–∫ taker (–µ—Å–ª–∏ —Ü–µ–Ω–∞ –±–ª–∏–∑–∫–∞ –∫ –ª–∏–º–∏—Ç–Ω–æ–π)

**–ö–æ–¥ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è POST_ONLY:**
```python
# src/clients/futures_client.py, —Å—Ç—Ä–æ–∫–∞ 1178
if order_type == "limit" and post_only:
    payload["postOnly"] = "true"  # –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç maker fee
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏, —á—Ç–æ —Ü–µ–Ω–∞ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å –º–µ–∂–¥—É —Ä–∞—Å—á–µ—Ç–æ–º –∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º –æ—Ä–¥–µ—Ä–∞.

---

#### 2. –£—Å—Ç–∞—Ä–µ–≤—à–∞—è —Ü–µ–Ω–∞ –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ –ª–∏–º–∏—Ç–Ω–æ–π —Ü–µ–Ω—ã

**–ö–æ–¥ —Ä–∞—Å—á–µ—Ç–∞ –ª–∏–º–∏—Ç–Ω–æ–π —Ü–µ–Ω—ã:**
```python
# src/strategies/scalping/futures/order_executor.py, —Å—Ç—Ä–æ–∫–∞ 672
if price_diff_pct < 0.1:  # –†–∞–∑–Ω–∏—Ü–∞ < 0.1% - —Å–∏–≥–Ω–∞–ª –∞–∫—Ç—É–∞–ª–µ–Ω
    base_price = signal_price
else:
    logger.warning(f"‚ö†Ô∏è signal['price'] —É—Å—Ç–∞—Ä–µ–ª–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º current_price")
    base_price = current_price
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –°–∏–≥–Ω–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –º–æ–∂–µ—Ç —É—Å—Ç–∞—Ä–µ—Ç—å –º–µ–∂–¥—É –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —Å–∏–≥–Ω–∞–ª–∞ –∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º –æ—Ä–¥–µ—Ä–∞
- –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –º–µ–∂–¥—É —Ä–∞—Å—á–µ—Ç–æ–º –ª–∏–º–∏—Ç–Ω–æ–π —Ü–µ–Ω—ã –∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º –æ—Ä–¥–µ—Ä–∞

---

#### 3. POST_ONLY –æ—Ä–¥–µ—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª–Ω–µ–Ω –∫–∞–∫ taker

**–õ–æ–≥–∏–∫–∞ OKX:**
- –ï—Å–ª–∏ POST_ONLY –æ—Ä–¥–µ—Ä —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –ø–æ —Ü–µ–Ω–µ, –∫–æ—Ç–æ—Ä–∞—è —É–∂–µ –ø—Ä–æ—à–ª–∞, –±–∏—Ä–∂–∞ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª–Ω–∏—Ç—å –µ–≥–æ –∫–∞–∫ taker
- –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ—Ä–¥–µ—Ä –±—É–¥–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω –ø–æ —Ç–µ–∫—É—â–µ–π —Ä—ã–Ω–æ—á–Ω–æ–π —Ü–µ–Ω–µ, –∞ –Ω–µ –ø–æ –ª–∏–º–∏—Ç–Ω–æ–π

**–ü—Ä–∏–º–µ—Ä:**
- –õ–∏–º–∏—Ç–Ω–∞—è —Ü–µ–Ω–∞: $127.21 (best_bid)
- –¶–µ–Ω–∞ –ø—Ä–æ—à–ª–∞ —á–µ—Ä–µ–∑ $127.21 ‚Üí $128.90
- POST_ONLY –æ—Ä–¥–µ—Ä –∏—Å–ø–æ–ª–Ω–µ–Ω –∫–∞–∫ taker –ø–æ $128.90

---

### –†–µ—à–µ–Ω–∏–µ

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤–µ–∂–µ—Å—Ç–∏ —Ü–µ–Ω—ã –ø–µ—Ä–µ–¥ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º POST_ONLY

**–ö–æ–¥:**
```python
# –ü–µ—Ä–µ–¥ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º POST_ONLY –æ—Ä–¥–µ—Ä–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ü–µ–Ω–∞ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å
current_price = await self.client.get_current_price(symbol)
price_diff = abs(limit_price - current_price) / current_price * 100

if price_diff > 0.1:  # –¶–µ–Ω–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å –±–æ–ª–µ–µ —á–µ–º –Ω–∞ 0.1%
    logger.warning(f"‚ö†Ô∏è –¶–µ–Ω–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å –Ω–∞ {price_diff:.2f}%, –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º –ª–∏–º–∏—Ç–Ω—É—é —Ü–µ–Ω—É")
    limit_price = await self._calculate_limit_price(...)  # –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –û—Ç–∫–ª—é—á–µ–Ω–∏–µ POST_ONLY –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏

**–ö–æ–¥:**
```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º POST_ONLY
volatility = await self._get_volatility(symbol)
if volatility > 0.5:  # –í—ã—Å–æ–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å (>0.5%)
    post_only = False  # –û—Ç–∫–ª—é—á–∞–µ–º POST_ONLY –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
    logger.warning(f"‚ö†Ô∏è –í—ã—Å–æ–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å ({volatility:.2f}%), POST_ONLY –æ—Ç–∫–ª—é—á–µ–Ω")
```

#### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ MARKET –æ—Ä–¥–µ—Ä–æ–≤ –¥–ª—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞

**–ö–æ–¥:**
```python
# –î–ª—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º MARKET –æ—Ä–¥–µ—Ä—ã –≤–º–µ—Å—Ç–æ POST_ONLY
if regime == "choppy" or volatility > 0.5:
    order_type = "market"  # –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ
    post_only = False
else:
    order_type = "limit"
    post_only = True  # –≠–∫–æ–Ω–æ–º–∏—è –Ω–∞ –∫–æ–º–∏—Å—Å–∏–∏
```

#### –í–∞—Ä–∏–∞–Ω—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è POST_ONLY –æ—Ä–¥–µ—Ä–∞

**–ö–æ–¥:**
```python
# –ü–æ—Å–ª–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è POST_ONLY –æ—Ä–¥–µ—Ä–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –æ–Ω –∏—Å–ø–æ–ª–Ω–µ–Ω –∫–∞–∫ maker
order_status = await self.client.get_order_status(order_id)
if order_status.get("exec_type") == "taker":
    logger.warning(f"‚ö†Ô∏è POST_ONLY –æ—Ä–¥–µ—Ä {order_id} –∏—Å–ø–æ–ª–Ω–µ–Ω –∫–∞–∫ taker, —Ü–µ–Ω–∞ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è")
    # –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º entry_price —Å –±–∏—Ä–∂–∏
    entry_price = await self._get_actual_entry_price(symbol, order_id)
```

---

## üìä –ü–†–û–ë–õ–ï–ú–ê #3: –ü–û–ó–ò–¶–ò–Ø –ó–ê–ö–†–´–õ–ê–°–¨ –° –£–ë–´–¢–ö–û–ú -3.18%

### –ê–Ω–∞–ª–∏–∑ –∑–∞–∫—Ä—ã—Ç–∏—è SOL-USDT

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∑–∏—Ü–∏–∏:**
- Entry: $128.90
- Exit: $129.18
- PnL: -$0.81 USDT (-3.18%)
- –í—Ä–µ–º—è —É–¥–µ—Ä–∂–∞–Ω–∏—è: 2 –º–∏–Ω—É—Ç—ã 34 —Å–µ–∫—É–Ω–¥—ã

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü–æ–∑–∏—Ü–∏—è –æ—Ç–∫—Ä—ã–ª–∞—Å—å –ø–æ $128.90 (—Ö—É–∂–µ –ª–∏–º–∏—Ç–Ω–æ–π —Ü–µ–Ω—ã $127.21)
- –ü–æ–∑–∏—Ü–∏—è –∑–∞–∫—Ä—ã–ª–∞—Å—å –ø–æ $129.18 (—Ü–µ–Ω–∞ –≤—ã—Ä–æ—Å–ª–∞ –¥–ª—è SHORT)
- TrailingStopLoss –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ (aggressive mode —Å trail=0.40%)

---

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

#### 1. TSL –Ω–µ —É—Å–ø–µ–ª –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π TSL —Å trail=0.40% –º–æ–∂–µ—Ç –Ω–µ —É—Å–ø–µ—Ç—å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å—Å—è –∑–∞ 2 –º–∏–Ω—É—Ç—ã.

**–†–µ—à–µ–Ω–∏–µ:** –£–≤–µ–ª–∏—á–∏—Ç—å min_holding_minutes –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–∏–π trail –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –ø–æ–∑–∏—Ü–∏–π.

#### 2. POST_ONLY –æ—Ä–¥–µ—Ä –æ—Ç–∫—Ä—ã–ª –ø–æ–∑–∏—Ü–∏—é –ø–æ –Ω–µ–≤—ã–≥–æ–¥–Ω–æ–π —Ü–µ–Ω–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–∑–∏—Ü–∏—è –æ—Ç–∫—Ä—ã–ª–∞—Å—å –ø–æ $128.90 –≤–º–µ—Å—Ç–æ $127.21, —á—Ç–æ —Å—Ä–∞–∑—É –¥–∞–ª–æ —É–±—ã—Ç–æ–∫ -1.31%.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å POST_ONLY –æ—Ä–¥–µ—Ä–∞–º–∏ (—Å–º. –ü—Ä–æ–±–ª–µ–º–∞ #2).

#### 3. TrailingStopLoss –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª –∏–∑-–∑–∞ –¥–≤–æ–π–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –î–≤–æ–π–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è TSL –º–æ–≥–ª–∞ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å –¥–≤–æ–π–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π TSL (—Å–º. –ü—Ä–æ–±–ª–µ–º–∞ #1).

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Æ

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –î–≤–æ–π–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è TSL

1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è TSL –ø–µ—Ä–µ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π –≤–æ –≤—Å–µ—Ö –º–µ—Å—Ç–∞—Ö
2. ‚úÖ –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å signal —Å strength –≤ –ø–µ—Ä–≤—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é TSL
3. ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é TSL –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ (EntryManager)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: POST_ONLY –æ—Ä–¥–µ—Ä–∞

1. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å–≤–µ–∂–µ—Å—Ç—å —Ü–µ–Ω—ã –ø–µ—Ä–µ–¥ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º POST_ONLY –æ—Ä–¥–µ—Ä–∞
2. ‚úÖ –û—Ç–∫–ª—é—á–∞—Ç—å POST_ONLY –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ POST_ONLY –æ—Ä–¥–µ—Ä –∏—Å–ø–æ–ª–Ω–µ–Ω –∫–∞–∫ maker
4. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MARKET –æ—Ä–¥–µ—Ä—ã –¥–ª—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞ –≤ –≤–æ–ª–∞—Ç–∏–ª—å–Ω—ã—Ö —Ä–µ–∂–∏–º–∞—Ö

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

1. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ TSL —Å –ø—Ä–∏—á–∏–Ω–æ–π
2. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –º–µ–∂–¥—É –ª–∏–º–∏—Ç–Ω–æ–π —Ü–µ–Ω–æ–π –∏ entry_price
3. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ POST_ONLY –æ—Ä–¥–µ—Ä–æ–≤ (maker/taker)

---

## üìã –ß–ï–ö–õ–ò–°–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

### TSL –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É `get_tsl(symbol)` –≤ EntryManager –ø–µ—Ä–µ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É `get_tsl(symbol)` –≤ SignalCoordinator –ø–µ—Ä–µ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ Orchestrator —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å signal —Å strength –≤ EntryManager –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–π TSL —Å –ø—Ä–∏—á–∏–Ω–æ–π

### POST_ONLY –æ—Ä–¥–µ—Ä–∞

- [ ] –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å–≤–µ–∂–µ—Å—Ç—å —Ü–µ–Ω—ã –ø–µ—Ä–µ–¥ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º POST_ONLY –æ—Ä–¥–µ—Ä–∞
- [ ] –û—Ç–∫–ª—é—á–∞—Ç—å POST_ONLY –ø—Ä–∏ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ > 0.5%
- [ ] –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ POST_ONLY –æ—Ä–¥–µ—Ä–∞ (maker/taker)
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MARKET –æ—Ä–¥–µ—Ä—ã –¥–ª—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞ –≤ choppy —Ä–µ–∂–∏–º–µ
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π –º–µ–∂–¥—É –ª–∏–º–∏—Ç–Ω–æ–π —Ü–µ–Ω–æ–π –∏ entry_price

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –≤—Å–µ—Ö –ø–∞—Ä–∞—Ö (BTC, ETH, SOL, DOGE, XRP)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ –≤—Å–µ—Ö —Ä–µ–∂–∏–º–∞—Ö (trending, ranging, choppy)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ strength (0.5, 0.8, 1.0)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 02 —è–Ω–≤–∞—Ä—è 2026  
**–ê–≤—Ç–æ—Ä:** –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ SOL-USDT  
**–°—Ç–∞—Ç—É—Å:** üî¥ –¢–†–ï–ë–£–ï–¢–°–Ø –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï

