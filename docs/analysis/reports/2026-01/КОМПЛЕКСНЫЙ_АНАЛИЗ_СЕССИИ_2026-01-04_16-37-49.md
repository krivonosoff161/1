# –ö–û–ú–ü–õ–ï–ö–°–ù–´–ô –ê–ù–ê–õ–ò–ó –¢–û–†–ì–û–í–û–ô –°–ï–°–°–ò–ò 2026-01-04 16:37:49

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2026-01-04  
**–ü–µ—Ä–∏–æ–¥ —Å–µ—Å—Å–∏–∏:** ~3-4 —á–∞—Å–∞  
**–°—Ç–∞—Ç—É—Å:** –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ –û–ë–ù–ê–†–£–ñ–ï–ù–´

---

## üìã –û–ì–õ–ê–í–õ–ï–ù–ò–ï

1. [–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏](#1-–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ-–æ—à–∏–±–∫–∏)
2. [–ê–Ω–∞–ª–∏–∑ –ª–æ–≥–∏–∫–∏ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π](#2-–∞–Ω–∞–ª–∏–∑-–ª–æ–≥–∏–∫–∏-–∑–∞–∫—Ä—ã—Ç–∏—è-–ø–æ–∑–∏—Ü–∏–π)
3. [–ê–Ω–∞–ª–∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã](#3-–∞–Ω–∞–ª–∏–∑-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤-–¥–ª—è-–∫–∞–∂–¥–æ–π-–ø–∞—Ä—ã)
4. [–ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞–Ω–∞–ª–∏–∑–∞ –≥—Ä–∞—Ñ–∏–∫–∞](#4-–∞–Ω–∞–ª–∏–∑-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-–∞–Ω–∞–ª–∏–∑–∞-–≥—Ä–∞—Ñ–∏–∫–∞)
5. [–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–¥–µ–ª–æ–∫](#5-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞-—Å–¥–µ–ª–æ–∫)
6. [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è](#6-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–∏-–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

---

## 1. –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –û–®–ò–ë–ö–ò

### 1.1. –û—à–∏–±–∫–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –≤ ExitAnalyzer (–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–æ–ª–µ–µ 400 –æ—à–∏–±–æ–∫ —Ç–∏–ø–∞ `'>' not supported between instances of 'str' and 'int'` –≤ `ExitAnalyzer._generate_exit_for_ranging`

**–õ–æ–∫–∞—Ü–∏—è:** `src/strategies/scalping/futures/positions/exit_analyzer.py:3963`

**–ü—Ä–∏—á–∏–Ω–∞:**
- –í —Å—Ç—Ä–æ–∫–µ 2666 (trending —Ä–µ–∂–∏–º) –∏ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ `minutes_in_position >= max_holding_minutes`
- `max_holding_minutes` –º–æ–∂–µ—Ç –±—ã—Ç—å —Å—Ç—Ä–æ–∫–æ–π –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞, –∞ –Ω–µ —á–∏—Å–ª–æ–º
- –í ranging —Ä–µ–∂–∏–º–µ —É–∂–µ –µ—Å—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è, –Ω–æ –≤ trending —Ä–µ–∂–∏–º–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```python
# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û (04.01.2026): –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º max_holding_minutes –≤ float –ø–µ—Ä–µ–¥ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º
try:
    max_holding_minutes_float = (
        float(max_holding_minutes)
        if max_holding_minutes is not None
        else 120.0
    )
except (TypeError, ValueError):
    logger.warning(
        f"‚ö†Ô∏è ExitAnalyzer TRENDING: –ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å max_holding_minutes={max_holding_minutes} –≤ float, –∏—Å–ø–æ–ª—å–∑—É–µ–º 120.0"
    )
    max_holding_minutes_float = 120.0

if (
    minutes_in_position is not None
    and isinstance(minutes_in_position, (int, float))
    and float(minutes_in_position) >= max_holding_minutes_float
):
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û –¥–ª—è trending —Ä–µ–∂–∏–º–∞

---

### 1.2. –û—à–∏–±–∫–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–∞ ETH-USDT (–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø)

**–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ä–¥–µ—Ä ETH-USDT —Ä–∞–∑–º–µ—â–µ–Ω –ø–æ —Ü–µ–Ω–µ 3133.00 –∏–ª–∏ 3135.27, –Ω–æ –ª–∏–º–∏—Ç—ã –±–∏—Ä–∂–∏: max buy price: 4,074.43, min sell price: 3,134.18

**–õ–æ–∫–∞—Ü–∏—è:** `src/strategies/scalping/futures/order_executor.py:_place_limit_order`

**–õ–æ–≥–∏:**
```
2026-01-04 16:05:29.735 | ERROR | –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫ OKX: 
Order price is not within the price limit (max buy price: 4,074.43, min sell price: 3,134.18)
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ë–æ—Ç –ø—ã—Ç–∞–µ—Ç—Å—è —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å SELL –æ—Ä–¥–µ—Ä –ø–æ —Ü–µ–Ω–µ 3133.00, –Ω–æ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –¥–ª—è SELL - 3134.18
- –†–∞—Å—á–µ—Ç –ª–∏–º–∏—Ç–Ω–æ–π —Ü–µ–Ω—ã –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –ª–∏–º–∏—Ç—ã –±–∏—Ä–∂–∏ –∏–∑ `get_price_limits()`
- –†–∞–∑–Ω–∏—Ü–∞: 3134.18 - 3133.00 = 1.18 (0.037% –æ—Ç —Ü–µ–Ω—ã)

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å `min_sell_price` –∏ `max_buy_price` –∏–∑ `get_price_limits()` –ø–µ—Ä–µ–¥ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º –æ—Ä–¥–µ—Ä–∞
- –ï—Å–ª–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞ –≤–Ω–µ –ª–∏–º–∏—Ç–æ–≤ - –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```python
# ‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï (04.01.2026): –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–∏–º–∏—Ç –±–∏—Ä–∂–∏ min_sell_price –í–°–ï–ì–î–ê
if min_sell_price > 0:
    if limit_price < min_sell_price:
        logger.warning(
            f"‚ö†Ô∏è –õ–∏–º–∏—Ç–Ω–∞—è —Ü–µ–Ω–∞ –¥–ª—è {symbol} SELL ({limit_price:.2f}) –Ω–∏–∂–µ –ª–∏–º–∏—Ç–∞ –±–∏—Ä–∂–∏ ({min_sell_price:.2f}), "
            f"–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º –¥–æ {min_sell_price * 1.001:.2f} (0.1% –≤—ã—à–µ –ª–∏–º–∏—Ç–∞ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)"
        )
        limit_price = min_sell_price * 1.001
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

---

## 2. –ê–ù–ê–õ–ò–ó –õ–û–ì–ò–ö–ò –ó–ê–ö–†–´–¢–ò–Ø –ü–û–ó–ò–¶–ò–ô

### 2.1. –ü—Ä–æ–±–ª–µ–º–∞: –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤–æ—Ä–æ—Ç–æ–º

**–ù–∞–±–ª—é–¥–µ–Ω–∏–µ –∏–∑ CSV:**
- –ú–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏–π –ø–æ `emergency_loss_protection` (6 –∏–∑ 12 —Å–¥–µ–ª–æ–∫)
- –ó–∞–∫—Ä—ã—Ç–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç —Å–ª–∏—à–∫–æ–º —Ä–∞–Ω–æ, –Ω–µ –¥–æ–∂–∏–¥–∞—è—Å—å —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞
- –°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–±—ã—Ç–æ—á–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π: 63-622 —Å–µ–∫—É–Ω–¥—ã (1-10 –º–∏–Ω—É—Ç)

**–ü—Ä–∏–º–µ—Ä—ã:**
1. DOGE-USDT: –∑–∞–∫—Ä—ã—Ç–∞ —á–µ—Ä–µ–∑ 63.8 —Å–µ–∫ —Å —É–±—ã—Ç–∫–æ–º -0.60% (emergency_loss_protection)
2. SOL-USDT: –∑–∞–∫—Ä—ã—Ç–∞ —á–µ—Ä–µ–∑ 203.9 —Å–µ–∫ —Å —É–±—ã—Ç–∫–æ–º -0.85% (emergency_loss_protection)
3. XRP-USDT: –∑–∞–∫—Ä—ã—Ç–∞ —á–µ—Ä–µ–∑ 447.8 —Å–µ–∫ —Å —É–±—ã—Ç–∫–æ–º -0.79% (emergency_loss_protection)

**–ü—Ä–∏—á–∏–Ω–∞:**
- `emergency_loss_protection` —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ —É–±—ã—Ç–∫–µ >= -2.5% (–¥–ª—è ranging —Ä–µ–∂–∏–º–∞)
- –ü–æ—Ä–æ–≥ —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∏–π –¥–ª—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞ - –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ —Ä—ã–Ω–æ–∫ –º–æ–∂–µ—Ç —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å—Å—è
- –ù–µ—Ç –∞–Ω–∞–ª–∏–∑–∞ –≥—Ä–∞—Ñ–∏–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º - –±–æ—Ç –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∏–∑–Ω–∞–∫–∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞

**–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:**
```python
# exit_analyzer.py:2923
emergency_loss_threshold = -2.5  # –î–ª—è ranging —Ä–µ–∂–∏–º–∞
if net_pnl_percent < adjusted_emergency_threshold:
    # –ó–∞–∫—Ä—ã–≤–∞–µ–º —Å—Ä–∞–∑—É, –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞
    return {"action": "close", "reason": "emergency_loss_protection"}
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ `_check_reversal_signals()` –∏–ª–∏ `_should_force_close_by_smart_analysis()` –ø–µ—Ä–µ–¥ emergency close

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –ü–µ—Ä–µ–¥ emergency close –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ —á–µ—Ä–µ–∑ `_check_reversal_signals()`
- –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ - –Ω–µ –∑–∞–∫—Ä—ã–≤–∞—Ç—å, –¥–∞—Ç—å –ø–æ–∑–∏—Ü–∏–∏ —à–∞–Ω—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `_should_force_close_by_smart_analysis()` –¥–ª—è –±–æ–ª–µ–µ —É–º–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è

---

### 2.2. –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –∞–Ω–∞–ª–∏–∑–∞ –≥—Ä–∞—Ñ–∏–∫–∞ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏

**–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è:**
1. Emergency Loss Protection (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1) - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ü–ï–†–í–û–ô, –±–µ–∑ –∞–Ω–∞–ª–∏–∑–∞ –≥—Ä–∞—Ñ–∏–∫–∞
2. SL (Stop Loss) - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –±–µ–∑ –∞–Ω–∞–ª–∏–∑–∞ –≥—Ä–∞—Ñ–∏–∫–∞
3. Smart Close - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —É–±—ã—Ç–æ–∫ >= 1.5 * SL
4. TP (Take Profit) - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –±–µ–∑ –∞–Ω–∞–ª–∏–∑–∞ –≥—Ä–∞—Ñ–∏–∫–∞
5. Reversal Detection - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø—Ä–∏–±—ã–ª—å > 0.3%

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Emergency Loss Protection –∏ SL —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –ë–ï–ó –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞—Ñ–∏–∫–∞
- –ë–æ—Ç –Ω–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç ADX, Order Flow, MTF, —Å–≤–µ—á–∏, Volume Profile –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º
- –ó–∞–∫—Ä—ã—Ç–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç "–æ—Ç –±–∞–ª–¥—ã", –±–µ–∑ —É—á–µ—Ç–∞ —Ä—ã–Ω–æ—á–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π

**–ú–µ—Ç–æ–¥—ã –∞–Ω–∞–ª–∏–∑–∞ –≥—Ä–∞—Ñ–∏–∫–∞ (—Å—É—â–µ—Å—Ç–≤—É—é—Ç, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è):**
- `_check_reversal_signals()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ Order Flow –∏ MTF —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞
- `_should_force_close_by_smart_analysis()` - –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ 7 –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤:
  - Order Flow —Ä–∞–∑–≤–æ—Ä–æ—Ç
  - Funding bias
  - Correlation bias
  - Liquidity sweep
  - Reversal candles
  - Volume Profile support
  - Pivot support
- `_analyze_trend_strength()` - –∞–Ω–∞–ª–∏–∑ —Å–∏–ª—ã —Ç—Ä–µ–Ω–¥–∞ —á–µ—Ä–µ–∑ ADX

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –ü–µ—Ä–µ–¥ –í–°–ï–ú–ò –∑–∞–∫—Ä—ã—Ç–∏—è–º–∏ (emergency, SL, TP) –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞
- –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ –≤ –Ω–∞—à—É –ø–æ–ª—å–∑—É - –ù–ï –∑–∞–∫—Ä—ã–≤–∞—Ç—å
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `_should_force_close_by_smart_analysis()` –¥–ª—è –≤—Å–µ—Ö —É–±—ã—Ç–æ—á–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π

---

### 2.3. –ü—Ä–æ–±–ª–µ–º–∞: –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –±–µ–∑ –∞–Ω–∞–ª–∏–∑–∞ –≥—Ä–∞—Ñ–∏–∫–∞

**–ù–∞–±–ª—é–¥–µ–Ω–∏–µ:**
- SOL-USDT –∑–∞–∫—Ä—ã—Ç–∞ —á–µ—Ä–µ–∑ 1888.6 —Å–µ–∫ (31.5 –º–∏–Ω—É—Ç) —Å –ø—Ä–∏–±—ã–ª—å—é 0.13% (max_holding_hard_stop_profit)
- –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ –ø–æ –≤—Ä–µ–º–µ–Ω–∏, –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞—Ñ–∏–∫–∞

**–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:**
```python
# exit_analyzer.py:3712-3885
if minutes_in_position >= actual_max_holding:
    # –ó–∞–∫—Ä—ã–≤–∞–µ–º –ø–æ –≤—Ä–µ–º–µ–Ω–∏, –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞—Ñ–∏–∫–∞
    return {"action": "close", "reason": "max_holding_exceeded"}
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ `_check_reversal_signals()` –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ `_analyze_trend_strength()` - –µ—Å–ª–∏ —Ç—Ä–µ–Ω–¥ —Å–∏–ª—å–Ω—ã–π, –º–æ–∂–Ω–æ –ø—Ä–æ–¥–ª–∏—Ç—å
- –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –±–µ–∑ —É—á–µ—Ç–∞ —Ä—ã–Ω–æ—á–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –ü–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å:
  - –°–∏–ª—É —Ç—Ä–µ–Ω–¥–∞ —á–µ—Ä–µ–∑ `_analyze_trend_strength()`
  - –ü—Ä–∏–∑–Ω–∞–∫–∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ —á–µ—Ä–µ–∑ `_check_reversal_signals()`
  - –ï—Å–ª–∏ —Ç—Ä–µ–Ω–¥ —Å–∏–ª—å–Ω—ã–π –ò –Ω–µ—Ç –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ - –ø—Ä–æ–¥–ª–µ–≤–∞—Ç—å –≤—Ä–µ–º—è
  - –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ - –∑–∞–∫—Ä—ã–≤–∞—Ç—å

---

## 3. –ê–ù–ê–õ–ò–ó –ü–ê–†–ê–ú–ï–¢–†–û–í –î–õ–Ø –ö–ê–ñ–î–û–ô –ü–ê–†–´

### 3.1. –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–ø–æ–Ω—è—Ç–Ω–æ –∫–∞–∫ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

**–í–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:** "—á—Ç–æ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑–Ω—ã–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã, –∞ —è –Ω–µ –ø–æ–π–º—É –∫–∞–∫ –∏ —á—Ç–æ –±–æ—Ç —Ä–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø–ª–µ—á–æ\–º–∞—Ä–∂—É\—Ç–ø.—Å–ª\–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∏ —Ñ–∏–ª—å—Ä–∞"

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

#### 3.1.1. –ü–ª–µ—á–æ (Leverage)
**–ò—Å—Ç–æ—á–Ω–∏–∫:** `src/strategies/scalping/futures/coordinators/signal_coordinator.py:2284-2295`
```python
if self.adaptive_leverage:
    leverage_config = await self.adaptive_leverage.calculate_leverage(
        signal, regime, volatility, client=self.client, position_size_usd=base_margin_usd
    )
else:
    leverage_config = getattr(self.scalping_config, "leverage", 10)
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `adaptive_leverage`, –Ω–æ –Ω–µ —è—Å–Ω–æ –∫–∞–∫ –æ–Ω –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –∫–∞–∂–¥—É—é –ø–∞—Ä—É
- –ù–µ—Ç —è–≤–Ω–æ–≥–æ per-symbol –∫–æ–Ω—Ñ–∏–≥–∞ –¥–ª—è leverage
- –î–ª—è ETH –µ—Å—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–Ω–∏–∂–µ–Ω–∏—è leverage –ø—Ä–∏ –±–æ–ª—å—à–æ–º notional (>$200)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –î–æ–±–∞–≤–∏—Ç—å per-symbol –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è leverage –≤ `config.yaml`
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç leverage –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º

---

#### 3.1.2. –ú–∞—Ä–∂–∞ (Margin)
**–ò—Å—Ç–æ—á–Ω–∏–∫:** `src/strategies/scalping/futures/risk_manager.py:1165-1188`
```python
margin_required_initial = base_usd_size / leverage
adaptive_risk_params = self.config_manager.get_adaptive_risk_params(
    balance, symbol_regime, symbol, signal_generator=signal_generator
)
max_margin_percent = adaptive_risk_params.get("max_margin_percent", 80.0) / 100.0
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `get_adaptive_risk_params()`, –Ω–æ –Ω–µ —è—Å–Ω–æ –∫–∞–∫ –æ–Ω –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –∫–∞–∂–¥—É—é –ø–∞—Ä—É
- –ù–µ—Ç —è–≤–Ω–æ–≥–æ per-symbol –∫–æ–Ω—Ñ–∏–≥–∞ –¥–ª—è margin

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –î–æ–±–∞–≤–∏—Ç—å per-symbol –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è margin –≤ `config.yaml`
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç margin –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º

---

#### 3.1.3. TP/SL (Take Profit / Stop Loss)
**–ò—Å—Ç–æ—á–Ω–∏–∫:** `src/strategies/scalping/futures/positions/exit_analyzer.py:_get_tp_percent() –∏ _get_sl_percent()`

**–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ATR-based TP/SL: `max(1.5%, 2.5*ATR_1m)` –¥–ª—è ranging
- –ï—Å—Ç—å per-symbol multipliers:
  ```python
  symbol_multipliers = {
      "SOL-USDT": 0.95,  # SOL –±–æ–ª–µ–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω—ã–π -> tighter TP
      "BTC-USDT": 1.0,   # BTC —Å—Ç–∞–Ω–¥–∞—Ä—Ç
      "ETH-USDT": 1.0,   # ETH —Å—Ç–∞–Ω–¥–∞—Ä—Ç
      "DOGE-USDT": 0.9,  # DOGE –æ—á–µ–Ω—å –≤–æ–ª–∞—Ç–∏–ª—å–Ω—ã–π -> tighter TP
      "XRP-USDT": 0.98,  # XRP –Ω–µ–º–Ω–æ–≥–æ –≤–æ–ª–∞—Ç–∏–ª—å–Ω—ã–π
  }
  ```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Multipliers –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã –≤ –∫–æ–¥–µ, –Ω–µ –≤ –∫–æ–Ω—Ñ–∏–≥–µ
- –ù–µ —è—Å–Ω–æ –∫–∞–∫ –æ–Ω–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ –±–∞–∑–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º TP/SL

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –í—ã–Ω–µ—Å—Ç–∏ multipliers –≤ –∫–æ–Ω—Ñ–∏–≥
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç TP/SL –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º

---

#### 3.1.4. –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∏ —Ñ–∏–ª—å—Ç—Ä—ã
**–ò—Å—Ç–æ—á–Ω–∏–∫:** `src/strategies/scalping/futures/signal_generator.py:_get_regime_indicators_params()`

**–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:**
- –ï—Å—Ç—å per-symbol –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –≤ –∫–æ–Ω—Ñ–∏–≥–µ
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è RSI overbought/oversold —É—Ä–æ–≤–Ω–µ–π

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ —è—Å–Ω–æ –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ –∫–∞–∂–¥–æ–º—É –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—É
- –ù–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞—Å—á–µ—Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞

---

## 4. –ê–ù–ê–õ–ò–ó –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø –ê–ù–ê–õ–ò–ó–ê –ì–†–ê–§–ò–ö–ê

### 4.1. –ú–µ—Ç–æ–¥—ã –∞–Ω–∞–ª–∏–∑–∞ –≥—Ä–∞—Ñ–∏–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—Ç, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è

**–ú–µ—Ç–æ–¥—ã:**
1. `_check_reversal_signals()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ Order Flow –∏ MTF —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞
2. `_should_force_close_by_smart_analysis()` - –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ 7 –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
3. `_analyze_trend_strength()` - –∞–Ω–∞–ª–∏–∑ —Å–∏–ª—ã —Ç—Ä–µ–Ω–¥–∞ —á–µ—Ä–µ–∑ ADX
4. `_check_reversal_candles()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤–µ—á–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞
5. `_check_volume_profile_support()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Volume Profile
6. `_check_pivot_support()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Pivot Points

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:**
- `_check_reversal_signals()` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø—Ä–∏–±—ã–ª—å > 0.3% (—Å—Ç—Ä–æ–∫–∞ 3505)
- `_should_force_close_by_smart_analysis()` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —É–±—ã—Ç–æ–∫ >= 1.5 * SL (—Å—Ç—Ä–æ–∫–∞ 3233)
- `_analyze_trend_strength()` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ–¥–ª–µ–Ω–∏—è TP –≤ trending —Ä–µ–∂–∏–º–µ (—Å—Ç—Ä–æ–∫–∞ 2669)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ú–µ—Ç–æ–¥—ã –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–µ—Ä–µ–¥ emergency close
- –ú–µ—Ç–æ–¥—ã –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–µ—Ä–µ–¥ SL close
- –ú–µ—Ç–æ–¥—ã –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- –ú–µ—Ç–æ–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö —É—Å–ª–æ–≤–∏—è—Ö

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `_check_reversal_signals()` –ø–µ—Ä–µ–¥ –í–°–ï–ú–ò –∑–∞–∫—Ä—ã—Ç–∏—è–º–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `_should_force_close_by_smart_analysis()` –¥–ª—è –≤—Å–µ—Ö —É–±—ã—Ç–æ—á–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `_analyze_trend_strength()` –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º –ø–æ –≤—Ä–µ–º–µ–Ω–∏

---

## 5. –°–¢–ê–¢–ò–°–¢–ò–ö–ê –°–î–ï–õ–û–ö

### 5.1. –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–í—Å–µ–≥–æ —Å–¥–µ–ª–æ–∫:** 12

**–ü—Ä–∏—á–∏–Ω—ã –∑–∞–∫—Ä—ã—Ç–∏—è:**
- `emergency_loss_protection`: 6 —Å–¥–µ–ª–æ–∫ (50%)
- `sl_reached`: 2 —Å–¥–µ–ª–∫–∏ (16.7%)
- `tp_reached`: 2 —Å–¥–µ–ª–∫–∏ (16.7%)
- `max_holding_hard_stop_profit`: 1 —Å–¥–µ–ª–∫–∞ (8.3%)
- `max_holding_hard_stop_timeout_loss`: 0 —Å–¥–µ–ª–æ–∫

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- –ü—Ä–∏–±—ã–ª—å–Ω—ã—Ö: 2 —Å–¥–µ–ª–∫–∏ (16.7%)
- –£–±—ã—Ç–æ—á–Ω—ã—Ö: 10 —Å–¥–µ–ª–æ–∫ (83.3%)
- Win Rate: 16.7%

**–°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- –ü—Ä–∏–±—ã–ª—å–Ω—ã–µ: 7.9 —Å–µ–∫ - 489.7 —Å–µ–∫ (0.1 - 8.2 –º–∏–Ω—É—Ç)
- –£–±—ã—Ç–æ—á–Ω—ã–µ: 63.8 —Å–µ–∫ - 1888.6 —Å–µ–∫ (1.1 - 31.5 –º–∏–Ω—É—Ç)

### 5.2. –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–∞—Ä–∞–º

#### BTC-USDT
- –°–¥–µ–ª–æ–∫: 1
- –†–µ–∑—É–ª—å—Ç–∞—Ç: –£–±—ã—Ç–æ–∫ -0.41% (sl_reached)
- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 218.8 —Å–µ–∫ (3.6 –º–∏–Ω—É—Ç)

#### DOGE-USDT
- –°–¥–µ–ª–æ–∫: 3
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã: –í—Å–µ —É–±—ã—Ç–æ—á–Ω—ã–µ (-0.60%, -0.41%, -0.80%)
- –ü—Ä–∏—á–∏–Ω–∞: –í—Å–µ emergency_loss_protection
- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 63.8 - 151.9 —Å–µ–∫ (1.1 - 2.5 –º–∏–Ω—É—Ç)

#### SOL-USDT
- –°–¥–µ–ª–æ–∫: 2
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã: -0.85% (emergency_loss_protection), -0.11% (max_holding_hard_stop_profit)
- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 203.9 —Å–µ–∫, 1888.6 —Å–µ–∫ (3.4 –º–∏–Ω—É—Ç, 31.5 –º–∏–Ω—É—Ç)

#### ETH-USDT
- –°–¥–µ–ª–æ–∫: 2
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã: -0.12% (tp_reached - —Å—Ç—Ä–∞–Ω–Ω–æ, –ø—Ä–∏–±—ã–ª—å –±—ã–ª–∞, –Ω–æ –∑–∞–∫—Ä—ã—Ç–∞ —Å —É–±—ã—Ç–∫–æ–º), -0.54% (sl_reached)
- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 7.9 —Å–µ–∫, 1310.9 —Å–µ–∫ (0.1 –º–∏–Ω—É—Ç, 21.8 –º–∏–Ω—É—Ç)

#### XRP-USDT
- –°–¥–µ–ª–æ–∫: 4
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã: +1.29% (tp_reached), -0.79% (emergency_loss_protection), -0.79% (emergency_loss_protection)
- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 489.7 —Å–µ–∫, 447.8 —Å–µ–∫, 622.4 —Å–µ–∫ (8.2 –º–∏–Ω—É—Ç, 7.5 –º–∏–Ω—É—Ç, 10.4 –º–∏–Ω—É—Ç)

---

## 6. –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ò –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 6.1. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)

1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –≤ ExitAnalyzer**
   - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û –¥–ª—è trending —Ä–µ–∂–∏–º–∞
   - ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Å—Ç–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

2. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ä–∞—Å—á–µ—Ç –ª–∏–º–∏—Ç–Ω–æ–π —Ü–µ–Ω—ã –¥–ª—è ETH-USDT**
   - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ü—Ä–æ–≤–µ—Ä–∫–∞ `min_sell_price` –∏ `max_buy_price` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –í–°–ï–ì–î–ê
   - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –¶–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç—Å—è –¥–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è (0.1% –æ—Ç –ª–∏–º–∏—Ç–∞)

3. **–î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –≥—Ä–∞—Ñ–∏–∫–∞ –ø–µ—Ä–µ–¥ emergency close**
   - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `_check_reversal_signals()` –ø–µ—Ä–µ–¥ emergency close
   - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Smart Close –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
   - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ï—Å–ª–∏ Smart Close —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –¥–µ—Ä–∂–∞—Ç—å - –ø–æ–∑–∏—Ü–∏—è –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è

4. **–î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –≥—Ä–∞—Ñ–∏–∫–∞ –ø–µ—Ä–µ–¥ SL close**
   - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `_check_reversal_signals()` –ø–µ—Ä–µ–¥ SL close
   - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Smart Close –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
   - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ï—Å–ª–∏ Smart Close —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –¥–µ—Ä–∂–∞—Ç—å - –ø–æ–∑–∏—Ü–∏—è –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è

5. **–î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –≥—Ä–∞—Ñ–∏–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º –ø–æ –≤—Ä–µ–º–µ–Ω–∏**
   - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `_check_reversal_signals()` –∏ `_analyze_trend_strength()` –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º –ø–æ –≤—Ä–µ–º–µ–Ω–∏
   - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ - –∑–∞–∫—Ä—ã–≤–∞–µ–º
   - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ï—Å–ª–∏ —Ç—Ä–µ–Ω–¥ —Å–∏–ª—å–Ω—ã–π (>= 0.7) - –ø—Ä–æ–¥–ª–µ–≤–∞–µ–º –≤—Ä–µ–º—è

---

### 6.2. –£–ª—É—á—à–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –∑–∞–∫—Ä—ã—Ç–∏—è (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2)

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Smart Close –¥–ª—è –≤—Å–µ—Ö —É–±—ã—Ç–æ—á–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π**
   - –ó–∞–º–µ–Ω–∏—Ç—å emergency_loss_protection –Ω–∞ `_should_force_close_by_smart_analysis()`
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ 7 –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤

2. **–£–≤–µ–ª–∏—á–∏—Ç—å –ø–æ—Ä–æ–≥ emergency_loss_protection**
   - –¢–µ–∫—É—â–∏–π: -2.5% –¥–ª—è ranging
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π: -3.5% –¥–ª—è ranging (–¥–∞—Ç—å –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)

3. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ –ø–µ—Ä–µ–¥ –≤—Å–µ–º–∏ –∑–∞–∫—Ä—ã—Ç–∏—è–º–∏**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `_check_reversal_signals()` –ø–µ—Ä–µ–¥ –í–°–ï–ú–ò –∑–∞–∫—Ä—ã—Ç–∏—è–º–∏
   - –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ –≤ –Ω–∞—à—É –ø–æ–ª—å–∑—É - –ù–ï –∑–∞–∫—Ä—ã–≤–∞—Ç—å

---

### 6.3. –£–ª—É—á—à–µ–Ω–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3)

1. **–î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–∞ leverage**
   - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `[PARAMS_LEVERAGE]`
   - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫ (AdaptiveLeverage –∏–ª–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞)
   - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å, —Ä–µ–∂–∏–º, —Å–∏–ª–∞ —Å–∏–≥–Ω–∞–ª–∞

2. **–î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–∞ margin**
   - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `[PARAMS_MARGIN]`
   - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç: –±–∞–ª–∞–Ω—Å, –±–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä, leverage, –º–∞—Ä–∂–∞
   - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ñ–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á–µ—Ç–∞ –º–∞—Ä–∂–∏ (notional / leverage)

3. **–î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–∞ TP/SL**
   - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `[PARAMS_TP]` –∏ `[PARAMS_SL]`
   - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (ParameterProvider, symbol_profiles, by_regime, –≥–ª–æ–±–∞–ª—å–Ω—ã–π)
   - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è ATR-based —Ä–∞—Å—á–µ—Ç —Å per-symbol multipliers
   - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ TP/SL –ø–æ—Å–ª–µ –≤—Å–µ—Ö –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫

4. **–î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤**
   - ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ: –µ—Å—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ SignalGenerator
   - ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —É–ª—É—á—à–µ–Ω–∏–µ: –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ per-symbol –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

---

## 7. –í–´–í–û–î–´

### 7.1. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

1. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ç–∏–ø–æ–≤** –≤ ExitAnalyzer –¥–ª—è trending —Ä–µ–∂–∏–º–∞ (—Å—Ç—Ä–æ–∫–∞ 2666)
2. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ –±–∏—Ä–∂–∏** –¥–ª—è BUY –∏ SELL –æ—Ä–¥–µ—Ä–æ–≤ - —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –í–°–ï–ì–î–ê
3. ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω –∞–Ω–∞–ª–∏–∑ –≥—Ä–∞—Ñ–∏–∫–∞ –ø–µ—Ä–µ–¥ –≤—Å–µ–º–∏ –∑–∞–∫—Ä—ã—Ç–∏—è–º–∏**:
   - ‚úÖ Emergency close: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ + Smart Close
   - ‚úÖ SL close: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ + Smart Close
   - ‚úÖ –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ + –∞–Ω–∞–ª–∏–∑ —Å–∏–ª—ã —Ç—Ä–µ–Ω–¥–∞

### 7.2. –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–ó–∞–∫—Ä—ã—Ç–∏–µ –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤–æ—Ä–æ—Ç–æ–º** - –±–æ—Ç –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏–∏ —Å–ª–∏—à–∫–æ–º —Ä–∞–Ω–æ, –Ω–µ –¥–æ–∂–∏–¥–∞—è—Å—å —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞
2. **–ù–µ—Ç –∞–Ω–∞–ª–∏–∑–∞ –≥—Ä–∞—Ñ–∏–∫–∞** - –±–æ—Ç –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã –∞–Ω–∞–ª–∏–∑–∞ –≥—Ä–∞—Ñ–∏–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º
3. **–ù–µ–ø–æ–Ω—è—Ç–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** - –Ω–µ —è—Å–Ω–æ –∫–∞–∫ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã

### 7.3. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `_check_reversal_signals()` –ø–µ—Ä–µ–¥ –í–°–ï–ú–ò –∑–∞–∫—Ä—ã—Ç–∏—è–º–∏
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `_should_force_close_by_smart_analysis()` –¥–ª—è –≤—Å–µ—Ö —É–±—ã—Ç–æ—á–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π
3. –î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã
4. –í—ã–Ω–µ—Å—Ç–∏ per-symbol –∫–æ–Ω—Ñ–∏–≥–∏ –≤ `config.yaml`

---

**–°—Ç–∞—Ç—É—Å:** 
- ‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã (–æ—à–∏–±–∫–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ç–∏–ø–æ–≤, –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ –±–∏—Ä–∂–∏)
- ‚úÖ –õ–æ–≥–∏–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è —É–ª—É—á—à–µ–Ω–∞ (–¥–æ–±–∞–≤–ª–µ–Ω –∞–Ω–∞–ª–∏–∑ –≥—Ä–∞—Ñ–∏–∫–∞ –ø–µ—Ä–µ–¥ –≤—Å–µ–º–∏ –∑–∞–∫—Ä—ã—Ç–∏—è–º–∏)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —É–ª—É—á—à–µ–Ω–æ (–¥–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ leverage, margin, TP/SL –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã)

---

## 8. –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –í–ù–ï–°–ï–ù–´

### 8.1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –≤ ExitAnalyzer

**–§–∞–π–ª:** `src/strategies/scalping/futures/positions/exit_analyzer.py:2660-2676`

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è `max_holding_minutes` –≤ float –ø–µ—Ä–µ–¥ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º —Å `minutes_in_position`

**–ö–æ–¥:**
```python
# ‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï (04.01.2026): –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º max_holding_minutes –≤ float –ø–µ—Ä–µ–¥ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º
try:
    max_holding_minutes_float = (
        float(max_holding_minutes)
        if max_holding_minutes is not None
        else 120.0
    )
except (TypeError, ValueError):
    logger.warning(
        f"‚ö†Ô∏è ExitAnalyzer TRENDING: –ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å max_holding_minutes={max_holding_minutes} –≤ float, –∏—Å–ø–æ–ª—å–∑—É–µ–º 120.0"
    )
    max_holding_minutes_float = 120.0

if (
    minutes_in_position is not None
    and isinstance(minutes_in_position, (int, float))
    and float(minutes_in_position) >= max_holding_minutes_float
):
```

---

### 8.2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–∏–º–∏—Ç–æ–≤ –±–∏—Ä–∂–∏ –¥–ª—è SELL –æ—Ä–¥–µ—Ä–æ–≤

**–§–∞–π–ª:** `src/strategies/scalping/futures/order_executor.py:978-1007`

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ `min_sell_price` —Ç–µ–ø–µ—Ä—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –í–°–ï–ì–î–ê, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è `use_best_bid` –∏ `best_bid`

**–ö–æ–¥:**
```python
# ‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï (04.01.2026): –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–∏–º–∏—Ç –±–∏—Ä–∂–∏ min_sell_price –í–°–ï–ì–î–ê
if min_sell_price > 0:
    if limit_price < min_sell_price:
        logger.warning(
            f"‚ö†Ô∏è –õ–∏–º–∏—Ç–Ω–∞—è —Ü–µ–Ω–∞ –¥–ª—è {symbol} SELL ({limit_price:.2f}) –Ω–∏–∂–µ –ª–∏–º–∏—Ç–∞ –±–∏—Ä–∂–∏ ({min_sell_price:.2f}), "
            f"–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º –¥–æ {min_sell_price * 1.001:.2f} (0.1% –≤—ã—à–µ –ª–∏–º–∏—Ç–∞ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)"
        )
        limit_price = min_sell_price * 1.001
```

---

### 8.3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–∏–º–∏—Ç–æ–≤ –±–∏—Ä–∂–∏ –¥–ª—è BUY –æ—Ä–¥–µ—Ä–æ–≤

**–§–∞–π–ª:** `src/strategies/scalping/futures/order_executor.py:859-870`

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ `max_buy_price` —Ç–µ–ø–µ—Ä—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –í–°–ï–ì–î–ê —Å –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–æ–π –Ω–∞ 0.1% –Ω–∏–∂–µ –ª–∏–º–∏—Ç–∞

**–ö–æ–¥:**
```python
# ‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï (04.01.2026): –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–∏–º–∏—Ç –±–∏—Ä–∂–∏ max_buy_price –í–°–ï–ì–î–ê
if max_buy_price > 0:
    if limit_price > max_buy_price:
        logger.warning(
            f"‚ö†Ô∏è –õ–∏–º–∏—Ç–Ω–∞—è —Ü–µ–Ω–∞ –¥–ª—è {symbol} BUY ({limit_price:.2f}) –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç –±–∏—Ä–∂–∏ ({max_buy_price:.2f}), "
            f"–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º –¥–æ {max_buy_price * 0.999:.2f} (0.1% –Ω–∏–∂–µ –ª–∏–º–∏—Ç–∞ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)"
        )
        limit_price = max_buy_price * 0.999
```

---

## 9. –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### 9.1. –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)

1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –≤ ExitAnalyzer - –í–´–ü–û–õ–ù–ï–ù–û
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ª–∏–º–∏—Ç–æ–≤ –±–∏—Ä–∂–∏ - –í–´–ü–û–õ–ù–ï–ù–û
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –≥—Ä–∞—Ñ–∏–∫–∞ –ø–µ—Ä–µ–¥ emergency close - –í–´–ü–û–õ–ù–ï–ù–û
4. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –≥—Ä–∞—Ñ–∏–∫–∞ –ø–µ—Ä–µ–¥ SL close - –í–´–ü–û–õ–ù–ï–ù–û
5. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –≥—Ä–∞—Ñ–∏–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º –ø–æ –≤—Ä–µ–º–µ–Ω–∏ - –í–´–ü–û–õ–ù–ï–ù–û

### 9.2. –£–ª—É—á—à–µ–Ω–∏—è (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2)

1. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Smart Close –¥–ª—è –≤—Å–µ—Ö —É–±—ã—Ç–æ—á–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π - –í–´–ü–û–õ–ù–ï–ù–û (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ emergency –∏ SL close)
2. ‚ö†Ô∏è –£–≤–µ–ª–∏—á–∏—Ç—å –ø–æ—Ä–æ–≥ emergency_loss_protection - –¢–†–ï–ë–£–ï–¢ –†–ï–®–ï–ù–ò–Ø (—Ç–µ–∫—É—â–∏–π -2.5% –¥–ª—è ranging, –º–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ -3.5%)
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã - –í–´–ü–û–õ–ù–ï–ù–û (leverage, margin, TP/SL)

### 9.3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3)

1. ‚ö†Ô∏è –í—ã–Ω–µ—Å—Ç–∏ per-symbol multipliers –¥–ª—è TP/SL –≤ –∫–æ–Ω—Ñ–∏–≥ (—Å–µ–π—á–∞—Å –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã –≤ –∫–æ–¥–µ)
2. ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ –¥–ª—è choppy —Ä–µ–∂–∏–º–∞ –ø–µ—Ä–µ–¥ emergency close - –í–´–ü–û–õ–ù–ï–ù–û

---

## 10. –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –í–ù–ï–°–ï–ù–´ (04.01.2026)

### 10.1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –∑–∞–∫—Ä—ã—Ç–∏—è —Å –∞–Ω–∞–ª–∏–∑–æ–º –≥—Ä–∞—Ñ–∏–∫–∞

**–§–∞–π–ª:** `src/strategies/scalping/futures/positions/exit_analyzer.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

1. **Emergency Loss Protection (ranging —Ä–µ–∂–∏–º, —Å—Ç—Ä–æ–∫–∏ 2982-3030)**
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `_check_reversal_signals()` –ø–µ—Ä–µ–¥ emergency close
   - ‚úÖ –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `_should_force_close_by_smart_analysis()` –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
   - ‚úÖ –ï—Å–ª–∏ Smart Close —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –¥–µ—Ä–∂–∞—Ç—å - –ø–æ–∑–∏—Ü–∏—è –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è

2. **Emergency Loss Protection (trending —Ä–µ–∂–∏–º, —Å—Ç—Ä–æ–∫–∏ 2230-2254)**
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `_check_reversal_signals()` –ø–µ—Ä–µ–¥ emergency close
   - ‚úÖ –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Smart Close –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

3. **SL Close (ranging —Ä–µ–∂–∏–º, —Å—Ç—Ä–æ–∫–∏ 3206-3270)**
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `_check_reversal_signals()` –ø–µ—Ä–µ–¥ SL close
   - ‚úÖ –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Smart Close –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

4. **SL Close (trending —Ä–µ–∂–∏–º, —Å—Ç—Ä–æ–∫–∏ 2502-2580)**
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `_check_reversal_signals()` –ø–µ—Ä–µ–¥ SL close
   - ‚úÖ –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Smart Close –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

5. **–ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (ranging —Ä–µ–∂–∏–º, —Å—Ç—Ä–æ–∫–∏ 3885-4020)**
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `_check_reversal_signals()` –∏ `_analyze_trend_strength()` –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º –ø–æ –≤—Ä–µ–º–µ–Ω–∏
   - ‚úÖ –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ - –∑–∞–∫—Ä—ã–≤–∞–µ–º
   - ‚úÖ –ï—Å–ª–∏ —Ç—Ä–µ–Ω–¥ —Å–∏–ª—å–Ω—ã–π (>= 0.7) - –ø—Ä–æ–¥–ª–µ–≤–∞–µ–º –≤—Ä–µ–º—è

6. **–ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (trending —Ä–µ–∂–∏–º, —Å—Ç—Ä–æ–∫–∏ 2798-2808)**
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `_check_reversal_signals()` –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º –ø–æ –≤—Ä–µ–º–µ–Ω–∏
   - ‚úÖ –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ - –∑–∞–∫—Ä—ã–≤–∞–µ–º

---

### 10.2. –£–ª—É—á—à–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–§–∞–π–ª—ã:**
- `src/strategies/scalping/futures/positions/exit_analyzer.py` (TP/SL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
- `src/strategies/scalping/futures/coordinators/signal_coordinator.py` (leverage)
- `src/strategies/scalping/futures/risk_manager.py` (margin)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

1. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ TP –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (—Å—Ç—Ä–æ–∫–∏ 956-962)**
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `[PARAMS_TP]`
   - ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è ATR-based —Ä–∞—Å—á–µ—Ç —Å per-symbol multipliers
   - ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ TP –ø–æ—Å–ª–µ –≤—Å–µ—Ö –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫

2. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ SL –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (—Å—Ç—Ä–æ–∫–∏ 1209-1214)**
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `[PARAMS_SL]`
   - ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è ATR-based —Ä–∞—Å—á–µ—Ç
   - ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ SL –ø–æ—Å–ª–µ –≤—Å–µ—Ö –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫

3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ leverage (—Å—Ç—Ä–æ–∫–∏ 2313-2316, 2354-2356)**
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `[PARAMS_LEVERAGE]`
   - ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫ (AdaptiveLeverage –∏–ª–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
   - ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å, —Ä–µ–∂–∏–º, —Å–∏–ª–∞ —Å–∏–≥–Ω–∞–ª–∞

4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ margin (—Å—Ç—Ä–æ–∫–∏ 1195-1210)**
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `[PARAMS_MARGIN]`
   - ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç: –±–∞–ª–∞–Ω—Å, –±–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä, leverage, –º–∞—Ä–∂–∞
   - ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ñ–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á–µ—Ç–∞ –º–∞—Ä–∂–∏ (notional / leverage)

---

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∞–ª–∏–∑–∞:** 2026-01-04  
**–í–µ—Ä—Å–∏—è –æ—Ç—á–µ—Ç–∞:** 2.0  
**–°—Ç–∞—Ç—É—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:** ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–Ω–µ—Å–µ–Ω—ã

---

## 11. –ò–¢–û–ì–û–í–ê–Ø –°–í–û–î–ö–ê –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

1. **–û—à–∏–±–∫–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –≤ ExitAnalyzer** - –ò–°–ü–†–ê–í–õ–ï–ù–û
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è `max_holding_minutes` –≤ float –ø–µ—Ä–µ–¥ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º –¥–ª—è trending —Ä–µ–∂–∏–º–∞

2. **–û—à–∏–±–∫–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–∞ ETH-USDT** - –ò–°–ü–†–ê–í–õ–ï–ù–û
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ –±–∏—Ä–∂–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –í–°–ï–ì–î–ê –¥–ª—è BUY –∏ SELL –æ—Ä–¥–µ—Ä–æ–≤
   - –¶–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç—Å—è –¥–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è (0.1% –æ—Ç –ª–∏–º–∏—Ç–∞)

3. **–õ–æ–≥–∏–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –±–µ–∑ –∞–Ω–∞–ª–∏–∑–∞ –≥—Ä–∞—Ñ–∏–∫–∞** - –ò–°–ü–†–ê–í–õ–ï–ù–û
   - ‚úÖ Emergency close: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ + Smart Close (ranging, trending, choppy)
   - ‚úÖ SL close: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ + Smart Close (ranging, trending)
   - ‚úÖ –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞ + –∞–Ω–∞–ª–∏–∑ —Å–∏–ª—ã —Ç—Ä–µ–Ω–¥–∞ (ranging, trending)

4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** - –£–õ–£–ß–®–ï–ù–û
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ leverage —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `[PARAMS_LEVERAGE]`
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ margin —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `[PARAMS_MARGIN]`
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ TP —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `[PARAMS_TP]` (–≤–∫–ª—é—á–∞—è per-symbol multipliers)
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ SL —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `[PARAMS_SL]`

### ‚ö†Ô∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è:

1. **–£–≤–µ–ª–∏—á–∏—Ç—å –ø–æ—Ä–æ–≥ emergency_loss_protection**
   - –¢–µ–∫—É—â–∏–π: -2.5% –¥–ª—è ranging, -4.0% –¥–ª—è trending, -2.0% –¥–ª—è choppy
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π: -3.5% –¥–ª—è ranging (–¥–∞—Ç—å –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)

2. **–í—ã–Ω–µ—Å—Ç–∏ per-symbol multipliers –≤ –∫–æ–Ω—Ñ–∏–≥**
   - –°–µ–π—á–∞—Å multipliers –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã –≤ –∫–æ–¥–µ (—Å—Ç—Ä–æ–∫–∏ 942-948 –≤ exit_analyzer.py)
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤—ã–Ω–µ—Å—Ç–∏ –≤ `config.yaml` –¥–ª—è –ª–µ–≥–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

3. **–î–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤**
   - –£–ª—É—á—à–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ per-symbol –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è RSI, EMA, MACD –∏ –¥—Ä—É–≥–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤

---

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:** 2026-01-04  
**–í—Å–µ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:** 9  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–Ω–µ—Å–µ–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
