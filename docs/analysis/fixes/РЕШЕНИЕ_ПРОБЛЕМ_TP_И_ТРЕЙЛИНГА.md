# üéØ –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú TP –ò –¢–†–ï–ô–õ–ò–ù–ì –°–¢–û–ü-–õ–û–°–°

## üìã –ü–†–û–ë–õ–ï–ú–´

1. **‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π entry price –≤ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å**
   - Entry price —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –¥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏ (—Ü–µ–Ω–∞ —Å–∏–≥–Ω–∞–ª–∞)
   - –†–µ–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –≤—Ö–æ–¥–∞ –Ω–∞ –±–∏—Ä–∂–µ (avgPx) –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è
   - –†–µ—à–µ–Ω–∏–µ: —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å entry price –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏

2. **‚ùå –ö–æ–Ω—Ñ–ª–∏–∫—Ç –º–µ–∂–¥—É TP –∏ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å**
   - TP —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–∞–Ω—å—à–µ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å
   - –¢—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –Ω–µ —É—Å–ø–µ–≤–∞–µ—Ç —Å—Ä–∞–±–æ—Ç–∞—Ç—å
   - –†–µ—à–µ–Ω–∏–µ: TP –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã—à–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏—Ç–∞ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å, –∏ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

3. **‚ùå TP –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∏—Å—Å–∏—é**
   - TP —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ —É—á–µ—Ç–∞ –∫–æ–º–∏—Å—Å–∏–∏ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–∞ –±–∏—Ä–∂–µ —É–±—ã—Ç–æ–∫, —Ö–æ—Ç—è –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∏–±—ã–ª—å
   - –†–µ—à–µ–Ω–∏–µ: —É—á–∏—Ç—ã–≤–∞—Ç—å –∫–æ–º–∏—Å—Å–∏—é –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ TP

---

## ‚úÖ –†–ï–®–ï–ù–ò–Ø

### 1. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è entry price –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏

**–õ–æ–≥–∏–∫–∞:**
- –ü–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏ –ø–æ–ª—É—á–∞–µ–º —Ä–µ–∞–ª—å–Ω—É—é —Ü–µ–Ω—É –≤—Ö–æ–¥–∞ (avgPx) —Å –±–∏—Ä–∂–∏
- –û–±–Ω–æ–≤–ª—è–µ–º entry price –≤ trailing stop loss
- –ü–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º trailing stop loss —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ü–µ–Ω–æ–π

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
# –ü–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏ (–≤ _execute_signal_from_price)
# –ü–æ–ª—É—á–∞–µ–º —Ä–µ–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é —Å –±–∏—Ä–∂–∏
positions = await self.client.get_positions()
for pos in positions:
    if pos.get("instId") == inst_id and abs(float(pos.get("pos", "0"))) > 0:
        real_entry_price = float(pos.get("avgPx", "0"))
        if real_entry_price > 0:
            # –û–±–Ω–æ–≤–ª—è–µ–º entry price –≤ –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏
            self.active_positions[symbol]["entry_price"] = real_entry_price
            # –ü–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º trailing stop loss —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ü–µ–Ω–æ–π
            if symbol in self.trailing_sl_by_symbol:
                tsl = self.trailing_sl_by_symbol[symbol]
                tsl.initialize(real_entry_price, side)
                logger.info(f"‚úÖ Entry price —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è {symbol}: {real_entry_price}")
```

### 2. –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã TP –∏ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:**
1. **–¢—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å** - –¥–ª—è –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
2. **TP** - —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω –∏–ª–∏ –ø–æ–∑–∏—Ü–∏—è –≤ —É–±—ã—Ç–∫–µ
3. **Loss cut** - –¥–ª—è —É–±—ã—Ç–æ—á–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π (–∂–µ—Å—Ç–∫–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ)

**–õ–æ–≥–∏–∫–∞:**
- –ï—Å–ª–∏ –ø–æ–∑–∏—Ü–∏—è –≤ –ø—Ä–∏–±—ã–ª–∏ –∏ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –∞–∫—Ç–∏–≤–µ–Ω (–¥–æ—Å—Ç–∏–≥ min_profit_to_close), —Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–ª—å–∫–æ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å (TP –æ—Ç–∫–ª—é—á–µ–Ω)
- –ï—Å–ª–∏ –ø–æ–∑–∏—Ü–∏—è –≤ –ø—Ä–∏–±—ã–ª–∏, –Ω–æ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –µ—â–µ –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω (–Ω–µ –¥–æ—Å—Ç–∏–≥ min_profit_to_close), —Ç–æ TP –º–æ–∂–µ—Ç —Å—Ä–∞–±–æ—Ç–∞—Ç—å
- –ï—Å–ª–∏ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å —Å—Ä–∞–±–æ—Ç–∞–ª, —Ç–æ –ø–æ–∑–∏—Ü–∏—è –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å (TP —É–∂–µ –Ω–µ –Ω—É–∂–µ–Ω)
- –ï—Å–ª–∏ –ø–æ–∑–∏—Ü–∏—è –≤ —É–±—ã—Ç–∫–µ, —Ç–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è loss cut –∏–ª–∏ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –¥–ª—è —É–±—ã—Ç–æ—á–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
# –í _check_tp_only
# 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∞–∫—Ç–∏–≤–µ–Ω –ª–∏ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å
if symbol in self.trailing_sl_by_symbol:
    tsl = self.trailing_sl_by_symbol[symbol]
    profit_pct_net = tsl.get_profit_pct(current_price, include_fees=True)
    min_profit_to_close = tsl.min_profit_to_close
    
    # –ï—Å–ª–∏ –ø–æ–∑–∏—Ü–∏—è –≤ –ø—Ä–∏–±—ã–ª–∏ –∏ –¥–æ—Å—Ç–∏–≥ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏—Ç–∞ –¥–ª—è —Ç—Ä–µ–π–ª–∏–Ω–≥–∞
    if profit_pct_net > 0 and min_profit_to_close and profit_pct_net >= min_profit_to_close:
        # –¢—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –∞–∫—Ç–∏–≤–µ–Ω - TP –æ—Ç–∫–ª—é—á–µ–Ω (—Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
        logger.debug(f"üìä {symbol} —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –∞–∫—Ç–∏–≤–µ–Ω (profit={profit_pct_net:.2%} >= {min_profit_to_close:.2%}), TP –æ—Ç–∫–ª—é—á–µ–Ω")
        return  # –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º TP, —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
    
    # –ï—Å–ª–∏ –ø–æ–∑–∏—Ü–∏—è –≤ –ø—Ä–∏–±—ã–ª–∏, –Ω–æ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –µ—â–µ –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω
    elif profit_pct_net > 0 and min_profit_to_close and profit_pct_net < min_profit_to_close:
        # TP –º–æ–∂–µ—Ç —Å—Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã—à–µ min_profit_to_close + –∫–æ–º–∏—Å—Å–∏—è
        tp_percent_with_commission = tp_percent + (commission_rate * 100)
        min_tp_percent = min_profit_to_close * 100 + (commission_rate * 100) + 0.1  # +0.1% –∑–∞–ø–∞—Å
        if tp_percent < min_tp_percent:
            # TP —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∏–π - –ø–æ–¥–Ω–∏–º–∞–µ–º –¥–æ –º–∏–Ω–∏–º—É–º–∞
            tp_percent = min_tp_percent
            logger.debug(f"üìä {symbol} TP –ø–æ–¥–Ω—è—Ç –¥–æ {tp_percent:.2f}% (–º–∏–Ω–∏–º—É–º –¥–ª—è —Ç—Ä–µ–π–ª–∏–Ω–≥–∞: {min_tp_percent:.2f}%)")

# 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º TP (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω)
if pnl_percent >= tp_percent:
    # –£—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–º–∏—Å—Å–∏—é –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏
    commission_rate = 0.0009  # 0.09% –Ω–∞ –∫—Ä—É–≥
    net_pnl_percent = pnl_percent - (commission_rate * 100)
    if net_pnl_percent > 0:
        logger.info(f"üéØ TP –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –¥–ª—è {symbol}: {pnl_percent:.2f}% (net: {net_pnl_percent:.2f}% –ø–æ—Å–ª–µ –∫–æ–º–∏—Å—Å–∏–∏)")
        await self._close_position_by_reason(position, "tp")
        return
```

### 3. –£—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏ –≤ TP

**–õ–æ–≥–∏–∫–∞:**
- –ü—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ TP —É—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–º–∏—Å—Å–∏—é –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ (0.09% –Ω–∞ –∫—Ä—É–≥)
- TP –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—ã—Å–æ–∫–∏–º, —á—Ç–æ–±—ã –ø–æ–∫—Ä—ã—Ç—å –∫–æ–º–∏—Å—Å–∏—é –∏ –¥–∞—Ç—å –ø—Ä–∏–±—ã–ª—å

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
# –í _check_tp_only
commission_rate = 0.0009  # 0.09% –Ω–∞ –∫—Ä—É–≥ (0.045% –≤—Ö–æ–¥ + 0.045% –≤—ã—Ö–æ–¥)

# –£—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–º–∏—Å—Å–∏—é –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ TP
tp_percent_with_commission = tp_percent + (commission_rate * 100)

# –ï—Å–ª–∏ –ø–æ–∑–∏—Ü–∏—è –≤ –ø—Ä–∏–±—ã–ª–∏, –ø—Ä–æ–≤–µ—Ä—è–µ–º net PnL (–ø–æ—Å–ª–µ –∫–æ–º–∏—Å—Å–∏–∏)
if pnl_percent >= tp_percent_with_commission:
    net_pnl_percent = pnl_percent - (commission_rate * 100)
    if net_pnl_percent > 0:
        logger.info(f"üéØ TP –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –¥–ª—è {symbol}: {pnl_percent:.2f}% (net: {net_pnl_percent:.2f}% –ø–æ—Å–ª–µ –∫–æ–º–∏—Å—Å–∏–∏)")
        await self._close_position_by_reason(position, "tp")
        return
```

---

## üéØ –ò–¢–û–ì–û–í–ê–Ø –õ–û–ì–ò–ö–ê

### –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏:

1. **–¢—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–ª—è –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π)**
   - –ï—Å–ª–∏ –ø–æ–∑–∏—Ü–∏—è –≤ –ø—Ä–∏–±—ã–ª–∏ –∏ –¥–æ—Å—Ç–∏–≥ min_profit_to_close ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–ª—å–∫–æ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å (TP –æ—Ç–∫–ª—é—á–µ–Ω)
   - –ï—Å–ª–∏ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å —Å—Ä–∞–±–æ—Ç–∞–ª ‚Üí –∑–∞–∫—Ä—ã–≤–∞–µ–º –ø–æ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å

2. **TP (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω)**
   - –ï—Å–ª–∏ –ø–æ–∑–∏—Ü–∏—è –≤ –ø—Ä–∏–±—ã–ª–∏, –Ω–æ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –µ—â–µ –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ–º TP
   - TP –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã—à–µ min_profit_to_close + –∫–æ–º–∏—Å—Å–∏—è
   - –£—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–º–∏—Å—Å–∏—é –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏

3. **Loss cut (–¥–ª—è —É–±—ã—Ç–æ—á–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π)**
   - –ï—Å–ª–∏ –ø–æ–∑–∏—Ü–∏—è –≤ —É–±—ã—Ç–∫–µ ‚Üí –ø—Ä–∏–º–µ–Ω—è–µ–º loss cut –∏–ª–∏ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –¥–ª—è —É–±—ã—Ç–æ—á–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π

### –§–æ—Ä–º—É–ª–∞ TP:

```
TP_min = min_profit_to_close + commission_rate + buffer (0.1%)
TP = max(TP_config, TP_min)
```

**–ü—Ä–∏–º–µ—Ä:**
- min_profit_to_close = 0.5% (–∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞)
- commission_rate = 0.09% (–Ω–∞ –∫—Ä—É–≥)
- buffer = 0.1% (–∑–∞–ø–∞—Å)
- TP_min = 0.5% + 0.09% + 0.1% = 0.69%
- TP_config = 1.0% (–∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞)
- TP = max(1.0%, 0.69%) = 1.0% ‚úÖ

---

## üìã –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

1. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è entry price** (–∫—Ä–∏—Ç–∏—á–Ω–æ)
   - –ü–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏ –ø–æ–ª—É—á–∞–µ–º avgPx —Å –±–∏—Ä–∂–∏
   - –û–±–Ω–æ–≤–ª—è–µ–º entry price –≤ active_positions
   - –ü–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º trailing stop loss

2. **–õ–æ–≥–∏–∫–∞ TP vs —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å** (–∫—Ä–∏—Ç–∏—á–Ω–æ)
   - –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∞–∫—Ç–∏–≤–µ–Ω –ª–∏ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å (–¥–æ—Å—Ç–∏–≥ min_profit_to_close)
   - –ï—Å–ª–∏ –∞–∫—Ç–∏–≤–µ–Ω ‚Üí TP –æ—Ç–∫–ª—é—á–µ–Ω (—Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
   - –ï—Å–ª–∏ –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω ‚Üí TP –º–æ–∂–µ—Ç —Å—Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã—à–µ –º–∏–Ω–∏–º—É–º–∞

3. **–£—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏ –≤ TP** (–≤–∞–∂–Ω–æ)
   - –ü—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ TP —É—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–º–∏—Å—Å–∏—é –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏
   - TP –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—ã—Å–æ–∫–∏–º, —á—Ç–æ–±—ã –ø–æ–∫—Ä—ã—Ç—å –∫–æ–º–∏—Å—Å–∏—é

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤** (–≤–∞–∂–Ω–æ)
   - –¢—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤ _update_trailing_stop_loss
   - TP –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤ _check_tp_only
   - –ü–æ—Ä—è–¥–æ–∫: —Å–Ω–∞—á–∞–ª–∞ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å, –ø–æ—Ç–æ–º TP

---

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
1. ‚úÖ Entry price –±—É–¥–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –±–∏—Ä–∂–µ–π)
2. ‚úÖ –¢—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –±—É–¥–µ—Ç –∏–º–µ—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ TP –¥–ª—è –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π
3. ‚úÖ TP –±—É–¥–µ—Ç –≤—ã—à–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏—Ç–∞ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å
4. ‚úÖ –ö–æ–º–∏—Å—Å–∏—è –±—É–¥–µ—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ TP
5. ‚úÖ –ö–æ–Ω—Ñ–ª–∏–∫—Ç –º–µ–∂–¥—É TP –∏ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å –±—É–¥–µ—Ç —Ä–µ—à–µ–Ω

