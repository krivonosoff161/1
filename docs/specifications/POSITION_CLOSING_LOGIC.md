# üéØ –õ–û–ì–ò–ö–ê –ó–ê–ö–†–´–¢–ò–Ø –ü–û–ó–ò–¶–ò–ô: –ü–û–õ–ù–û–ï –û–ë–™–Ø–°–ù–ï–ù–ò–ï

**–î–∞—Ç–∞:** 2025-12-07  
**–í–æ–ø—Ä–æ—Å:** –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –º–µ—Ö–∞–Ω–∏–∑–º—ã –∑–∞–∫—Ä—ã—Ç–∏—è —É–±—ã—Ç–æ—á–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è max_holding_exceeded?

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û–ï –£–¢–û–ß–ù–ï–ù–ò–ï

**max_holding_exceeded** - —ç—Ç–æ —Ç–æ–ª—å–∫–æ **–û–î–ò–ù** –∏–∑ –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π!

–Ø –∏—Å–ø—Ä–∞–≤–∏–ª –µ–≥–æ, —á—Ç–æ–±—ã –æ–Ω **–ù–ï –∑–∞–∫—Ä—ã–≤–∞–ª —É–±—ã—Ç–æ—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏**, –Ω–æ —ç—Ç–æ **–ù–ï –∑–Ω–∞—á–∏—Ç**, —á—Ç–æ —É–±—ã—Ç–æ—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –±—É–¥—É—Ç –¥–µ—Ä–∂–∞—Ç—å—Å—è –≤–µ—á–Ω–æ!

---

## üõ°Ô∏è –ú–ï–•–ê–ù–ò–ó–ú–´ –ó–ê–ö–†–´–¢–ò–Ø –£–ë–´–¢–û–ß–ù–´–• –ü–û–ó–ò–¶–ò–ô

### 1. **Loss Cut (loss_cut_percent)** ‚úÖ **–ó–ê–ö–†–´–í–ê–ï–¢ –£–ë–´–¢–û–ß–ù–´–ï**

**–ß—Ç–æ —ç—Ç–æ:**
- –ñ–µ—Å—Ç–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —É–±—ã—Ç–∫–∞
- –†–∞–±–æ—Ç–∞–µ—Ç **–ù–ï–ó–ê–í–ò–°–ò–ú–û** –æ—Ç max_holding

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã (–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø–æ —Ä–µ–∂–∏–º–∞–º):**
- **Trending:** `loss_cut_percent: 2.0%` (–æ—Ç –º–∞—Ä–∂–∏)
- **Ranging:** `loss_cut_percent: 4.0%` (–æ—Ç –º–∞—Ä–∂–∏)
- **Choppy:** `loss_cut_percent: 1.2%` (–æ—Ç –º–∞—Ä–∂–∏)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```python
# –ï—Å–ª–∏ —É–±—ã—Ç–æ–∫ >= loss_cut_percent –æ—Ç –º–∞—Ä–∂–∏
if profit_pct <= -loss_cut_from_price:
    # –ó–∞–∫—Ä—ã–≤–∞–µ–º –ù–ï–ó–ê–í–ò–°–ò–ú–û –æ—Ç MIN_HOLDING –∏ max_holding
    return True, "loss_cut"
```

**–ü—Ä–∏–º–µ—Ä:**
- –ü–æ–∑–∏—Ü–∏—è –≤ —É–±—ã—Ç–∫–µ -2.0% (trending —Ä–µ–∂–∏–º)
- **–ó–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É** –ø–æ loss_cut (–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤—Ä–µ–º–µ–Ω–∏)

---

### 2. **Timeout (timeout_minutes)** ‚úÖ **–ó–ê–ö–†–´–í–ê–ï–¢ –í–°–ï –ü–û–ó–ò–¶–ò–ò**

**–ß—Ç–æ —ç—Ç–æ:**
- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ **–í–°–ï–•** –ø–æ–∑–∏—Ü–∏–π –ø–æ—Å–ª–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- –†–∞–±–æ—Ç–∞–µ—Ç **–ù–ï–ó–ê–í–ò–°–ò–ú–û** –æ—Ç –ø—Ä–∏–±—ã–ª–∏/—É–±—ã—Ç–∫–∞

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã (–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø–æ —Ä–µ–∂–∏–º–∞–º):**
- **Trending:** `timeout_minutes: 7`
- **Ranging:** `timeout_minutes: 120`
- **Choppy:** `timeout_minutes: 3`

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```python
# –ï—Å–ª–∏ –≤—Ä–µ–º—è >= timeout_minutes - –∑–∞–∫—Ä—ã–≤–∞–µ–º –í–°–ï –ø–æ–∑–∏—Ü–∏–∏
if time_held >= timeout_minutes:
    # –ó–∞–∫—Ä—ã–≤–∞–µ–º –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ (–ª—é–±—ã–µ –ø–æ–∑–∏—Ü–∏–∏)
    await self._close_position(symbol, "timeout")
```

**–ü—Ä–∏–º–µ—Ä:**
- –ü–æ–∑–∏—Ü–∏—è –¥–µ—Ä–∂–∏—Ç—Å—è 7 –º–∏–Ω—É—Ç (trending)
- **–ó–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ** –ø–æ timeout (–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç PnL)

---

### 2.1. **Timeout Loss (timeout_loss_percent)** ‚úÖ **–ó–ê–ö–†–´–í–ê–ï–¢ –£–ë–´–¢–û–ß–ù–´–ï**

**–ß—Ç–æ —ç—Ç–æ:**
- –ó–∞–∫—Ä—ã—Ç–∏–µ —É–±—ã—Ç–æ—á–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π –ø–æ—Å–ª–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (timeout_minutes)
- –†–∞–±–æ—Ç–∞–µ—Ç **–í TRAILING STOP LOSS** –ø–æ—Å–ª–µ —Ç–∞–π–º–∞—É—Ç–∞, –µ—Å–ª–∏ –ø–æ–∑–∏—Ü–∏—è –≤—Å–µ –µ—â–µ –≤ —É–±—ã—Ç–∫–µ

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã (–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø–æ —Ä–µ–∂–∏–º–∞–º):**
- **Trending:** `timeout_minutes: 7`, `timeout_loss_percent: 1.5%`
- **Ranging:** `timeout_minutes: 120`, `timeout_loss_percent: 2.0%`
- **Choppy:** `timeout_minutes: 3`, `timeout_loss_percent: 0.8%`

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```python
# –ï—Å–ª–∏ –≤—Ä–µ–º—è >= timeout_minutes –ò –ø–æ–∑–∏—Ü–∏—è –≤ —É–±—ã—Ç–∫–µ >= timeout_loss_percent
if time_held >= timeout_minutes and profit_pct <= -timeout_loss_from_price:
    # –ó–∞–∫—Ä—ã–≤–∞–µ–º —É–±—ã—Ç–æ—á–Ω—É—é –ø–æ–∑–∏—Ü–∏—é
    return True, "timeout"
```

**–ü—Ä–∏–º–µ—Ä:**
- –ü–æ–∑–∏—Ü–∏—è –¥–µ—Ä–∂–∏—Ç—Å—è 7 –º–∏–Ω—É—Ç (trending)
- –ü–æ–∑–∏—Ü–∏—è –≤ —É–±—ã—Ç–∫–µ -1.5%
- **–ó–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è** –ø–æ timeout_loss –≤ TSL

---

### 3. **Trailing Stop Loss (TSL)** ‚úÖ **–ó–ê–ö–†–´–í–ê–ï–¢ –£–ë–´–¢–û–ß–ù–´–ï**

**–ß—Ç–æ —ç—Ç–æ:**
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Å—Ç–æ–ø-–ª–æ—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –¥–≤–∏–∂–µ—Ç—Å—è —Å —Ü–µ–Ω–æ–π
- –ó–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Å—Ç–æ–ø-–ª–æ—Å—Å–∞

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –î–ª—è LONG: —Å—Ç–æ–ø-–ª–æ—Å—Å –¥–≤–∏–∂–µ—Ç—Å—è –≤–≤–µ—Ä—Ö —Å —Ü–µ–Ω–æ–π
- –î–ª—è SHORT: —Å—Ç–æ–ø-–ª–æ—Å—Å –¥–≤–∏–∂–µ—Ç—Å—è –≤–Ω–∏–∑ —Å —Ü–µ–Ω–æ–π
- –ï—Å–ª–∏ —Ü–µ–Ω–∞ –ø—Ä–æ–±–∏–≤–∞–µ—Ç —Å—Ç–æ–ø-–ª–æ—Å—Å ‚Üí **–∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è**

**–ü—Ä–∏–º–µ—Ä:**
- LONG –ø–æ–∑–∏—Ü–∏—è, entry_price = $100
- –¶–µ–Ω–∞ –≤—ã—Ä–æ—Å–ª–∞ –¥–æ $105, —Å—Ç–æ–ø-–ª–æ—Å—Å = $103
- –¶–µ–Ω–∞ —É–ø–∞–ª–∞ –¥–æ $102.5 ‚Üí **–∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è** –ø–æ trailing stop

---

### 4. **Stop Loss (sl_percent)** ‚úÖ **–ó–ê–ö–†–´–í–ê–ï–¢ –£–ë–´–¢–û–ß–ù–´–ï**

**–ß—Ç–æ —ç—Ç–æ:**
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—Ç–æ–ø-–ª–æ—Å—Å –æ—Ç —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞
- –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ min_holding_minutes

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã (–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø–æ —Ä–µ–∂–∏–º–∞–º –∏ —Å–∏–º–≤–æ–ª–∞–º):**
- **Trending:** `sl_percent: 1.5%`
- **Ranging:** `sl_percent: 2.0%`
- **Choppy:** `sl_percent: 1.0%`

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```python
# –ï—Å–ª–∏ –ø–æ–∑–∏—Ü–∏—è –≤ —É–±—ã—Ç–∫–µ >= sl_percent –ò –ø—Ä–æ—à–ª–æ min_holding_minutes
if profit_pct <= -sl_percent and minutes_in_position >= min_holding_minutes:
    # –ó–∞–∫—Ä—ã–≤–∞–µ–º –ø–æ —Å—Ç–æ–ø-–ª–æ—Å—Å—É
    return True, "stop_loss"
```

**–ü—Ä–∏–º–µ—Ä:**
- LONG –ø–æ–∑–∏—Ü–∏—è, entry_price = $100, sl_percent = 1.5%
- –¶–µ–Ω–∞ —É–ø–∞–ª–∞ –¥–æ $98.5 ‚Üí **–∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è** –ø–æ stop loss

---

### 5. **Emergency Stop** ‚úÖ **–ó–ê–ö–†–´–í–ê–ï–¢ –í–°–ï –ü–û–ó–ò–¶–ò–ò**

**–ß—Ç–æ —ç—Ç–æ:**
- –ê–≤–∞—Ä–∏–π–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–º drawdown
- –ó–∞–∫—Ä—ã–≤–∞–µ—Ç **–í–°–ï** –ø–æ–∑–∏—Ü–∏–∏, –≤–∫–ª—é—á–∞—è —É–±—ã—Ç–æ—á–Ω—ã–µ

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ï—Å–ª–∏ drawdown > max_drawdown_percent
- –ó–∞–∫—Ä—ã–≤–∞–µ—Ç **–í–°–ï** –ø–æ–∑–∏—Ü–∏–∏ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ

---

## ‚ùå –ß–¢–û –ò–ó–ú–ï–ù–ò–õ–û–°–¨: max_holding_exceeded

### **–ë–´–õ–û (–¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è):**
```python
# –ó–∞–∫—Ä—ã–≤–∞–ª–æ –í–°–ï –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏, –≤–∫–ª—é—á–∞—è —É–±—ã—Ç–æ—á–Ω—ã–µ
if minutes_in_position >= max_holding_minutes:
    close_position()  # –ó–∞–∫—Ä—ã–≤–∞–ª–æ –¥–∞–∂–µ —É–±—ã—Ç–æ—á–Ω—ã–µ!
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ó–∞–∫—Ä—ã–≤–∞–ª–æ —É–±—ã—Ç–æ—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- –ù–µ –¥–∞–≤–∞–ª–æ –∏–º —à–∞–Ω—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è
- –ù–µ –¥–∞–≤–∞–ª–æ –∏–º –¥–æ–π—Ç–∏ –¥–æ loss_cut –∏–ª–∏ timeout_loss

### **–°–¢–ê–õ–û (–ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è):**
```python
# –ù–ï –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —É–±—ã—Ç–æ—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
if minutes_in_position >= max_holding_minutes:
    if pnl_percent < 0:
        # –ù–ï –∑–∞–∫—Ä—ã–≤–∞–µ–º —É–±—ã—Ç–æ—á–Ω—ã–µ - –¥–∞–µ–º –∏–º —à–∞–Ω—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è
        return {"action": "hold"}
    else:
        # –ó–∞–∫—Ä—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–∏–±—ã–ª—å–Ω—ã–µ
        return {"action": "close", "reason": "max_holding_exceeded"}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –£–±—ã—Ç–æ—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ **–ù–ï –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è** –ø–æ max_holding
- –ù–æ –æ–Ω–∏ **–í–°–ï –†–ê–í–ù–û –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è** –ø–æ –¥—Ä—É–≥–∏–º –º–µ—Ö–∞–Ω–∏–∑–º–∞–º:
  - loss_cut (–ø—Ä–∏ —É–±—ã—Ç–∫–µ >= loss_cut_percent)
  - timeout_loss (–ø–æ—Å–ª–µ timeout_minutes, –µ—Å–ª–∏ —É–±—ã—Ç–æ–∫ >= timeout_loss_percent)
  - trailing stop loss (–ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Å—Ç–æ–ø-–ª–æ—Å—Å–∞)
  - stop loss (–ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ SL)

---

## üìä –ü–†–ò–ú–ï–†–´ –†–ê–ë–û–¢–´

### –ü—Ä–∏–º–µ—Ä 1: –ü–æ–∑–∏—Ü–∏—è –≤ —É–±—ã—Ç–∫–µ, —Ä–∞–∑–≤–æ—Ä–æ—Ç —Ä—ã–Ω–∫–∞

**–°—Ü–µ–Ω–∞—Ä–∏–π:**
- LONG –ø–æ–∑–∏—Ü–∏—è, entry_price = $100
- –¶–µ–Ω–∞ —É–ø–∞–ª–∞ –¥–æ $98 (—É–±—ã—Ç–æ–∫ -2%)
- –ü—Ä–æ—à–ª–æ 30 –º–∏–Ω—É—Ç (max_holding = 20 –º–∏–Ω—É—Ç)

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. ‚úÖ max_holding_exceeded: **–ù–ï –∑–∞–∫—Ä—ã–≤–∞–µ—Ç** (–ø–æ–∑–∏—Ü–∏—è –≤ —É–±—ã—Ç–∫–µ)
2. ‚úÖ loss_cut: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É–±—ã—Ç–æ–∫ (-2% < -1.5% –¥–ª—è ranging) ‚Üí **–ó–ê–ö–†–´–í–ê–ï–¢** –ø–æ loss_cut
3. ‚úÖ –ò–ª–∏ trailing stop: –ï—Å–ª–∏ —Ü–µ–Ω–∞ –ø—Ä–æ–±–∏–ª–∞ —Å—Ç–æ–ø-–ª–æ—Å—Å ‚Üí **–ó–ê–ö–†–´–í–ê–ï–¢**

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–∑–∏—Ü–∏—è –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ loss_cut –∏–ª–∏ trailing stop, **–ù–ï** –ø–æ max_holding

---

### –ü—Ä–∏–º–µ—Ä 2: –ü–æ–∑–∏—Ü–∏—è –≤ —É–±—ã—Ç–∫–µ, –¥–æ–ª–≥–æ–µ —É–¥–µ—Ä–∂–∞–Ω–∏–µ

**–°—Ü–µ–Ω–∞—Ä–∏–π:**
- LONG –ø–æ–∑–∏—Ü–∏—è, entry_price = $100
- –¶–µ–Ω–∞ —É–ø–∞–ª–∞ –¥–æ $99.5 (—É–±—ã—Ç–æ–∫ -0.5%)
- –ü—Ä–æ—à–ª–æ 120 –º–∏–Ω—É—Ç (ranging —Ä–µ–∂–∏–º, timeout_minutes = 120)

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. ‚úÖ max_holding_exceeded: **–ù–ï –∑–∞–∫—Ä—ã–≤–∞–µ—Ç** (–ø–æ–∑–∏—Ü–∏—è –≤ —É–±—ã—Ç–∫–µ)
2. ‚úÖ timeout_loss: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Ä–µ–º—è (120 –º–∏–Ω >= 120) –∏ —É–±—ã—Ç–æ–∫ (-0.5% < -2.0%) ‚Üí **–ù–ï –∑–∞–∫—Ä—ã–≤–∞–µ—Ç** (—É–±—ã—Ç–æ–∫ –º–µ–Ω—å—à–µ timeout_loss_percent)
3. ‚úÖ loss_cut: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É–±—ã—Ç–æ–∫ (-0.5% > -4.0%) ‚Üí **–ù–ï –∑–∞–∫—Ä—ã–≤–∞–µ—Ç** (—É–±—ã—Ç–æ–∫ –º–µ–Ω—å—à–µ loss_cut_percent)
4. ‚úÖ –ü–æ–∑–∏—Ü–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –¥–µ—Ä–∂–∞—Ç—å—Å—è, –∂–¥–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏–ª–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è loss_cut/timeout_loss

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–∑–∏—Ü–∏—è –¥–µ—Ä–∂–∏—Ç—Å—è, –Ω–æ –±—É–¥–µ—Ç –∑–∞–∫—Ä—ã—Ç–∞ –ø—Ä–∏:
- –£–±—ã—Ç–∫–µ >= loss_cut_percent (4.0% –¥–ª—è ranging)
- –ò–ª–∏ –ø–æ—Å–ª–µ timeout_minutes (120 –º–∏–Ω) –ø—Ä–∏ —É–±—ã—Ç–∫–µ >= timeout_loss_percent (2.0%)

---

### –ü—Ä–∏–º–µ—Ä 3: –ü–æ–∑–∏—Ü–∏—è –≤ —É–±—ã—Ç–∫–µ, –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É–±—ã—Ç–æ–∫

**–°—Ü–µ–Ω–∞—Ä–∏–π:**
- LONG –ø–æ–∑–∏—Ü–∏—è, entry_price = $100
- –¶–µ–Ω–∞ —É–ø–∞–ª–∞ –¥–æ $96 (—É–±—ã—Ç–æ–∫ -4%)
- –ü—Ä–æ—à–ª–æ 5 –º–∏–Ω—É—Ç

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. ‚úÖ loss_cut: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É–±—ã—Ç–æ–∫ (-4% <= -4.0% –¥–ª—è ranging) ‚Üí **–ó–ê–ö–†–´–í–ê–ï–¢ –°–†–ê–ó–£** –ø–æ loss_cut
2. ‚úÖ max_holding_exceeded: **–ù–ï –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è** (–ø–æ–∑–∏—Ü–∏—è —É–∂–µ –∑–∞–∫—Ä—ã—Ç–∞)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–∑–∏—Ü–∏—è –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ loss_cut **–ù–ï–ó–ê–í–ò–°–ò–ú–û** –æ—Ç –≤—Ä–µ–º–µ–Ω–∏

---

## üéØ –ò–¢–û–ì–û–í–ê–Ø –õ–û–ì–ò–ö–ê

### –£–±—ã—Ç–æ—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –ø–æ:

1. ‚úÖ **loss_cut_percent** - –ø—Ä–∏ —É–±—ã—Ç–∫–µ >= loss_cut (1.5-4.0% –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞)
   - –ó–∞–∫—Ä—ã–≤–∞–µ—Ç **–ù–ï–ó–ê–í–ò–°–ò–ú–û** –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç #1)
   - –†–∞–±–æ—Ç–∞–µ—Ç –≤ Trailing Stop Loss

2. ‚úÖ **timeout (timeout_minutes)** - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ **–í–°–ï–•** –ø–æ–∑–∏—Ü–∏–π –ø–æ—Å–ª–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
   - –ó–∞–∫—Ä—ã–≤–∞–µ—Ç **–í–°–ï** –ø–æ–∑–∏—Ü–∏–∏ (–ø—Ä–∏–±—ã–ª—å–Ω—ã–µ –∏ —É–±—ã—Ç–æ—á–Ω—ã–µ)
   - –†–∞–±–æ—Ç–∞–µ—Ç –≤ orchestrator

3. ‚úÖ **timeout_loss_percent** - –ø–æ—Å–ª–µ timeout_minutes –ø—Ä–∏ —É–±—ã—Ç–∫–µ >= timeout_loss
   - –ó–∞–∫—Ä—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —É–±—ã—Ç–æ—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏
   - –†–∞–±–æ—Ç–∞–µ—Ç –≤ Trailing Stop Loss

4. ‚úÖ **trailing stop loss** - –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–æ–ø-–ª–æ—Å—Å–∞
   - –ó–∞–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏ –ø—Ä–æ–±–∏—Ç–∏–∏ —Å—Ç–æ–ø-–ª–æ—Å—Å–∞ (–ø—Ä–∏–±—ã–ª—å–Ω—ã–µ –∏ —É–±—ã—Ç–æ—á–Ω—ã–µ)

5. ‚úÖ **stop loss (sl_percent)** - –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ SL (1.0-2.0%)
   - –ó–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ min_holding_minutes

6. ‚úÖ **emergency stop** - –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–º drawdown
   - –ó–∞–∫—Ä—ã–≤–∞–µ—Ç **–í–°–ï** –ø–æ–∑–∏—Ü–∏–∏ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ

### –£–±—ã—Ç–æ—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –ù–ï –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –ø–æ:

1. ‚ùå **max_holding_exceeded** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ, —Ç–µ–ø–µ—Ä—å –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —É–±—ã—Ç–æ—á–Ω—ã–µ
2. ‚ùå **profit_drawdown** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π
3. ‚ùå **profit_harvest** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π

---

## üí° –ó–ê–ß–ï–ú –≠–¢–û –ù–£–ñ–ù–û?

### –ü—Ä–æ–±–ª–µ–º–∞ –¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- max_holding_exceeded –∑–∞–∫—Ä—ã–≤–∞–ª —É–±—ã—Ç–æ—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- –ù–µ –¥–∞–≤–∞–ª –∏–º —à–∞–Ω—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è
- –ü—Ä–∏–≤–æ–¥–∏–ª –∫ —É–±—ã—Ç–∫–∞–º -$25.92 USDT (30 —Å–¥–µ–ª–æ–∫)

### –†–µ—à–µ–Ω–∏–µ:
- max_holding_exceeded **–ù–ï –∑–∞–∫—Ä—ã–≤–∞–µ—Ç** —É–±—ã—Ç–æ—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏
- –£–±—ã—Ç–æ—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –ø–æ **loss_cut** –∏–ª–∏ **timeout_loss**
- –î–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—è–º —à–∞–Ω—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –∏–ª–∏ –¥–æ–π—Ç–∏ –¥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Å—Ç–æ–ø-–ª–æ—Å—Å–∞

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û

**–£–±—ã—Ç–æ—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –ù–ï –±—É–¥—É—Ç –¥–µ—Ä–∂–∞—Ç—å—Å—è –≤–µ—á–Ω–æ!**

–û–Ω–∏ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –ø–æ:
- **loss_cut** (–ø—Ä–∏ —É–±—ã—Ç–∫–µ >= 1.5-4.0%)
- **timeout_loss** (–ø–æ—Å–ª–µ 3-120 –º–∏–Ω—É—Ç –ø—Ä–∏ —É–±—ã—Ç–∫–µ >= 0.8-2.0%)
- **trailing stop loss** (–ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Å—Ç–æ–ø-–ª–æ—Å—Å–∞)
- **stop loss** (–ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ SL)

**max_holding_exceeded** –ø—Ä–æ—Å—Ç–æ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –∏—Ö –ø–æ –≤—Ä–µ–º–µ–Ω–∏, –¥–∞–≤–∞—è —à–∞–Ω—Å:
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è (—Ü–µ–Ω–∞ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å—Å—è)
- –î–æ–π—Ç–∏ –¥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Å—Ç–æ–ø-–ª–æ—Å—Å–∞ (loss_cut –∏–ª–∏ timeout_loss)

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-07  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –õ–æ–≥–∏–∫–∞ –æ–±—ä—è—Å–Ω–µ–Ω–∞

