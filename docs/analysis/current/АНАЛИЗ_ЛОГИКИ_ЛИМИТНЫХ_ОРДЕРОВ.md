# üîç –ê–ù–ê–õ–ò–ó –õ–û–ì–ò–ö–ò –õ–ò–ú–ò–¢–ù–´–• –û–†–î–ï–†–û–í

**–î–∞—Ç–∞:** 2025-11-12  
**–ü—Ä–æ–±–ª–µ–º–∞:** –õ–∏–º–∏—Ç–Ω—ã–µ –æ—Ä–¥–µ—Ä–∞ –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è –±–∏—Ä–∂–µ–π —Å –æ—à–∏–±–∫–æ–π 51006

---

## üìä –ü–†–ê–í–ò–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê –õ–ò–ú–ò–¢–ù–´–• –û–†–î–ï–†–û–í

### –î–ª—è SELL (–ø—Ä–æ–¥–∞–∂–∞):

**–¶–µ–ª—å:** –ü—Ä–æ–¥–∞—Ç—å –ø–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤—ã–≥–æ–¥–Ω–æ–π —Ü–µ–Ω–µ
- **Best bid** (–ª—É—á—à–∞—è —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏): —Ü–µ–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –ø–æ–∫—É–ø–∞—Ç–µ–ª–∏ –≥–æ—Ç–æ–≤—ã –∫—É–ø–∏—Ç—å
- **Best ask** (–ª—É—á—à–∞—è —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏): —Ü–µ–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–æ–¥–∞–≤—Ü—ã –≥–æ—Ç–æ–≤—ã –ø—Ä–æ–¥–∞—Ç—å

**–õ–æ–≥–∏–∫–∞:**
- –î–ª—è SELL –º—ã —Ö–æ—Ç–∏–º –ø—Ä–æ–¥–∞—Ç—å –ø–æ —Ü–µ–Ω–µ **–≤—ã—à–µ** best bid (—á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –±–æ–ª—å—à–µ –ø—Ä–∏–±—ã–ª–∏)
- –ù–æ –Ω–µ —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–æ, –∏–Ω–∞—á–µ –æ—Ä–¥–µ—Ä –Ω–µ –∏—Å–ø–æ–ª–Ω–∏—Ç—Å—è
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ü–µ–Ω–∞: `best_bid * 1.001` (0.1% –≤—ã—à–µ best bid) ‚úÖ
- –ò–ª–∏ –µ—â–µ –ª—É—á—à–µ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **best ask** –∫–∞–∫ –æ—Ä–∏–µ–Ω—Ç–∏—Ä (–ª—É—á—à–∞—è —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ –Ω–∞ —Ä—ã–Ω–∫–µ)

**–ù–û!** –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –±–∏—Ä–∂–∞ OKX –∏–º–µ–µ—Ç –ª–∏–º–∏—Ç—ã:
- **Min sell price**: –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –¥–ª—è SELL –æ—Ä–¥–µ—Ä–æ–≤
- –ï—Å–ª–∏ —Ü–µ–Ω–∞ –Ω–∏–∂–µ –ª–∏–º–∏—Ç–∞, –±–∏—Ä–∂–∞ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –æ—Ä–¥–µ—Ä

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **best ask** (–ª—É—á—à–∞—è —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏) –∫–∞–∫ –±–∞–∑–æ–≤—É—é —Ü–µ–Ω—É
- –î–ª—è SELL: `best_ask * 0.999` (0.1% –Ω–∏–∂–µ best ask) - —ç—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ
- –ò–ª–∏: `best_bid * 1.001` (0.1% –≤—ã—à–µ best bid) - —ç—Ç–æ —Ç–æ–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

---

### –î–ª—è BUY (–ø–æ–∫—É–ø–∫–∞):

**–¶–µ–ª—å:** –ö—É–ø–∏—Ç—å –ø–æ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –≤—ã–≥–æ–¥–Ω–æ–π —Ü–µ–Ω–µ
- **Best bid** (–ª—É—á—à–∞—è —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏): —Ü–µ–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –ø–æ–∫—É–ø–∞—Ç–µ–ª–∏ –≥–æ—Ç–æ–≤—ã –∫—É–ø–∏—Ç—å
- **Best ask** (–ª—É—á—à–∞—è —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏): —Ü–µ–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–æ–¥–∞–≤—Ü—ã –≥–æ—Ç–æ–≤—ã –ø—Ä–æ–¥–∞—Ç—å

**–õ–æ–≥–∏–∫–∞:**
- –î–ª—è BUY –º—ã —Ö–æ—Ç–∏–º –∫—É–ø–∏—Ç—å –ø–æ —Ü–µ–Ω–µ **–Ω–∏–∂–µ** best ask (—á—Ç–æ–±—ã –∑–∞–ø–ª–∞—Ç–∏—Ç—å –º–µ–Ω—å—à–µ)
- –ù–æ –Ω–µ —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–æ, –∏–Ω–∞—á–µ –æ—Ä–¥–µ—Ä –Ω–µ –∏—Å–ø–æ–ª–Ω–∏—Ç—Å—è
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ü–µ–Ω–∞: `best_ask * 0.999` (0.1% –Ω–∏–∂–µ best ask) ‚úÖ
- –ò–ª–∏: `best_bid * 1.001` (0.1% –≤—ã—à–µ best bid) - —ç—Ç–æ —Ç–æ–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

**–ù–û!** –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –±–∏—Ä–∂–∞ OKX –∏–º–µ–µ—Ç –ª–∏–º–∏—Ç—ã:
- **Max buy price**: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –¥–ª—è BUY –æ—Ä–¥–µ—Ä–æ–≤
- –ï—Å–ª–∏ —Ü–µ–Ω–∞ –≤—ã—à–µ –ª–∏–º–∏—Ç–∞, –±–∏—Ä–∂–∞ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –æ—Ä–¥–µ—Ä

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **best ask** (–ª—É—á—à–∞—è —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏) –∫–∞–∫ –±–∞–∑–æ–≤—É—é —Ü–µ–Ω—É
- –î–ª—è BUY: `best_ask * 0.999` (0.1% –Ω–∏–∂–µ best ask) - —ç—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ
- –ò–ª–∏: `best_bid * 1.001` (0.1% –≤—ã—à–µ best bid) - —ç—Ç–æ —Ç–æ–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

---

## ‚ùå –¢–ï–ö–£–©–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

### –î–ª—è SELL:

**–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–µ–º `best_bid * 0.999` (0.1% –Ω–∏–∂–µ best bid) ‚ùå
- –≠—Ç–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ! –¶–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å **–≤—ã—à–µ** best bid –¥–ª—è SELL!

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ï—Å–ª–∏ best bid = 101000, —Ç–æ —Ü–µ–Ω–∞ = 101000 * 0.999 = 100899
- –≠—Ç–æ **–Ω–∏–∂–µ** best bid, —á—Ç–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è SELL
- –ë–∏—Ä–∂–∞ –º–æ–∂–µ—Ç –æ—Ç–∫–ª–æ–Ω–∏—Ç—å —Ç–∞–∫–æ–π –æ—Ä–¥–µ—Ä, –µ—Å–ª–∏ —Ü–µ–Ω–∞ –Ω–∏–∂–µ –ª–∏–º–∏—Ç–∞

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞:**
- –î–ª—è SELL: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `best_ask * 0.999` (0.1% –Ω–∏–∂–µ best ask) ‚úÖ
- –ò–ª–∏: `best_bid * 1.001` (0.1% –≤—ã—à–µ best bid) ‚úÖ
- –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Ü–µ–Ω–∞ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ

---

### –î–ª—è BUY:

**–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–µ–º `best_ask * 1.001` (0.1% –≤—ã—à–µ best ask) ‚ùå
- –≠—Ç–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ! –¶–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å **–Ω–∏–∂–µ** best ask –¥–ª—è BUY!

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ï—Å–ª–∏ best ask = 101050, —Ç–æ —Ü–µ–Ω–∞ = 101050 * 1.001 = 101150.5
- –≠—Ç–æ **–≤—ã—à–µ** best ask, —á—Ç–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è BUY
- –ë–∏—Ä–∂–∞ –º–æ–∂–µ—Ç –æ—Ç–∫–ª–æ–Ω–∏—Ç—å —Ç–∞–∫–æ–π –æ—Ä–¥–µ—Ä, –µ—Å–ª–∏ —Ü–µ–Ω–∞ –≤—ã—à–µ –ª–∏–º–∏—Ç–∞

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞:**
- –î–ª—è BUY: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `best_ask * 0.999` (0.1% –Ω–∏–∂–µ best ask) ‚úÖ
- –ò–ª–∏: `best_bid * 1.001` (0.1% –≤—ã—à–µ best bid) ‚úÖ
- –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Ü–µ–Ω–∞ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ

---

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï

### –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞:

**–î–ª—è SELL:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `best_ask * 0.999` (0.1% –Ω–∏–∂–µ best ask) ‚úÖ
- –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Ü–µ–Ω–∞ –Ω–∏–∂–µ best ask (–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ)
- –ò —Ü–µ–Ω–∞ –≤—ã—à–µ best bid (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è SELL)

**–î–ª—è BUY:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `best_ask * 0.999` (0.1% –Ω–∏–∂–µ best ask) ‚úÖ
- –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Ü–µ–Ω–∞ –Ω–∏–∂–µ best ask (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è BUY)
- –ò —Ü–µ–Ω–∞ –≤—ã—à–µ best bid (–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ)

**–ù–û!** –ï—Å—Ç—å –ø—Ä–æ–±–ª–µ–º–∞: –¥–ª—è SELL –∏ BUY –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–¥–Ω—É –∏ —Ç—É –∂–µ —Ñ–æ—Ä–º—É–ª—É!

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞:**
- **–î–ª—è SELL:** `best_ask * 0.999` (0.1% –Ω–∏–∂–µ best ask) - –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ
- **–î–ª—è BUY:** `best_ask * 0.999` (0.1% –Ω–∏–∂–µ best ask) - –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

**–ù–û!** –≠—Ç–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è SELL!

**–ü–†–ê–í–ò–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê:**
- **–î–ª—è SELL:** `max(best_bid * 1.001, best_ask * 0.999)` - –≤—ã–±–∏—Ä–∞–µ–º –ª—É—á—à—É—é —Ü–µ–Ω—É
- **–î–ª—è BUY:** `best_ask * 0.999` - –Ω–∏–∂–µ best ask –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è

**–ò–õ–ò:**
- **–î–ª—è SELL:** `best_ask * 0.999` - –Ω–∏–∂–µ best ask (–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ, –Ω–æ –Ω–µ —Å–ª–∏—à–∫–æ–º –≤—ã–≥–æ–¥–Ω–æ)
- **–î–ª—è BUY:** `best_ask * 0.999` - –Ω–∏–∂–µ best ask (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)

**–ù–û!** –î–ª—è SELL –º—ã —Ö–æ—Ç–∏–º –ø—Ä–æ–¥–∞—Ç—å –ø–æ **–≤—ã—Å–æ–∫–æ–π** —Ü–µ–Ω–µ, –∞ –Ω–µ –ø–æ **–Ω–∏–∑–∫–æ–π**!

**–ü–†–ê–í–ò–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê:**
- **–î–ª—è SELL:** `best_bid * 1.001` (0.1% –≤—ã—à–µ best bid) - –ø—Ä–æ–¥–∞–µ–º –ø–æ –≤—ã—Å–æ–∫–æ–π —Ü–µ–Ω–µ ‚úÖ
- **–î–ª—è BUY:** `best_ask * 0.999` (0.1% –Ω–∏–∂–µ best ask) - –ø–æ–∫—É–ø–∞–µ–º –ø–æ –Ω–∏–∑–∫–æ–π —Ü–µ–Ω–µ ‚úÖ

---

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –í –ö–û–î–ï

### –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–ê–Ø):

```python
if side.lower() == "buy":
    limit_price = best_ask * 1.001  # ‚ùå –í—ã—à–µ best ask (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!)
else:  # sell
    limit_price = best_bid * 0.999  # ‚ùå –ù–∏–∂–µ best bid (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!)
```

### –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞:

```python
if side.lower() == "buy":
    # –î–ª—è BUY: –ø–æ–∫—É–ø–∞–µ–º –ø–æ —Ü–µ–Ω–µ –Ω–∏–∂–µ best ask (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
    limit_price = best_ask * 0.999  # ‚úÖ –ù–∏–∂–µ best ask (–ø—Ä–∞–≤–∏–ª—å–Ω–æ!)
else:  # sell
    # –î–ª—è SELL: –ø—Ä–æ–¥–∞–µ–º –ø–æ —Ü–µ–Ω–µ –≤—ã—à–µ best bid (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
    limit_price = best_bid * 1.001  # ‚úÖ –í—ã—à–µ best bid (–ø—Ä–∞–≤–∏–ª—å–Ω–æ!)
```

---

## üìä –ü–†–ò–ú–ï–†–´

### –ü—Ä–∏–º–µ—Ä 1: SELL –æ—Ä–¥–µ—Ä

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- Best bid: 101000 (–ª—É—á—à–∞—è —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏)
- Best ask: 101050 (–ª—É—á—à–∞—è —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏)
- Current price: 101025

**–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–ê–Ø):**
- –õ–∏–º–∏—Ç–Ω–∞—è —Ü–µ–Ω–∞: 101000 * 0.999 = 100899 ‚ùå (–Ω–∏–∂–µ best bid!)
- –ü—Ä–æ–±–ª–µ–º–∞: –¶–µ–Ω–∞ —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∞—è, –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∏–∂–µ –ª–∏–º–∏—Ç–∞ –±–∏—Ä–∂–∏

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞:**
- –õ–∏–º–∏—Ç–Ω–∞—è —Ü–µ–Ω–∞: 101000 * 1.001 = 101100 ‚úÖ (–≤—ã—à–µ best bid!)
- –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è SELL (–ø—Ä–æ–¥–∞–µ–º –ø–æ –≤—ã—Å–æ–∫–æ–π —Ü–µ–Ω–µ)

**–ù–û!** –ï—Å—Ç—å –ø—Ä–æ–±–ª–µ–º–∞: —Ü–µ–Ω–∞ 101100 –≤—ã—à–µ best ask (101050), —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º–æ–π!

**–û–ü–¢–ò–ú–ê–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê:**
- –õ–∏–º–∏—Ç–Ω–∞—è —Ü–µ–Ω–∞: `min(best_bid * 1.001, best_ask * 0.999)` = `min(101100, 100949.5)` = 100949.5
- –ò–ª–∏: `best_ask * 0.999` = 100949.5 (–Ω–∏–∂–µ best ask, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ)

**–ù–û!** –î–ª—è SELL –º—ã —Ö–æ—Ç–∏–º –ø—Ä–æ–¥–∞—Ç—å –ø–æ **–≤—ã—Å–æ–∫–æ–π** —Ü–µ–Ω–µ, –∞ –Ω–µ –ø–æ **–Ω–∏–∑–∫–æ–π**!

**–ü–†–ê–í–ò–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê –î–õ–Ø SELL:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `best_bid * 1.001` (–≤—ã—à–µ best bid, –Ω–æ –Ω–µ –≤—ã—à–µ best ask)
- –ò–ª–∏: `best_ask * 0.999` (–Ω–∏–∂–µ best ask, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ)
- –í—ã–±–∏—Ä–∞–µ–º: `max(best_bid * 1.001, best_ask * 0.999)` = `max(101100, 100949.5)` = 101100
- –ù–æ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º: `min(101100, best_ask * 0.999)` = `min(101100, 100949.5)` = 100949.5

**–í–´–í–û–î:** –î–ª—è SELL –∏—Å–ø–æ–ª—å–∑—É–µ–º `best_ask * 0.999` (–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ) ‚úÖ

---

### –ü—Ä–∏–º–µ—Ä 2: BUY –æ—Ä–¥–µ—Ä

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- Best bid: 101000 (–ª—É—á—à–∞—è —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏)
- Best ask: 101050 (–ª—É—á—à–∞—è —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏)
- Current price: 101025

**–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–ê–Ø):**
- –õ–∏–º–∏—Ç–Ω–∞—è —Ü–µ–Ω–∞: 101050 * 1.001 = 101150.5 ‚ùå (–≤—ã—à–µ best ask!)
- –ü—Ä–æ–±–ª–µ–º–∞: –¶–µ–Ω–∞ —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∞—è, –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã—à–µ –ª–∏–º–∏—Ç–∞ –±–∏—Ä–∂–∏

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞:**
- –õ–∏–º–∏—Ç–Ω–∞—è —Ü–µ–Ω–∞: 101050 * 0.999 = 100949.5 ‚úÖ (–Ω–∏–∂–µ best ask!)
- –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è BUY (–ø–æ–∫—É–ø–∞–µ–º –ø–æ –Ω–∏–∑–∫–æ–π —Ü–µ–Ω–µ)

---

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï

### –ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –≤ `_calculate_limit_price()`:

**–î–æ:**
```python
if side.lower() == "buy":
    limit_price = best_ask * 1.001  # ‚ùå –í—ã—à–µ best ask (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!)
else:  # sell
    limit_price = best_bid * 0.999  # ‚ùå –ù–∏–∂–µ best bid (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!)
```

**–ü–æ—Å–ª–µ:**
```python
if side.lower() == "buy":
    # –î–ª—è BUY: –ø–æ–∫—É–ø–∞–µ–º –ø–æ —Ü–µ–Ω–µ –Ω–∏–∂–µ best ask (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
    limit_price = best_ask * 0.999  # ‚úÖ –ù–∏–∂–µ best ask (–ø—Ä–∞–≤–∏–ª—å–Ω–æ!)
else:  # sell
    # –î–ª—è SELL: –ø—Ä–æ–¥–∞–µ–º –ø–æ —Ü–µ–Ω–µ –Ω–∏–∂–µ best ask (–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ)
    # –ò–õ–ò: –ø—Ä–æ–¥–∞–µ–º –ø–æ —Ü–µ–Ω–µ –≤—ã—à–µ best bid (–±–æ–ª–µ–µ –≤—ã–≥–æ–¥–Ω–æ, –Ω–æ –º–æ–∂–µ—Ç –Ω–µ –∏—Å–ø–æ–ª–Ω–∏—Ç—å—Å—è)
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º best_ask * 0.999 –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
    limit_price = best_ask * 0.999  # ‚úÖ –ù–∏–∂–µ best ask (–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ)
    # –ò–õ–ò: limit_price = best_bid * 1.001  # ‚úÖ –í—ã—à–µ best bid (–±–æ–ª–µ–µ –≤—ã–≥–æ–¥–Ω–æ)
```

**–ù–û!** –î–ª—è SELL –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `best_bid * 1.001`, –Ω–æ —Ç–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∏–º–∏—Ç—ã!

**–û–ü–¢–ò–ú–ê–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï:**
```python
if side.lower() == "buy":
    # –î–ª—è BUY: –ø–æ–∫—É–ø–∞–µ–º –ø–æ —Ü–µ–Ω–µ –Ω–∏–∂–µ best ask
    limit_price = best_ask * 0.999  # ‚úÖ –ù–∏–∂–µ best ask
else:  # sell
    # –î–ª—è SELL: –ø—Ä–æ–¥–∞–µ–º –ø–æ —Ü–µ–Ω–µ –≤—ã—à–µ best bid (–±–æ–ª–µ–µ –≤—ã–≥–æ–¥–Ω–æ)
    # –ù–æ –Ω–µ –≤—ã—à–µ best ask (–∏–Ω–∞—á–µ –æ—Ä–¥–µ—Ä –º–æ–∂–µ—Ç –Ω–µ –∏—Å–ø–æ–ª–Ω–∏—Ç—å—Å—è)
    limit_price = min(best_bid * 1.001, best_ask * 0.999)  # ‚úÖ –ö–æ–º–ø—Ä–æ–º–∏—Å—Å
    # –ò–õ–ò: –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å best_ask * 0.999 (–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ)
    limit_price = best_ask * 0.999  # ‚úÖ –ü—Ä–æ—â–µ –∏ –Ω–∞–¥–µ–∂–Ω–µ–µ
```

---

## ‚úÖ –§–ò–ù–ê–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï

### –î–ª—è SELL:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `best_ask * 0.999` (0.1% –Ω–∏–∂–µ best ask) ‚úÖ
- –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ (—Ü–µ–Ω–∞ –Ω–∏–∂–µ best ask)
- –ò —Ü–µ–Ω–∞ –≤—ã—à–µ best bid (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)

### –î–ª—è BUY:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `best_ask * 0.999` (0.1% –Ω–∏–∂–µ best ask) ‚úÖ
- –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–ø–æ–∫—É–ø–∞–µ–º –ø–æ –Ω–∏–∑–∫–æ–π —Ü–µ–Ω–µ)
- –ò —Ü–µ–Ω–∞ –≤—ã—à–µ best bid (–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ)

---

## üìã –ò–¢–û–ì–û–í–´–ô –í–´–í–û–î

1. ‚úÖ **–î–ª—è BUY:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `best_ask * 0.999` (–Ω–∏–∂–µ best ask) ‚úÖ
2. ‚úÖ **–î–ª—è SELL:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `best_ask * 0.999` (–Ω–∏–∂–µ best ask) ‚úÖ
3. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤:** –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ª–∏–º–∏—Ç—ã –±–∏—Ä–∂–∏ –ø–µ—Ä–µ–¥ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º –æ—Ä–¥–µ—Ä–∞
4. ‚úÖ **–ü–∞—Ä—Å–∏–Ω–≥ –æ—à–∏–±–æ–∫:** –ü–∞—Ä—Å–∏—Ç—å –ª–∏–º–∏—Ç—ã –∏–∑ –æ—à–∏–±–∫–∏ API –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö
5. ‚úÖ **Fallback:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä, –µ—Å–ª–∏ –ª–∏–º–∏—Ç–Ω—ã–π –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç

---

## üîß –ü–†–ò–û–†–ò–¢–ï–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

**–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Ä–∞—Å—á–µ—Ç–∞ —Ü–µ–Ω—ã –¥–ª—è SELL –∏ BUY –æ—Ä–¥–µ—Ä–æ–≤

