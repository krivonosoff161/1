# üìä –ê–ù–ê–õ–ò–ó –°–¢–†–£–ö–¢–£–†–´ –ò –ê–†–•–ò–¢–ï–ö–¢–£–†–´ –ü–†–û–ï–ö–¢–ê

## üìÖ –î–∞—Ç–∞: 2025-11-21

---

## üéØ –í–´–í–û–î: –°–¢–†–£–ö–¢–£–†–ê –£–ñ–ï –ü–û–î–†–ê–ó–£–ú–ï–í–ê–ï–¢ –ú–û–î–£–õ–¨–ù–û–°–¢–¨!

### ‚úÖ –•–û–†–û–®–ò–ï –ù–û–í–û–°–¢–ò:
**–£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞!** –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ —á–µ—Ç–∫–æ —Ä–∞–∑–¥–µ–ª—è–µ—Ç –∫–æ–¥ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.

---

## üìÅ –¢–ï–ö–£–©–ê–Ø –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è:

```
src/strategies/scalping/futures/
‚îú‚îÄ‚îÄ orchestrator.py          # ‚ùå –ú–û–ù–°–¢–†: 6,098 —Å—Ç—Ä–æ–∫ (–Ω–∞—Ä—É—à–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É!)
‚îú‚îÄ‚îÄ signal_generator.py      # ‚úÖ –ú–æ–¥—É–ª—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–æ–≤
‚îú‚îÄ‚îÄ order_executor.py        # ‚úÖ –ú–æ–¥—É–ª—å –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ position_manager.py      # ‚úÖ –ú–æ–¥—É–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏—è–º–∏
‚îú‚îÄ‚îÄ websocket_manager.py     # ‚úÖ –ú–æ–¥—É–ª—å WebSocket
‚îú‚îÄ‚îÄ private_websocket_manager.py  # ‚úÖ –ú–æ–¥—É–ª—å Private WebSocket
‚îÇ
‚îú‚îÄ‚îÄ filters/                 # ‚úÖ –§–∏–ª—å—Ç—Ä—ã —Å–∏–≥–Ω–∞–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ funding_rate_filter.py
‚îÇ   ‚îú‚îÄ‚îÄ liquidity_filter.py
‚îÇ   ‚îú‚îÄ‚îÄ momentum_filter.py
‚îÇ   ‚îú‚îÄ‚îÄ order_flow_filter.py
‚îÇ   ‚îî‚îÄ‚îÄ volatility_regime_filter.py
‚îÇ
‚îú‚îÄ‚îÄ indicators/              # ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ fast_adx.py
‚îÇ   ‚îú‚îÄ‚îÄ funding_rate_monitor.py
‚îÇ   ‚îú‚îÄ‚îÄ order_flow_indicator.py
‚îÇ   ‚îî‚îÄ‚îÄ trailing_stop_loss.py
‚îÇ
‚îî‚îÄ‚îÄ risk/                    # ‚úÖ –ú–æ–¥—É–ª–∏ —Ä–∏—Å–∫–∞
    ‚îú‚îÄ‚îÄ liquidation_protector.py
    ‚îú‚îÄ‚îÄ margin_monitor.py
    ‚îú‚îÄ‚îÄ max_size_limiter.py
    ‚îî‚îÄ‚îÄ position_sizer.py

src/strategies/modules/      # ‚úÖ –û–±—â–∏–µ –º–æ–¥—É–ª–∏
‚îú‚îÄ‚îÄ adaptive_regime_manager.py
‚îú‚îÄ‚îÄ margin_calculator.py
‚îú‚îÄ‚îÄ liquidation_guard.py
‚îú‚îÄ‚îÄ slippage_guard.py
‚îî‚îÄ‚îÄ trading_statistics.py
```

---

## üîç –ê–ù–ê–õ–ò–ó –û–†–ö–ï–°–¢–†–ê–¢–û–†–ê

### ‚ùå –ü–†–û–ë–õ–ï–ú–ê: Orchestrator –Ω–∞—Ä—É—à–∞–µ—Ç –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å

**Orchestrator —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏–∫—É, –∫–æ—Ç–æ—Ä–∞—è –£–ñ–ï –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª—è—Ö:**

#### 1. üìä –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏—è–º–∏ (—É–∂–µ –µ—Å—Ç—å `position_manager.py`):
- ‚úÖ `_load_existing_positions` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `PositionManager`
- ‚úÖ `_sync_positions_with_exchange` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `PositionManager`
- ‚úÖ `_manage_positions` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `PositionManager`
- ‚úÖ `_update_trailing_stop_loss` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `PositionManager` –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å `TSLManager`
- ‚úÖ `_periodic_tsl_check` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `TSLManager`
- ‚úÖ `_handle_private_ws_positions` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `PositionManager`
- ‚úÖ `_handle_position_closed_via_ws` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `PositionManager`
- ‚úÖ `_check_position_holding_time` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `PositionManager`
- ‚úÖ `_close_position` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `PositionManager`

**–ü—Ä–æ–±–ª–µ–º–∞:** –£–∂–µ –µ—Å—Ç—å `PositionManager`, –Ω–æ orchestrator –¥—É–±–ª–∏—Ä—É–µ—Ç –µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å!

#### 2. üìù –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–∞–º–∏ (—É–∂–µ –µ—Å—Ç—å `order_executor.py`):
- ‚úÖ `_monitor_limit_orders` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `OrderExecutor`
- ‚úÖ `_handle_private_ws_orders` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `OrderExecutor`
- ‚úÖ `_update_orders_cache_status` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `OrderExecutor`

**–ü—Ä–æ–±–ª–µ–º–∞:** –£–∂–µ –µ—Å—Ç—å `OrderExecutor`, –Ω–æ orchestrator –¥—É–±–ª–∏—Ä—É–µ—Ç –µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å!

#### 3. üîç –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∞–º–∏ (—É–∂–µ –µ—Å—Ç—å `signal_generator.py`):
- ‚úÖ `_handle_ticker_data` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `SignalGenerator` –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å `SignalOrchestrator`
- ‚úÖ `_check_for_signals` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `SignalGenerator`
- ‚úÖ `_validate_signal` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `SignalGenerator`
- ‚úÖ `_execute_signal` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `SignalOrchestrator`
- ‚úÖ `_execute_signal_from_price` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `SignalOrchestrator`
- ‚úÖ `_create_market_data_from_price` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `SignalGenerator`

**–ü—Ä–æ–±–ª–µ–º–∞:** –£–∂–µ –µ—Å—Ç—å `SignalGenerator`, –Ω–æ orchestrator –¥—É–±–ª–∏—Ä—É–µ—Ç –µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å!

#### 4. üõ°Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏ (—É–∂–µ –µ—Å—Ç—å –º–æ–¥—É–ª–∏ –≤ `risk/`):
- ‚úÖ `_check_drawdown_protection` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `risk/RiskManager`
- ‚úÖ `_get_used_margin` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `risk/MarginMonitor` (—É–∂–µ –µ—Å—Ç—å!)
- ‚úÖ `_emergency_stop` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `risk/RiskManager`
- ‚úÖ `_emergency_close_all_positions` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `risk/RiskManager`
- ‚úÖ `_emergency_actions` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `risk/RiskManager`
- ‚úÖ `_on_liquidation_warning` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `risk/LiquidationProtector` (—É–∂–µ –µ—Å—Ç—å!)
- ‚úÖ `_check_emergency_stop_unlock` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `risk/RiskManager`

**–ü—Ä–æ–±–ª–µ–º–∞:** –£–∂–µ –µ—Å—Ç—å –º–æ–¥—É–ª–∏ —Ä–∏—Å–∫–∞, –Ω–æ orchestrator –¥—É–±–ª–∏—Ä—É–µ—Ç –∏—Ö —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å!

#### 5. ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å `ConfigManager`):
- ‚úÖ `_get_trailing_sl_params` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `ConfigManager`
- ‚úÖ `_initialize_trailing_stop` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `TSLManager`
- ‚úÖ `_get_balance_profile` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `ConfigManager`
- ‚úÖ `_get_regime_params` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `ConfigManager`
- ‚úÖ `_get_adaptive_risk_params` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `ConfigManager`
- ‚úÖ `_get_adaptive_delay` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `ConfigManager`
- ‚úÖ `_get_fallback_risk_params` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `ConfigManager`
- ‚úÖ `_validate_risk_params` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `ConfigManager`
- ‚úÖ `_get_config_value` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `ConfigManager`
- ‚úÖ `_normalize_symbol` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `ConfigManager`
- ‚úÖ `_load_symbol_profiles` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `ConfigManager`
- ‚úÖ `_get_symbol_regime_profile` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `ConfigManager`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–Ω–æ–≥–æ –ª–æ–≥–∏–∫–∏ —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω—Ñ–∏–≥–æ–º —Ä–∞–∑–±—Ä–æ—Å–∞–Ω–æ –ø–æ orchestrator!

#### 6. üîÑ –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–∏–∫–ª—ã (–æ—Å—Ç–∞–≤–∏—Ç—å –≤ orchestrator):
- ‚úÖ `_main_trading_loop` - –æ—Å—Ç–∞–≤–∏—Ç—å –≤ orchestrator (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è)
- ‚úÖ `_process_signals` - –º–æ–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å (–æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é)
- ‚úÖ `_update_state` - –æ—Å—Ç–∞–≤–∏—Ç—å –≤ orchestrator (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è)
- ‚úÖ `_update_performance` - –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `PerformanceTracker`

---

## üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–£

### üéØ –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

#### 1. –†–∞—Å—à–∏—Ä–∏—Ç—å `PositionManager` (~+1000 —Å—Ç—Ä–æ–∫)
**–í—ã–Ω–µ—Å—Ç–∏ –∏–∑ orchestrator:**
- `_load_existing_positions` ‚Üí `PositionManager.load_existing_positions()`
- `_sync_positions_with_exchange` ‚Üí `PositionManager.sync_with_exchange()`
- `_update_trailing_stop_loss` ‚Üí `PositionManager.update_trailing_stop_loss()`
- `_periodic_tsl_check` ‚Üí `PositionManager.periodic_tsl_check()`
- `_handle_private_ws_positions` ‚Üí `PositionManager.handle_ws_positions()`
- `_handle_position_closed_via_ws` ‚Üí `PositionManager.handle_position_closed()`
- `_check_position_holding_time` ‚Üí `PositionManager.check_holding_time()`
- `_close_position` ‚Üí `PositionManager.close_position()`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `PositionManager` —Å—Ç–∞–Ω–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –ø–æ–∑–∏—Ü–∏–π (~2000 —Å—Ç—Ä–æ–∫)

#### 2. –†–∞—Å—à–∏—Ä–∏—Ç—å `OrderExecutor` (~+400 —Å—Ç—Ä–æ–∫)
**–í—ã–Ω–µ—Å—Ç–∏ –∏–∑ orchestrator:**
- `_monitor_limit_orders` ‚Üí `OrderExecutor.monitor_orders()`
- `_handle_private_ws_orders` ‚Üí `OrderExecutor.handle_ws_orders()`
- `_update_orders_cache_status` ‚Üí `OrderExecutor.update_cache_status()`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `OrderExecutor` —Å—Ç–∞–Ω–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º –æ—Ä–¥–µ—Ä–æ–≤ (~1000 —Å—Ç—Ä–æ–∫)

#### 3. –†–∞—Å—à–∏—Ä–∏—Ç—å `SignalGenerator` –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å `SignalOrchestrator` (~+600 —Å—Ç—Ä–æ–∫)
**–í—ã–Ω–µ—Å—Ç–∏ –∏–∑ orchestrator:**
- `_handle_ticker_data` ‚Üí `SignalOrchestrator.handle_ticker()`
- `_check_for_signals` ‚Üí `SignalOrchestrator.check_signals()`
- `_validate_signal` ‚Üí `SignalOrchestrator.validate_signal()`
- `_execute_signal` ‚Üí `SignalOrchestrator.execute_signal()`
- `_execute_signal_from_price` ‚Üí `SignalOrchestrator.execute_from_price()`
- `_create_market_data_from_price` ‚Üí `SignalOrchestrator.create_market_data()`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `SignalOrchestrator` —Å—Ç–∞–Ω–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–æ–º —Å–∏–≥–Ω–∞–ª–æ–≤ (~1500 —Å—Ç—Ä–æ–∫)

#### 4. –°–æ–∑–¥–∞—Ç—å `risk/RiskManager` (~+800 —Å—Ç—Ä–æ–∫)
**–í—ã–Ω–µ—Å—Ç–∏ –∏–∑ orchestrator:**
- `_check_drawdown_protection` ‚Üí `RiskManager.check_drawdown()`
- `_emergency_stop` ‚Üí `RiskManager.emergency_stop()`
- `_emergency_close_all_positions` ‚Üí `RiskManager.emergency_close_all()`
- `_emergency_actions` ‚Üí `RiskManager.emergency_actions()`
- `_check_emergency_stop_unlock` ‚Üí `RiskManager.check_unlock()`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `RiskManager` —Å—Ç–∞–Ω–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º —Ä–∏—Å–∫–æ–≤ (~1500 —Å—Ç—Ä–æ–∫)

#### 5. –°–æ–∑–¥–∞—Ç—å `config/ConfigManager` (~+600 —Å—Ç—Ä–æ–∫)
**–í—ã–Ω–µ—Å—Ç–∏ –∏–∑ orchestrator:**
- `_get_trailing_sl_params` ‚Üí `ConfigManager.get_trailing_sl_params()`
- `_get_balance_profile` ‚Üí `ConfigManager.get_balance_profile()`
- `_get_regime_params` ‚Üí `ConfigManager.get_regime_params()`
- `_get_adaptive_risk_params` ‚Üí `ConfigManager.get_adaptive_risk_params()`
- `_get_adaptive_delay` ‚Üí `ConfigManager.get_adaptive_delay()`
- `_get_fallback_risk_params` ‚Üí `ConfigManager.get_fallback_risk_params()`
- `_validate_risk_params` ‚Üí `ConfigManager.validate_risk_params()`
- `_get_config_value` ‚Üí `ConfigManager.get_config_value()`
- `_normalize_symbol` ‚Üí `ConfigManager.normalize_symbol()`
- `_load_symbol_profiles` ‚Üí `ConfigManager.load_symbol_profiles()`
- `_get_symbol_regime_profile` ‚Üí `ConfigManager.get_symbol_regime_profile()`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `ConfigManager` —Å—Ç–∞–Ω–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (~1000 —Å—Ç—Ä–æ–∫)

#### 6. –°–æ–∑–¥–∞—Ç—å `indicators/TSLManager` (~+400 —Å—Ç—Ä–æ–∫)
**–í—ã–Ω–µ—Å—Ç–∏ –∏–∑ orchestrator:**
- `_initialize_trailing_stop` ‚Üí `TSLManager.initialize_trailing_stop()`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `TSLManager` —Å—Ç–∞–Ω–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º TSL (~800 —Å—Ç—Ä–æ–∫)

#### 7. –£–ø—Ä–æ—Å—Ç–∏—Ç—å `FuturesScalpingOrchestrator` (~-4000 —Å—Ç—Ä–æ–∫)
**–û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ:**
- `__init__` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
- `start` - –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
- `stop` - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞
- `_initialize_client` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞
- `_initialize_websocket` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è WebSocket
- `_main_trading_loop` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª (—Ç–æ–ª—å–∫–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è)
- `_process_signals` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ (—Ç–æ–ª—å–∫–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è)
- `_update_state` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- `_start_safety_modules` - –∑–∞–ø—É—Å–∫ –º–æ–¥—É–ª–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- `_start_trading_modules` - –∑–∞–ø—É—Å–∫ —Ç–æ—Ä–≥–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π
- `_reset_all_states` - —Å–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏–π

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `FuturesScalpingOrchestrator` —Å—Ç–∞–Ω–µ—Ç –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–æ–º (~2000 —Å—Ç—Ä–æ–∫)

---

## üìä –ò–¢–û–ì–û–í–ê–Ø –°–¢–†–£–ö–¢–£–†–ê –ü–û–°–õ–ï –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê

```
src/strategies/scalping/futures/
‚îú‚îÄ‚îÄ orchestrator.py          # ‚úÖ 2000 —Å—Ç—Ä–æ–∫ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è)
‚îú‚îÄ‚îÄ signal_orchestrator.py   # ‚úÖ 1500 —Å—Ç—Ä–æ–∫ (NEW!)
‚îú‚îÄ‚îÄ order_executor.py        # ‚úÖ 1000 —Å—Ç—Ä–æ–∫ (—Ä–∞—Å—à–∏—Ä–µ–Ω)
‚îú‚îÄ‚îÄ position_manager.py      # ‚úÖ 2000 —Å—Ç—Ä–æ–∫ (—Ä–∞—Å—à–∏—Ä–µ–Ω)
‚îÇ
‚îú‚îÄ‚îÄ config/                  # ‚úÖ NEW!
‚îÇ   ‚îî‚îÄ‚îÄ config_manager.py    # ‚úÖ 1000 —Å—Ç—Ä–æ–∫
‚îÇ
‚îú‚îÄ‚îÄ indicators/              
‚îÇ   ‚îú‚îÄ‚îÄ tsl_manager.py       # ‚úÖ 800 —Å—Ç—Ä–æ–∫ (NEW!)
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ risk/                    
‚îÇ   ‚îú‚îÄ‚îÄ risk_manager.py      # ‚úÖ 1500 —Å—Ç—Ä–æ–∫ (NEW!)
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îî‚îÄ‚îÄ ...
```

---

## üéØ –ü–õ–ê–ù –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê

### ‚úÖ –≠—Ç–∞–ø 1: –†–∞—Å—à–∏—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–æ–¥—É–ª–∏ (1-2 –Ω–µ–¥–µ–ª–∏)
1. –†–∞—Å—à–∏—Ä–∏—Ç—å `PositionManager` - –≤—ã–Ω–µ—Å—Ç–∏ –≤—Å—é –ª–æ–≥–∏–∫—É –ø–æ–∑–∏—Ü–∏–π
2. –†–∞—Å—à–∏—Ä–∏—Ç—å `OrderExecutor` - –≤—ã–Ω–µ—Å—Ç–∏ –≤—Å—é –ª–æ–≥–∏–∫—É –æ—Ä–¥–µ—Ä–æ–≤
3. –°–æ–∑–¥–∞—Ç—å `SignalOrchestrator` - –≤—ã–Ω–µ—Å—Ç–∏ –≤—Å—é –ª–æ–≥–∏–∫—É —Å–∏–≥–Ω–∞–ª–æ–≤

### ‚úÖ –≠—Ç–∞–ø 2: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ –º–æ–¥—É–ª–∏ (1-2 –Ω–µ–¥–µ–ª–∏)
4. –°–æ–∑–¥–∞—Ç—å `risk/RiskManager` - –≤—ã–Ω–µ—Å—Ç–∏ –≤—Å—é –ª–æ–≥–∏–∫—É —Ä–∏—Å–∫–æ–≤
5. –°–æ–∑–¥–∞—Ç—å `config/ConfigManager` - –≤—ã–Ω–µ—Å—Ç–∏ –≤—Å—é –ª–æ–≥–∏–∫—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
6. –°–æ–∑–¥–∞—Ç—å `indicators/TSLManager` - –≤—ã–Ω–µ—Å—Ç–∏ –≤—Å—é –ª–æ–≥–∏–∫—É TSL

### ‚úÖ –≠—Ç–∞–ø 3: –£–ø—Ä–æ—Å—Ç–∏—Ç—å orchestrator (1 –Ω–µ–¥–µ–ª—è)
7. –£–ø—Ä–æ—Å—Ç–∏—Ç—å `FuturesScalpingOrchestrator` - –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é
8. –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
9. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üìà –û–¶–ï–ù–ö–ê –≠–§–§–ï–ö–¢–ò–í–ù–û–°–¢–ò

### üî¥ –î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:
- **Orchestrator:** 6,098 —Å—Ç—Ä–æ–∫ (God Object)
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
- **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:** –û—á–µ–Ω—å –Ω–∏–∑–∫–∞—è
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è

### üü¢ –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:
- **Orchestrator:** 2,000 —Å—Ç—Ä–æ–∫ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä)
- **PositionManager:** 2,000 —Å—Ç—Ä–æ–∫ (–º–µ–Ω–µ–¥–∂–µ—Ä –ø–æ–∑–∏—Ü–∏–π)
- **SignalOrchestrator:** 1,500 —Å—Ç—Ä–æ–∫ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä —Å–∏–≥–Ω–∞–ª–æ–≤)
- **OrderExecutor:** 1,000 —Å—Ç—Ä–æ–∫ (–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –æ—Ä–¥–µ—Ä–æ–≤)
- **RiskManager:** 1,500 —Å—Ç—Ä–æ–∫ (–º–µ–Ω–µ–¥–∂–µ—Ä —Ä–∏—Å–∫–æ–≤)
- **ConfigManager:** 1,000 —Å—Ç—Ä–æ–∫ (–º–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
- **TSLManager:** 800 —Å—Ç—Ä–æ–∫ (–º–µ–Ω–µ–¥–∂–µ—Ä TSL)

**–ò—Ç–æ–≥–æ:** ~10,000 —Å—Ç—Ä–æ–∫ –≤ 7 —Ñ–∞–π–ª–∞—Ö (~1,400 —Å—Ç—Ä–æ–∫ –Ω–∞ —Ñ–∞–π–ª)

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –°–æ–±–ª—é–¥–µ–Ω–∏–µ Single Responsibility Principle
- ‚úÖ –õ–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –æ—Ç–¥–µ–ª—å–Ω–æ
- ‚úÖ –õ–µ–≥—á–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è—Ç—å
- ‚úÖ –ú–µ–Ω—å—à–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ –≤ –∫–æ–º–∞–Ω–¥–µ
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞

---

## üéØ –í–´–í–û–î

### ‚úÖ –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê –£–ñ–ï –ü–û–î–†–ê–ó–£–ú–ï–í–ê–ï–¢ –ú–û–î–£–õ–¨–ù–û–°–¢–¨!

**–ü—Ä–æ–±–ª–µ–º–∞:** `orchestrator.py` –Ω–∞—Ä—É—à–∞–µ—Ç —ç—Ç—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, —Å–æ–¥–µ—Ä–∂–∞ –≤—Å—é –ª–æ–≥–∏–∫—É –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ.

**–†–µ—à–µ–Ω–∏–µ:** –í—ã–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–æ–¥—É–ª–∏ (`PositionManager`, `OrderExecutor`) –∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ –º–æ–¥—É–ª–∏ (`SignalOrchestrator`, `RiskManager`, `ConfigManager`, `TSLManager`), —Å–ª–µ–¥—É—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Orchestrator —Å—Ç–∞–Ω–µ—Ç –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–æ–º (~2000 —Å—Ç—Ä–æ–∫), –∞ –≤—Å—è –ª–æ–≥–∏–∫–∞ –±—É–¥–µ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –ø–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –º–æ–¥—É–ª—è–º.

---

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—á–∞—Ç—å —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è `PositionManager` - —ç—Ç–æ –¥–∞—Å—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö —Ä–∏—Å–∫–∞—Ö, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ—Ç –º–æ–¥—É–ª—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.



