# üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ê–ù–ê–õ–ò–ó –ü–†–û–¢–ò–í–û–ü–û–õ–û–ñ–ù–´–• –ü–û–ó–ò–¶–ò–ô

**–î–∞—Ç–∞:** 2025-11-18  
**–°—Ç–∞—Ç—É—Å:** –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

---

## üîç –ù–ê–ô–î–ï–ù–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

### **BTC-USDT: –î–í–ï –ü–†–û–¢–ò–í–û–ü–û–õ–û–ñ–ù–´–ï –ü–û–ó–ò–¶–ò–ò –û–î–ù–û–í–†–ï–ú–ï–ù–ù–û**

**–ò–∑ –ª–æ–≥–æ–≤:**
```
‚ö†Ô∏è –ü–æ–∑–∏—Ü–∏—è BTC-USDT SHORT –£–ñ–ï –û–¢–ö–†–´–¢–ê (size=0.06), –ë–õ–û–ö–ò–†–£–ï–ú –Ω–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã (allow_concurrent=false). 
–ü–æ–∑–∏—Ü–∏–∏: ['BTC-USDT-SWAP: 0.06 (posSide=short)', 'BTC-USDT-SWAP: 0.06 (posSide=long)']
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- ‚úÖ LONG –ø–æ–∑–∏—Ü–∏—è: `0.06 (posSide=long)`
- ‚úÖ SHORT –ø–æ–∑–∏—Ü–∏—è: `0.06 (posSide=short)`
- ‚ùå **–û–ë–ï –ø–æ–∑–∏—Ü–∏–∏ –æ—Ç–∫—Ä—ã—Ç—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ!**

**–í –∫–æ–Ω—Ñ–∏–≥–µ:**
- `allow_concurrent_positions: false` - –¥–æ–ª–∂–Ω–æ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏

---

### **XRP-USDT: –î–í–ï –ü–†–û–¢–ò–í–û–ü–û–õ–û–ñ–ù–´–ï –ü–û–ó–ò–¶–ò–ò –û–î–ù–û–í–†–ï–ú–ï–ù–ù–û**

**–ò–∑ –ª–æ–≥–æ–≤:**
```
‚ö†Ô∏è –ü–æ–∑–∏—Ü–∏—è XRP-USDT SHORT –£–ñ–ï –û–¢–ö–†–´–¢–ê (size=0.53), –ë–õ–û–ö–ò–†–£–ï–ú –Ω–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã (allow_concurrent=false). 
–ü–æ–∑–∏—Ü–∏–∏: ['XRP-USDT-SWAP: 0.53 (posSide=short)', 'XRP-USDT-SWAP: 0.89 (posSide=long)']
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- ‚úÖ LONG –ø–æ–∑–∏—Ü–∏—è: `0.89 (posSide=long)`
- ‚úÖ SHORT –ø–æ–∑–∏—Ü–∏—è: `0.53 (posSide=short)`
- ‚ùå **–û–ë–ï –ø–æ–∑–∏—Ü–∏–∏ –æ—Ç–∫—Ä—ã—Ç—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ!**

---

### **ETH-USDT, SOL-USDT, DOGE-USDT: –¢–æ–ª—å–∫–æ –æ–¥–Ω–∞ –ø–æ–∑–∏—Ü–∏—è**

**ETH-USDT:**
- ‚úÖ –¢–æ–ª—å–∫–æ LONG: `0.81 (posSide=long)` - –ù–û–†–ú–ê–õ–¨–ù–û

**SOL-USDT:**
- ‚úÖ –¢–æ–ª—å–∫–æ SHORT: `0.93 (posSide=short)` - –ù–û–†–ú–ê–õ–¨–ù–û

**DOGE-USDT:**
- ‚úÖ –ù–µ—Ç –ø–æ–∑–∏—Ü–∏–π –≤ –ª–æ–≥–∞—Ö - –ù–û–†–ú–ê–õ–¨–ù–û

---

## üîç –ê–ù–ê–õ–ò–ó –ö–û–î–ê

### **–®–ê–ì 1: –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–∑–∏—Ü–∏–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ**

**–ú–µ—Ç–æ–¥:** `orchestrator._load_existing_positions()`

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç **–í–°–ï** –ø–æ–∑–∏—Ü–∏–∏ —Å –±–∏—Ä–∂–∏ (—Å—Ç—Ä–æ–∫–∞ 828)
- –î–ª—è –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ `active_positions` (—Å—Ç—Ä–æ–∫–∞ 888-898)
- **–ù–ï –ø—Ä–æ–≤–µ—Ä—è–µ—Ç** –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏
- **–ù–ï –∑–∞–∫—Ä—ã–≤–∞–µ—Ç** –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏

**–ö–æ–¥:** `orchestrator.py:822-929`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ –Ω–∞ –±–∏—Ä–∂–µ —É–∂–µ –±—ã–ª–∏ LONG –∏ SHORT –ø–æ–∑–∏—Ü–∏–∏, –±–æ—Ç –∏—Ö –∑–∞–≥—Ä—É–∂–∞–µ—Ç –æ–±–µ!

---

### **–®–ê–ì 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–æ–≤**

**–ú–µ—Ç–æ–¥:** `orchestrator._check_for_signals(symbol, price)`

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ —Å –±–∏—Ä–∂–∏ (—Å—Ç—Ä–æ–∫–∞ 2468)
2. –§–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ —Å–∏–º–≤–æ–ª—É (—Å—Ç—Ä–æ–∫–∞ 2476-2492)
3. –ï—Å–ª–∏ –µ—Å—Ç—å –ø–æ–∑–∏—Ü–∏–∏ (—Å—Ç—Ä–æ–∫–∞ 2509):
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `allow_concurrent` (—Å—Ç—Ä–æ–∫–∞ 2522)
   - –ï—Å–ª–∏ `allow_concurrent=false` ‚Üí –±–ª–æ–∫–∏—Ä—É–µ—Ç **–í–°–ï** —Å–∏–≥–Ω–∞–ª—ã (—Å—Ç—Ä–æ–∫–∞ 2532)
   - **–ù–û –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ!**

**–ö–æ–¥:** `orchestrator.py:2466-2537`

**–ü—Ä–æ–±–ª–µ–º–∞:** 
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã, –µ—Å–ª–∏ –µ—Å—Ç—å –õ–Æ–ë–ê–Ø –ø–æ–∑–∏—Ü–∏—è
- **–ù–û –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏, –µ—Å–ª–∏ –æ–Ω–∏ —É–∂–µ –µ—Å—Ç—å**

---

### **–®–ê–ì 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–∏**

**–ú–µ—Ç–æ–¥:** `orchestrator._execute_signal_from_price(symbol, price, signal)`

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ —Å –±–∏—Ä–∂–∏ (—Å—Ç—Ä–æ–∫–∞ 2705)
2. –î–ª—è –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏ –ø–æ —Å–∏–º–≤–æ–ª—É (—Å—Ç—Ä–æ–∫–∞ 2706-2723):
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ (—Å—Ç—Ä–æ–∫–∞ 2724-2731)
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `allow_concurrent` (—Å—Ç—Ä–æ–∫–∞ 2733-2738)
   - –ï—Å–ª–∏ –ø–æ–∑–∏—Ü–∏—è –≤ –¢–û–ú –ñ–ï –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ ‚Üí –±–ª–æ–∫–∏—Ä—É–µ—Ç (—Å—Ç—Ä–æ–∫–∞ 2740-2746)
   - –ï—Å–ª–∏ –ø–æ–∑–∏—Ü–∏—è –≤ –ü–†–û–¢–ò–í–û–ü–û–õ–û–ñ–ù–û–ú –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ò `allow_concurrent=false` ‚Üí –±–ª–æ–∫–∏—Ä—É–µ—Ç (—Å—Ç—Ä–æ–∫–∞ 2747-2753)

**–ö–æ–¥:** `orchestrator.py:2696-2788`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ü–ï–†–ï–î –æ—Ç–∫—Ä—ã—Ç–∏–µ–º
- **–ù–û –µ—Å–ª–∏ –ø–æ–∑–∏—Ü–∏–∏ —É–∂–µ –æ—Ç–∫—Ä—ã—Ç—ã (–∑–∞–≥—Ä—É–∂–µ–Ω—ã –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ), –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –∏—Ö**

---

## üö® –ö–û–†–ù–ï–í–ê–Ø –ü–†–ò–ß–ò–ù–ê

### **–ü—Ä–æ–±–ª–µ–º–∞ #1: –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ**

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ù–∞ –±–∏—Ä–∂–µ –æ—Ç–∫—Ä—ã—Ç—ã LONG –∏ SHORT –ø–æ–∑–∏—Ü–∏–∏ –¥–ª—è BTC-USDT –∏ XRP-USDT
2. –ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
3. `_load_existing_positions()` –∑–∞–≥—Ä—É–∂–∞–µ—Ç **–í–°–ï** –ø–æ–∑–∏—Ü–∏–∏ —Å –±–∏—Ä–∂–∏
4. –î–æ–±–∞–≤–ª—è–µ—Ç –æ–±–µ –ø–æ–∑–∏—Ü–∏–∏ –≤ `active_positions`
5. **–ù–ï –ø—Ä–æ–≤–µ—Ä—è–µ—Ç** –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏
6. **–ù–ï –∑–∞–∫—Ä—ã–≤–∞–µ—Ç** –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø–æ–∑–∏—Ü–∏–π –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–µ
- –ï—Å–ª–∏ `allow_concurrent=false` –∏ –µ—Å—Ç—å –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–µ ‚Üí –∑–∞–∫—Ä—ã–≤–∞—Ç—å –æ–¥–Ω—É –∏–∑ –Ω–∏—Ö

---

### **–ü—Ä–æ–±–ª–µ–º–∞ #2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏**

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ü–æ–∑–∏—Ü–∏–∏ —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ `active_positions`
2. –ù–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è
3. `_check_for_signals()` –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–∏–≥–Ω–∞–ª (–µ—Å–ª–∏ –µ—Å—Ç—å –ª—é–±–∞—è –ø–æ–∑–∏—Ü–∏—è)
4. `_execute_signal_from_price()` –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Ç–∫—Ä—ã—Ç–∏–µ (–µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–∞—è)
5. **–ù–û –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—É—é –ø–æ–∑–∏—Ü–∏—é**

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ ‚Üí –∑–∞–∫—Ä—ã–≤–∞—Ç—å –µ–µ –ø–µ—Ä–µ–¥ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º –Ω–æ–≤–æ–π
- –ò–ª–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç–∏–µ, –µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–∞—è (–µ—Å–ª–∏ `allow_concurrent=false`)

---

## üìã –°–ü–ò–°–û–ö TODO

### **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï (–∏—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ):**

1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ**
   - –§–∞–π–ª: `orchestrator.py:_load_existing_positions()`
   - –ó–∞–¥–∞—á–∞: –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø–æ–∑–∏—Ü–∏–π –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–µ
   - –ï—Å–ª–∏ `allow_concurrent=false` –∏ –µ—Å—Ç—å –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–µ ‚Üí –∑–∞–∫—Ä—ã–≤–∞—Ç—å –æ–¥–Ω—É –∏–∑ –Ω–∏—Ö (—Å –º–µ–Ω—å—à–∏–º PnL –∏–ª–∏ –±–æ–ª–µ–µ –ø–æ–∑–¥–Ω—é—é)
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô**

2. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏**
   - –§–∞–π–ª: `orchestrator.py:_execute_signal_from_price()`
   - –ó–∞–¥–∞—á–∞: –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫—Ä—ã–≤–∞—Ç—å –µ–µ –ø–µ—Ä–µ–¥ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º –Ω–æ–≤–æ–π (–µ—Å–ª–∏ `allow_concurrent=false`)
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô**

3. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤ `_check_for_signals`**
   - –§–∞–π–ª: `orchestrator.py:_check_for_signals()`
   - –ó–∞–¥–∞—á–∞: –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π –∑–∞–∫—Ä—ã–≤–∞—Ç—å –æ–¥–Ω—É –∏–∑ –Ω–∏—Ö (–µ—Å–ª–∏ `allow_concurrent=false`)
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô**

4. **–£–±—Ä–∞—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É `min_holding_minutes` –¥–ª—è TP**
   - –§–∞–π–ª: `trailing_stop_loss.py:should_close_position()`
   - –ó–∞–¥–∞—á–∞: TP –¥–æ–ª–∂–µ–Ω –∑–∞–∫—Ä—ã–≤–∞—Ç—å –ø–æ–∑–∏—Ü–∏—é –°–†–ê–ó–£ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç `min_holding_minutes`
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô**

5. **–£–±—Ä–∞—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É `min_holding_minutes` –¥–ª—è loss_cut –ø–æ—Å–ª–µ `min_critical_hold_seconds`**
   - –§–∞–π–ª: `trailing_stop_loss.py:should_close_position()`
   - –ó–∞–¥–∞—á–∞: loss_cut –¥–æ–ª–∂–µ–Ω –∑–∞–∫—Ä—ã–≤–∞—Ç—å –ø–æ–∑–∏—Ü–∏—é –°–†–ê–ó–£ –ø–æ—Å–ª–µ `min_critical_hold_seconds`, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç `min_holding_minutes`
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô**

6. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞–∫—Ä—ã—Ç–∏—è: TP ‚Üí Loss Cut ‚Üí TSL**
   - –§–∞–π–ª: `position_manager.py:_check_tp_only()`, `orchestrator.py:_update_trailing_stop_loss()`
   - –ó–∞–¥–∞—á–∞: –ü—Ä–æ–≤–µ—Ä—è—Ç—å TP –ü–ï–†–í–´–ú, –∑–∞—Ç–µ–º Loss Cut, –∑–∞—Ç–µ–º TSL
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô**

---

### **–í–ê–ñ–ù–´–ï (–∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö):**

7. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É `safety_threshold` –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞**
   - –§–∞–π–ª: `margin_calculator.py:is_position_safe()`
   - –ó–∞–¥–∞—á–∞: –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å `safety_threshold` –∏–∑ `margin_config.by_regime.{regime}.safety_threshold`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø `margin_config` (dict –∏–ª–∏ Pydantic –æ–±—ä–µ–∫—Ç)
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: **–í–ê–ñ–ù–´–ô**

8. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ `equity` –∏–∑ –ø–æ–∑–∏—Ü–∏–∏**
   - –§–∞–π–ª: `position_manager.py:_check_position_safety()`
   - –ó–∞–¥–∞—á–∞: –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–ª—É—á–∞—Ç—å `equity` –∏–∑ API –ø–æ–∑–∏—Ü–∏–∏ (`eq` –∏–ª–∏ `margin + upl`)
   - Fallback –Ω–∞ –æ–±—â–∏–π –±–∞–ª–∞–Ω—Å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: **–í–ê–ñ–ù–´–ô**

9. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ per-regime TP**
   - –§–∞–π–ª: `position_manager.py:_check_tp_only()`
   - –ó–∞–¥–∞—á–∞: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ª–∏ `regime` –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–∏
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ª–∏ `regime` –≤ `_check_tp_only`
   - –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ per-regime TP –ø—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: **–í–ê–ñ–ù–´–ô**

10. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π –≤ `_process_signals`**
    - –§–∞–π–ª: `orchestrator.py:_process_signals()`
    - –ó–∞–¥–∞—á–∞: –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π –∑–∞–∫—Ä—ã–≤–∞—Ç—å –æ–¥–Ω—É –∏–∑ –Ω–∏—Ö (–µ—Å–ª–∏ `allow_concurrent=false`)
    - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: **–í–ê–ñ–ù–´–ô**

---

### **–£–õ–£–ß–®–ï–ù–ò–Ø (–ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏ –≤–∞–∂–Ω—ã—Ö):**

11. **–£–º–µ–Ω—å—à–∏—Ç—å `min_holding_minutes` –¥–ª—è `ranging` —Ä–µ–∂–∏–º–∞**
    - –§–∞–π–ª: `config_futures.yaml`
    - –ó–∞–¥–∞—á–∞: –£–º–µ–Ω—å—à–∏—Ç—å `min_holding_minutes` –¥–ª—è `ranging` —Å 2.0 –¥–æ 1.0 –º–∏–Ω
    - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: **–°–†–ï–î–ù–ò–ô**

12. **–£–≤–µ–ª–∏—á–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É –ø—Ä–æ–≤–µ—Ä–∫–∏ TSL**
    - –§–∞–π–ª: `config_futures.yaml`
    - –ó–∞–¥–∞—á–∞: –£–º–µ–Ω—å—à–∏—Ç—å `check_interval_seconds` –¥–ª—è `ranging` —Å 1.0 –¥–æ 0.5 —Å–µ–∫
    - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: **–°–†–ï–î–ù–ò–ô**

13. **–î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏—á–∏–Ω –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π**
    - –§–∞–π–ª: `position_manager.py`, `orchestrator.py`
    - –ó–∞–¥–∞—á–∞: –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏—á–∏–Ω—É –∑–∞–∫—Ä—ã—Ç–∏—è –≤–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö
    - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: **–ù–ò–ó–ö–ò–ô**

14. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø–∏—Å—å `reason` –≤ CSV**
    - –§–∞–π–ª: `performance_tracker.py`
    - –ó–∞–¥–∞—á–∞: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `reason` –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
    - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: **–ù–ò–ó–ö–ò–ô**

---

## üéØ –ü–†–ò–û–†–ò–¢–ï–¢–´ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

### **–§–ê–ó–ê 1: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï (–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ)**
1. ‚úÖ –ü—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
2. ‚úÖ –ü—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
3. ‚úÖ –ü—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –≤ `_check_for_signals`
4. ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ `min_holding_minutes` –¥–ª—è TP
5. ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ `min_holding_minutes` –¥–ª—è loss_cut
6. ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞–∫—Ä—ã—Ç–∏—è: TP ‚Üí Loss Cut ‚Üí TSL

### **–§–ê–ó–ê 2: –í–ê–ñ–ù–´–ï (–ø–æ—Å–ª–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö)**
7. ‚úÖ `safety_threshold` –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
8. ‚úÖ `equity` –∏–∑ –ø–æ–∑–∏—Ü–∏–∏
9. ‚úÖ Per-regime TP
10. ‚úÖ –ü—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –≤ `_process_signals`

### **–§–ê–ó–ê 3: –£–õ–£–ß–®–ï–ù–ò–Ø (–ø–æ—Å–ª–µ –≤–∞–∂–Ω—ã—Ö)**
11. ‚úÖ `min_holding_minutes` –¥–ª—è `ranging`
12. ‚úÖ –ß–∞—Å—Ç–æ—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ TSL
13. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏—á–∏–Ω –∑–∞–∫—Ä—ã—Ç–∏—è
14. ‚úÖ –ó–∞–ø–∏—Å—å `reason` –≤ CSV

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–†–û–¢–ò–í–û–ü–û–õ–û–ñ–ù–´–• –ü–û–ó–ò–¶–ò–ô

| –°–∏–º–≤–æ–ª | LONG | SHORT | –ü—Ä–æ–±–ª–µ–º–∞ |
|--------|------|-------|----------|
| **BTC-USDT** | ‚úÖ 0.06 | ‚úÖ 0.06 | ‚ùå **–û–ë–ï –æ—Ç–∫—Ä—ã—Ç—ã** |
| **ETH-USDT** | ‚úÖ 0.81 | ‚ùå - | ‚úÖ –ù–æ—Ä–º–∞–ª—å–Ω–æ |
| **SOL-USDT** | ‚ùå - | ‚úÖ 0.93 | ‚úÖ –ù–æ—Ä–º–∞–ª—å–Ω–æ |
| **DOGE-USDT** | ‚ùå - | ‚ùå - | ‚úÖ –ù–æ—Ä–º–∞–ª—å–Ω–æ |
| **XRP-USDT** | ‚úÖ 0.89 | ‚úÖ 0.53 | ‚ùå **–û–ë–ï –æ—Ç–∫—Ä—ã—Ç—ã** |

**–í—ã–≤–æ–¥:** 
- **2 –∏–∑ 5 –ø–∞—Ä** –∏–º–µ—é—Ç –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- **BTC-USDT** –∏ **XRP-USDT** —Ç—Ä–µ–±—É—é—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-18  
**–°—Ç–∞—Ç—É—Å:** –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

