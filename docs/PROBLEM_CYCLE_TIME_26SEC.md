# ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê –ù–ê–ô–î–ï–ù–ê: –¶–∏–∫–ª —Ç–æ—Ä–≥–æ–≤–ª–∏ 26 —Å–µ–∫ –≤–º–µ—Å—Ç–æ 1-2 —Å–µ–∫!

## üî¥ –ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ

–í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ —á—Ç–æ **—Ü–∏–∫–ª TradingControlCenter –∑–∞–Ω–∏–º–∞–ª 26+ —Å–µ–∫—É–Ω–¥** –≤–º–µ—Å—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö 1-2 —Å–µ–∫:

```
‚ö†Ô∏è TCC: –ú–µ–¥–ª–µ–Ω–Ω—ã–π —Ü–∏–∫–ª 26000ms (–ø–æ—Ä–æ–≥: 5000ms)
```

–≠—Ç–æ –ö–†–ò–¢–ò–ß–ù–û –ø–æ—Ç–æ–º—É —á—Ç–æ:
- ‚ùå –ë–æ—Ç **–Ω–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –≤–æ–≤—Ä–µ–º—è** –Ω–∞ —Ä—ã–Ω–æ—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- ‚ùå –°–∏–≥–Ω–∞–ª—ã **–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π** –≤ 26 —Å–µ–∫!
- ‚ùå **–°–ö–ê–õ–¨–ü–ò–ù–ì –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω** - –Ω—É–∂–Ω–æ < 1 —Å–µ–∫

---

## üéØ –ü–†–ò–ß–ò–ù–ê

–ù–∞—à–µ **—É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å–≤–µ—á–µ–π 200 ‚Üí 500** –º–æ–∂–µ—Ç –∑–∞–º–µ–¥–ª–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã!

–ö–∞–∂–¥—ã–π —Å–∏–º–≤–æ–ª, –∫–∞–∂–¥—ã–π —Ç–∞–π–º—Ñ—Ä–µ–π–º:
- **ATR —Ä–∞—Å—á–µ—Ç**: 500 —Å–≤–µ—á–µ–π √ó 14 period = –º–µ–¥–ª–µ–Ω–Ω–µ–µ
- **MACD —Ä–∞—Å—á–µ—Ç**: 500 —Å–≤–µ—á–µ–π √ó 26-12 period = –º–µ–¥–ª–µ–Ω–Ω–µ–µ
- **Bollinger Bands**: 500 —Å–≤–µ—á–µ–π √ó 20 period = –º–µ–¥–ª–µ–Ω–Ω–µ–µ
- **ADX**: 500 —Å–≤–µ—á–µ–π √ó 9 period = –º–µ–¥–ª–µ–Ω–Ω–µ–µ

---

## ‚úÖ –†–ï–®–ï–ù–ò–Ø

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ë–´–°–¢–†–´–ô FIX - –£–º–µ–Ω—å—à–∏—Ç—å –±—É—Ñ–µ—Ä —Ö—Ä–∞–Ω–µ–Ω–∏—è (–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é)

–ó–∞–≥—Ä—É–∂–∞–µ–º 500 —Å–≤–µ—á–µ–π –¥–ª—è **–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏** (–ø—Ä–æ–≥—Ä–µ–≤ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤), –Ω–æ **—Ö—Ä–∞–Ω–∏–º–≤ –±—É—Ñ–µ—Ä–µ —Ç–æ–ª—å–∫–æ 200**:

```python
# –í orchestrator.py _initialize_candle_buffers():

timeframes_config = [
    {
        "timeframe": "1m",
        "limit": 500,        # ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ–º 500 –¥–ª—è –ø—Ä–æ–≥—Ä–µ–≤–∞
        "max_size": 200,     # ‚ö° –ù–æ –≤ –±—É—Ñ–µ—Ä–µ –¥–µ—Ä–∂–∏–º —Ç–æ–ª—å–∫–æ 200 (–±—ã—Å—Ç—Ä–æ!)
    },
]
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ (200 —Å–≤–µ—á–µ–π –≤–º–µ—Å—Ç–æ 500)
- ‚úÖ –•–æ—Ä–æ—à–∏–π –ø—Ä–æ–≥—Ä–µ–≤ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ (500 —Å–≤–µ—á–µ–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ)
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –°—Ç–∞—Ä—ã–µ —Å–≤–µ—á–∏ –≤—ã–±—Ä–æ—Å—è—Ç—Å—è –∏–∑ –ø–∞–º—è—Ç–∏ (–Ω–æ —ç—Ç–æ OK, –Ω–∞–º –Ω–µ –Ω—É–∂–Ω—ã –¥–∞–Ω–Ω—ã–µ 8+ —á–∞—Å–æ–≤ –¥–∞–≤–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞)

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø - Cacheable Indicator Calculations

–ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤, –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–æ–≤–æ–π —Å–≤–µ—á–µ:

```python
# –í IndicatorManager –¥–æ–±–∞–≤–∏—Ç—å –∫—ç—à:
if last_candle_timestamp == current_timestamp:
    return cached_indicators  # –í–µ—Ä–Ω—É—Ç—å –∫—ç—à –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ—Å—á–µ—Ç–∞
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–ê–†–ê–õ–õ–ï–õ–¨–ù–´–ô –†–ê–°–ß–ï–¢ - Asyncio –¥–ª—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤

–†–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ:

```python
# –í–º–µ—Å—Ç–æ:
for symbol in symbols:
    indicators = calculate(symbol)  # –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (–º–µ–¥–ª–µ–Ω–Ω–æ)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
tasks = [calculate(symbol) for symbol in symbols]
results = await asyncio.gather(*tasks)  # –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (–±—ã—Å—Ç—Ä–æ)
```

---

## üìä –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø

**–ò—Å–ø–æ–ª—å–∑—É–µ–º –í–∞—Ä–∏–∞–Ω—Ç 1 (–ë–´–°–¢–†–´–ô FIX):**

–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ:
- Max_size: 200 ‚Üí 200 –≤ –±—É—Ñ–µ—Ä–µ
- Limit: 500 ‚Üí –æ—Å—Ç–∞–µ—Ç—Å—è 500 –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚è±Ô∏è –¶–∏–∫–ª: 26 —Å–µ–∫ ‚Üí 1-2 —Å–µ–∫ ‚úÖ
- üíæ –ü–∞–º—è—Ç—å: –Ω–µ–∏–∑–º–µ–Ω–Ω–∞
- üìä –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã: —Ö–æ—Ä–æ—à–∏–π –ø—Ä–æ–≥—Ä–µ–≤

---

## üîç –ü–†–û–í–ï–†–ö–ê –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∏–º –ª–æ–≥–∏:

```bash
grep "TCC Performance" logs/futures/futures_main_*.log | head -20
```

–î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å:
- cycle=800-1500ms ‚úÖ (—Ö–æ—Ä–æ—à–æ)
- –ù–∏–∫–∞–∫–∏—Ö > 5000ms –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π

