# ‚úÖ –°–¢–ê–¢–£–° DEBUG –õ–û–ì–ò–†–û–í–ê–ù–ò–Ø

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 22.11.2025 10:32  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ê–ë–û–¢–ê–ï–¢, –û–ñ–ò–î–ê–ï–¢ –û–¢–ö–†–´–¢–ò–Ø –ü–û–ó–ò–¶–ò–ô

---

## üìä –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï

### ‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢:

1. **DebugLogger –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω:**
   ```
   ‚úÖ DebugLogger –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω: CSV –≤ logs\futures\debug
   ```

2. **CSV —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω:**
   ```
   logs/futures/debug/debug_20251122_103100.csv
   ```

3. **–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–∏–≥–Ω–∞–ª—ã
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–∑–∏—Ü–∏–∏
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å –±–∏—Ä–∂–µ–π

### ‚è≥ –û–ñ–ò–î–ê–ï–¢–°–Ø:

**CSV —Ñ–∞–π–ª –ø—É—Å—Ç–æ–π (0 –±–∞–π—Ç)** - —ç—Ç–æ **–ù–û–†–ú–ê–õ–¨–ù–û**!

**–ü–æ—á–µ–º—É:**
- DebugLogger –ª–æ–≥–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ **–∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è**:
  - ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ TSL (–∫–æ–≥–¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ–∑–∏—Ü–∏—è)
  - ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞ (–ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ TSL)
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ TSL (–∫–æ–≥–¥–∞ –ø–æ–∑–∏—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∞)
  - ‚úÖ –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–π

- **–ü–æ–∫–∞ –ø–æ–∑–∏—Ü–∏–∏ –Ω–µ –æ—Ç–∫—Ä—ã—Ç—ã** - –ª–æ–≥–∏ –Ω–µ –ø–∏—à—É—Ç—Å—è!

---

## üéØ –ö–û–ì–î–ê –ü–û–Ø–í–Ø–¢–°–Ø –õ–û–ì–ò

### –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–∏:

1. **–°–æ–∑–¥–∞–Ω–∏–µ TSL:**
   ```
   event_type: tsl_create
   data: entry=84329.1|min_hold=40.0|timeout=90
   ```

2. **–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞:**
   ```
   event_type: config
   data: min_hold=40.0|timeout=90|loss_cut=1.5
   ```

### –ü—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ TSL (–∫–∞–∂–¥—ã–µ 1-2 —Å–µ–∫—É–Ω–¥—ã):

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ min_holding:**
   ```
   event_type: tsl_check
   data: check=min_holding_BLOCKED|minutes=1.0
   ```

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ loss_cut:**
   ```
   event_type: tsl_check
   data: check=loss_cut|profit=-0.5%|close=False
   ```

5. **–ü—Ä–æ–≤–µ—Ä–∫–∞ timeout:**
   ```
   event_type: tsl_check
   data: check=timeout|minutes=45|close=False
   ```

### –ü—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–∏:

6. **–ó–∞–∫—Ä—ã—Ç–∏–µ:**
   ```
   event_type: close
   data: reason=loss_cut|time_min=4.78|pnl_pct=-2.06%
   ```

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê

### –°–µ–π—á–∞—Å:

```bash
# CSV —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω, –Ω–æ –ø—É—Å—Ç–æ–π - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!
dir logs\futures\debug\*.csv
# debug_20251122_103100.csv (0 –±–∞–π—Ç) ‚Üê –û–ñ–ò–î–ê–ï–¢ –û–¢–ö–†–´–¢–ò–Ø –ü–û–ó–ò–¶–ò–ô
```

### –ü–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
dir logs\futures\debug\*.csv

# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å > 0 –±–∞–π—Ç
# –û—Ç–∫—Ä—ã—Ç—å –≤ Excel –∏ —É–≤–∏–¥–µ—Ç—å –ª–æ–≥–∏!
```

---

## üöÄ –ß–¢–û –î–ï–õ–ê–¢–¨

### 1. **–ü–æ–¥–æ–∂–¥–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏:**
   - –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –ö–æ–≥–¥–∞ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–æ–∑–∏—Ü–∏—è - –ª–æ–≥–∏ –Ω–∞—á–Ω—É—Ç –ø–∏—Å–∞—Ç—å—Å—è

### 2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ 5-10 –º–∏–Ω—É—Ç:**
   ```bash
   dir logs\futures\debug\*.csv
   # –ï—Å–ª–∏ —Ñ–∞–π–ª > 0 –±–∞–π—Ç - –ª–æ–≥–∏ –ø–∏—à—É—Ç—Å—è!
   ```

### 3. **–û—Ç–∫—Ä—ã—Ç—å CSV –≤ Excel:**
   ```
   logs/futures/debug/debug_YYYYMMDD_HHMMSS.csv
   ```

### 4. **–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å:**
   - –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ `event_type = close`
   - –°–º–æ—Ç—Ä–µ—Ç—å `reason` - –ø–æ—á–µ–º—É –∑–∞–∫—Ä—ã–ª–∏?
   - –°—Ä–∞–≤–Ω–∏–≤–∞—Ç—å `time_min` —Å –∫–æ–Ω—Ñ–∏–≥–æ–º

---

## ‚úÖ –ò–¢–û–ì

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–Å –†–ê–ë–û–¢–ê–ï–¢ –ü–†–ê–í–ò–õ–¨–ù–û!

- ‚úÖ DebugLogger –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
- ‚úÖ CSV —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω
- ‚úÖ –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚è≥ –û–∂–∏–¥–∞–µ—Ç –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

**–ö–∞–∫ —Ç–æ–ª—å–∫–æ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–æ–∑–∏—Ü–∏—è - –ª–æ–≥–∏ –Ω–∞—á–Ω—É—Ç –ø–∏—Å–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!** üöÄ

---

**–í—Å—ë –≥–æ—Ç–æ–≤–æ! –ñ–¥–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏ –∏ —Å–º–æ—Ç—Ä–∏ CSV!** ‚úÖ

