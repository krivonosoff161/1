# üîç –ü–†–û–ë–õ–ï–ú–ê –õ–ò–ú–ò–¢–û–í –¶–ï–ù–´ OKX

**–î–∞—Ç–∞:** 2025-11-12  
**–ü—Ä–æ–±–ª–µ–º–∞:** –õ–∏–º–∏—Ç–Ω—ã–µ –æ—Ä–¥–µ—Ä–∞ –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è –±–∏—Ä–∂–µ–π —Å –æ—à–∏–±–∫–æ–π 51006

---

## ‚ùå –ü–†–û–ë–õ–ï–ú–ê

### –°–∏–º–ø—Ç–æ–º—ã:

```
ERROR | OKX API error: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51006', 
'sMsg': 'Order price is not within the price limit (max buy price: 103,155.9, min sell price: 101,133.2)', 
'tag': '', 'ts': '1762974430355'}], 'inTime': '1762974430355232', 'msg': 'All operations failed', 
'outTime': '1762974430355526'}
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ë–æ—Ç –ø—ã—Ç–∞–µ—Ç—Å—è —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –ª–∏–º–∏—Ç–Ω—ã–π –æ—Ä–¥–µ—Ä SELL –ø–æ —Ü–µ–Ω–µ 101034.86
- –ë–∏—Ä–∂–∞ OKX –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –æ—Ä–¥–µ—Ä: min sell price = 101,133.2
- –¶–µ–Ω–∞ –æ—Ä–¥–µ—Ä–∞ (101034.86) –Ω–∏–∂–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã –¥–ª—è SELL (101,133.2)
- –†–∞–∑–Ω–∏—Ü–∞: -98.34 (—Ü–µ–Ω–∞ —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∞—è)

---

## üîç –ü–†–ò–ß–ò–ù–ê

### –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ —Ü–µ–Ω—ã:

1. **–ü–æ–ª—É—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤:**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—á–Ω—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç: ¬±5% –æ—Ç —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã
   - –ò–ª–∏ ¬±2% –æ—Ç –ª—É—á—à–∏—Ö —Ü–µ–Ω –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞
   - –ù–æ —Ä–µ–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã –±–∏—Ä–∂–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –¥—Ä—É–≥–∏–º–∏!

2. **–†–∞—Å—á–µ—Ç –ª–∏–º–∏—Ç–Ω–æ–π —Ü–µ–Ω—ã:**
   - –î–ª—è SELL: `current_price * 0.9995` (0.05% –Ω–∏–∂–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã)
   - –î–ª—è BUY: `current_price * 1.0005` (0.05% –≤—ã—à–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã)

3. **–ü—Ä–æ–±–ª–µ–º–∞:**
   - –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–µ–π
   - –õ–∏–º–∏—Ç—ã –±–∏—Ä–∂–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–º–∏, —á–µ–º —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ
   - –ë–∏—Ä–∂–∞ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –æ—Ä–¥–µ—Ä —Å –æ—à–∏–±–∫–æ–π 51006

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### 1. –£–ª—É—á—à–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ —Ü–µ–Ω—ã

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—Ç–∞—Ç–∏—á–Ω—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã (¬±5%, ¬±2%)
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã –±–∏—Ä–∂–∏ –∏–∑ API

**–†–µ—à–µ–Ω–∏–µ:**
- –ü–æ–ª—É—á–∞—Ç—å –ª—É—á—à–∏–µ —Ü–µ–Ω—ã –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞ (best bid/ask)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π offset (0.1% –≤–º–µ—Å—Ç–æ 0.05%)
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ª–∏–º–∏—Ç—ã –ø–µ—Ä–µ–¥ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º –æ—Ä–¥–µ—Ä–∞

### 2. –ü–∞—Ä—Å–∏—Ç—å –ª–∏–º–∏—Ç—ã –∏–∑ –æ—à–∏–±–∫–∏ API

**–ü—Ä–æ–±–ª–µ–º–∞:**
- OKX API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ—á–Ω—ã–µ –ª–∏–º–∏—Ç—ã –≤ –æ—à–∏–±–∫–µ, –Ω–æ –º—ã –∏—Ö –Ω–µ –ø–∞—Ä—Å–∏–º

**–†–µ—à–µ–Ω–∏–µ:**
- –ü–∞—Ä—Å–∏—Ç—å –ª–∏–º–∏—Ç—ã –∏–∑ –æ—à–∏–±–∫–∏ API (51006)
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –ª–∏–º–∏—Ç—ã –≤ –∫–µ—à
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏–º–∏—Ç—ã –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ —Ü–µ–Ω—ã

### 3. –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–Ω—É –¥–æ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –¶–µ–Ω–∞ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –ª–∏–º–∏—Ç–æ–≤
- –û—Ä–¥–µ—Ä –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è –±–∏—Ä–∂–µ–π

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ª–∏–º–∏—Ç—ã –ø–µ—Ä–µ–¥ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º –æ—Ä–¥–µ—Ä–∞
- –ï—Å–ª–∏ —Ü–µ–Ω–∞ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫—É, —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –µ—ë –¥–æ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—É—á—à—É—é —Ü–µ–Ω—É –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞ –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞

### 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π offset

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Offset 0.05% –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–º
- –¶–µ–Ω–∞ –º–æ–∂–µ—Ç –≤—ã—Ö–æ–¥–∏—Ç—å –∑–∞ –ª–∏–º–∏—Ç—ã –±–∏—Ä–∂–∏

**–†–µ—à–µ–Ω–∏–µ:**
- –£–≤–µ–ª–∏—á–∏—Ç—å offset –¥–æ 0.1% (–∏–ª–∏ –¥–∞–∂–µ 0.2%)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—É—á—à—É—é —Ü–µ–Ω—É –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞ –≤–º–µ—Å—Ç–æ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã
- –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∞—Å –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

---

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. –£–ª—É—á—à–∏—Ç—å `get_price_limits()`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—É—á—à–∏–µ —Ü–µ–Ω—ã –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞ (best bid/ask)
- –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π —Ä–∞—Å—á–µ—Ç –ª–∏–º–∏—Ç–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã –±–∏—Ä–∂–∏, –µ—Å–ª–∏ –æ–Ω–∏ –¥–æ—Å—Ç—É–ø–Ω—ã

### 2. –£–ª—É—á—à–∏—Ç—å `_calculate_limit_price()`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ü–æ–ª—É—á–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ–¥ —Ä–∞—Å—á–µ—Ç–æ–º
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—É—á—à—É—é —Ü–µ–Ω—É –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞
- –£–≤–µ–ª–∏—á–∏—Ç—å offset –¥–æ 0.1% (–∏–ª–∏ –¥–∞–∂–µ 0.2%)
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ª–∏–º–∏—Ç—ã –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º —Ü–µ–Ω—ã

### 3. –ü–∞—Ä—Å–∏—Ç—å –ª–∏–º–∏—Ç—ã –∏–∑ –æ—à–∏–±–∫–∏ API

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ü–∞—Ä—Å–∏—Ç—å –ª–∏–º–∏—Ç—ã –∏–∑ –æ—à–∏–±–∫–∏ API (51006)
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –ª–∏–º–∏—Ç—ã –≤ –∫–µ—à
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏–º–∏—Ç—ã –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ —Ü–µ–Ω—ã –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–µ

### 4. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ª–∏–º–∏—Ç–æ–≤ –ø–µ—Ä–µ–¥ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ª–∏–º–∏—Ç—ã –ø–µ—Ä–µ–¥ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º –æ—Ä–¥–µ—Ä–∞
- –ï—Å–ª–∏ —Ü–µ–Ω–∞ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫—É, —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –µ—ë –¥–æ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä –∫–∞–∫ fallback, –µ—Å–ª–∏ –ª–∏–º–∏—Ç–Ω—ã–π –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç

---

## üìã –ü–†–ò–û–†–ò–¢–ï–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

1. **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï:** –£–ª—É—á—à–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ —Ü–µ–Ω—ã (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—É—á—à–∏–µ —Ü–µ–Ω—ã –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞)
2. **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï:** –£–≤–µ–ª–∏—á–∏—Ç—å offset –¥–æ 0.1% (–∏–ª–∏ –¥–∞–∂–µ 0.2%)
3. **–í–ê–ñ–ù–û:** –ü–∞—Ä—Å–∏—Ç—å –ª–∏–º–∏—Ç—ã –∏–∑ –æ—à–∏–±–∫–∏ API (51006)
4. **–í–ê–ñ–ù–û:** –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ª–∏–º–∏—Ç–æ–≤ –ø–µ—Ä–µ–¥ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º –æ—Ä–¥–µ—Ä–∞
5. **–í–ê–ñ–ù–û:** –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–Ω—É –¥–æ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞

---

## üîß –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—É—á—à—É—é —Ü–µ–Ω—É –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞:**
   - –î–ª—è SELL: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å best bid (–ª—É—á—à–∞—è —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏)
   - –î–ª—è BUY: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å best ask (–ª—É—á—à–∞—è —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏)
   - –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏—Ç –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–π —Ä–∞—Å—á–µ—Ç –ª–∏–º–∏—Ç–Ω–æ–π —Ü–µ–Ω—ã

2. **–£–≤–µ–ª–∏—á–∏—Ç—å offset:**
   - –î–ª—è SELL: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å best bid * 0.999 (0.1% –Ω–∏–∂–µ)
   - –î–ª—è BUY: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å best ask * 1.001 (0.1% –≤—ã—à–µ)
   - –≠—Ç–æ —É–º–µ–Ω—å—à–∏—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã—Ö–æ–¥–∞ –∑–∞ –ª–∏–º–∏—Ç—ã –±–∏—Ä–∂–∏

3. **–ü–∞—Ä—Å–∏—Ç—å –ª–∏–º–∏—Ç—ã –∏–∑ –æ—à–∏–±–∫–∏:**
   - –ï—Å–ª–∏ –±–∏—Ä–∂–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É 51006, –ø–∞—Ä—Å–∏—Ç—å –ª–∏–º–∏—Ç—ã –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è
   - –°–æ—Ö—Ä–∞–Ω—è—Ç—å –ª–∏–º–∏—Ç—ã –≤ –∫–µ—à
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏–º–∏—Ç—ã –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ —Ü–µ–Ω—ã –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–µ

4. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ª–∏–º–∏—Ç–æ–≤:**
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ª–∏–º–∏—Ç—ã –ø–µ—Ä–µ–¥ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º –æ—Ä–¥–µ—Ä–∞
   - –ï—Å–ª–∏ —Ü–µ–Ω–∞ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫—É, —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –µ—ë –¥–æ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä –∫–∞–∫ fallback, –µ—Å–ª–∏ –ª–∏–º–∏—Ç–Ω—ã–π –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç

