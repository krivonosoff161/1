# –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞—â–∏—Ç

## üõ°Ô∏è –ß—Ç–æ —ç—Ç–æ –∏ –∑–∞—á–µ–º –Ω—É–∂–Ω–æ

### 1. Max Loss per Trade (–ª–∏–º–∏—Ç 2%)

**–ß—Ç–æ —ç—Ç–æ:**
–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–æ—Ç–µ—Ä—è –Ω–∞ –æ–¥–Ω—É —Å–¥–µ–ª–∫—É –Ω–µ –¥–æ–ª–∂–Ω–∞ –ø—Ä–µ–≤—ã—à–∞—Ç—å 2% –æ—Ç –±–∞–ª–∞–Ω—Å–∞.

**–ó–∞—á–µ–º:**
–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –±–æ–ª—å—à–∏–µ –ø—Ä–æ—Å–∞–¥–∫–∏ –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω—ã—Ö —Å–¥–µ–ª–∫–∞—Ö.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```python
# –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:
margin = $90
position_size = 0.0675 ETH
SL = -0.2% ‚Üí –ø–æ—Ç–µ—Ä—è = $0.18 ‚ùå –ù–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è!

# –° Max Loss:
balance = $500
max_loss = $500 * 0.02 = $10

# –ï—Å–ª–∏ SL = 0.2%:
max_position = $10 / 0.002 = $5000 ‚ùå –°–ª–∏—à–∫–æ–º –±–æ–ª—å–Ω–æ!

# –ü—Ä–æ–≤–µ—Ä—è–µ–º:
if margin > max_position:
    margin = max_position
    logger.warning("‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω max loss!")
```

**–ü—Ä–∏–º–µ—Ä:**
```
–ë–∞–ª–∞–Ω—Å: $500
Max Loss: $10 (2%)

–°–∏–≥–Ω–∞–ª: ETH buy @ $4000, SL=-0.2%
–ë–µ–∑ –∑–∞—â–∏—Ç—ã: position = 0.0675 ETH ‚Üí –ø—Ä–∏ SL —Ç–µ—Ä—è–µ–º $0.18 ‚ùå
–° –∑–∞—â–∏—Ç–æ–π: position = 0.005 ETH ‚Üí –ø—Ä–∏ SL —Ç–µ—Ä—è–µ–º $4 ‚úÖ

–ë–∞–ª–∞–Ω—Å –ø–æ—Å–ª–µ SL: $496 (–Ω–µ $319!)
```

---

### 2. Max Margin Used (–ª–∏–º–∏—Ç 80%)

**–ß—Ç–æ —ç—Ç–æ:**
–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∞—Ä–∂–∏ –Ω–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–µ–≤—ã—à–∞—Ç—å 80% –æ—Ç –±–∞–ª–∞–Ω—Å–∞.

**–ó–∞—á–µ–º:**
–û—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–ø–∞—Å –¥–ª—è –º–∞–Ω–µ–≤—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ª–∏–∫–≤–∏–¥–∞—Ü–∏—é.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```python
# –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:
balance = $500
position 1: margin = $90
position 2: margin = $90
–ò—Ç–æ–≥–æ: $180 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –∏–∑ $500 ‚úÖ

# –ù–æ –µ—Å–ª–∏ –±–∞–ª–∞–Ω—Å —É–ø–∞–ª –¥–æ $200:
position 1: margin = $90
–ò—Ç–æ–≥–æ: $90 / $200 = 45% ‚úÖ –û–∫

# –ü—Ä–æ–±–ª–µ–º–∞: –æ—Ç–∫—Ä—ã–≤–∞–µ–º –µ—â–µ $90
–ò—Ç–æ–≥–æ: $180 / $200 = 90% ‚ùå –ö—Ä–∏—Ç–∏—á–Ω–æ!

# –° Max Margin Used:
max_margin = balance * 0.8 = $160

# –ü—Ä–æ–≤–µ—Ä–∫–∞:
if (total_margin + new_margin) > max_margin:
    logger.warning("‚ö†Ô∏è –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç –º–∞—Ä–∂–∏!")
    –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é
```

**–ü—Ä–∏–º–µ—Ä:**
```
–ë–∞–ª–∞–Ω—Å: $500
Max Margin: $400 (80%)

–û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏:
- Position 1: $90 margin
- Position 2: $100 margin
–ò—Ç–æ–≥–æ: $190 / $500 = 38% ‚úÖ

–ü—ã—Ç–∞–µ–º—Å—è –æ—Ç–∫—Ä—ã—Ç—å Position 3: $150 margin
–ü—Ä–æ–≤–µ—Ä–∫–∞: $190 + $150 = $340
$340 < $400 ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–æ

–ù–æ –µ—Å–ª–∏ —É–ø–∞–ª –¥–æ $300:
–ü—Ä–æ–≤–µ—Ä–∫–∞: $190 + $150 = $340
$340 > $240 (80% –æ—Ç $300) ‚ùå –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û!
```

---

### 3. Drawdown Protection

**–ß—Ç–æ —ç—Ç–æ:**
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏ –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ % –æ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞.

**–ó–∞—á–µ–º:**
–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∫–∞—Å–∫–∞–¥–Ω—ã–µ –ø–æ—Ç–µ—Ä–∏ –∏ –¥–∞–µ—Ç –≤—Ä–µ–º—è –ø–µ—Ä–µ–æ—Ü–µ–Ω–∏—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```python
# –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:
balance = $500
—Ç–µ—Ä—è–µ—Ç $50 ‚Üí $450 ‚ùå –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ç–æ—Ä–≥–æ–≤–∞—Ç—å!

# –° Drawdown Protection:
initial_balance = $500
current_balance = $450

drawdown = ($500 - $450) / $500 = 10%

if drawdown > 0.05:  # 5% –ø—Ä–æ—Å–∞–¥–∫–∞
    logger.critical("üõë –î–æ—Å—Ç–∏–≥–Ω—É—Ç drawdown limit!")
    stop_trading()
    await close_all_positions()
    alert_admin()
```

**–ü—Ä–∏–º–µ—Ä:**
```
–ù–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å: $500
–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å: $450
–ü—Ä–æ—Å–∞–¥–∫–∞: 10%

–õ–∏–º–∏—Ç: 5%
–¢–µ–∫—É—â–∞—è: 10% > 5% ‚ùå

–ë–æ—Ç:
1. üõë –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–æ—Ä–≥–æ–≤–ª—é
2. üõë –ó–∞–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏
3. üìß –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç alert
4. ‚è∏Ô∏è –ñ–¥–µ—Ç —Ä—É—á–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

–ë–∞–ª–∞–Ω—Å –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω –Ω–∞ $450 (–Ω–µ $300!)
```

---

### 4. Emergency Stop

**–ß—Ç–æ —ç—Ç–æ:**
–ê–≤–∞—Ä–∏–π–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏.

**–ó–∞—á–µ–º:**
–ü–æ—Å–ª–µ–¥–Ω—è—è –ª–∏–Ω–∏—è –∑–∞—â–∏—Ç—ã –æ—Ç –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∏—á–µ—Å–∫–∏—Ö –ø–æ—Ç–µ—Ä—å.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```python
# –°—Ü–µ–Ω–∞—Ä–∏–∏ Emergency Stop:

# 1. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π drawdown:
if drawdown > 0.20:  # 20%
    emergency_stop()

# 2. –û–¥–Ω–∞ –±–æ–ª—å—à–∞—è –ø–æ–∑–∏—Ü–∏—è:
if single_position_margin > balance * 0.5:  # 50%
    emergency_stop()

# 3. Margin call –±–ª–∏–∑–∫–æ:
if margin_used > balance * 0.95:  # 95%
    emergency_stop()

# 4. –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–µ—Ä—å –ø–æ–¥—Ä—è–¥:
if losses_in_row >= 5:
    emergency_stop()

# –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
1. üõë –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –í–°–ï –ø–æ–∑–∏—Ü–∏–∏
2. üõë –ë–ª–æ–∫–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ —Å–¥–µ–ª–∫–∏
3. üõë –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ª–æ–≥–∏
4. üìß –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π alert
5. üíæ –î–µ–ª–∞–µ—Ç backup
6. ‚è∏Ô∏è –ñ–¥–µ—Ç —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞
```

**–ü—Ä–∏–º–µ—Ä:**
```
–ë–∞–ª–∞–Ω—Å: $500
–¢–µ–∫—É—â–∏–π: $300
–ü—Ä–æ—Å–∞–¥–∫–∞: 40%

Emergency Stop:
- üõë –ó–∞–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏
- üõë –ë–ª–æ–∫–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ —Å–¥–µ–ª–∫–∏
- üìß –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç: "üö® CRITICAL! Drawdown 40%!"
- üíæ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ª–æ–≥–∏
- ‚è∏Ô∏è –ñ–¥–µ—Ç —Ç–µ–±—è

–ë–∞–ª–∞–Ω—Å –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω –Ω–∞ $300 (–Ω–µ $0!)
```

---

## üéØ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –° –∑–∞—â–∏—Ç–∞–º–∏ vs –ë–µ–∑ –∑–∞—â–∏—Ç

### –°—Ü–µ–Ω–∞—Ä–∏–π: –ë–∞–ª–∞–Ω—Å $500, 5 –Ω–µ—É–¥–∞—á–Ω—ã—Ö —Å–¥–µ–ª–æ–∫

#### –ë–ï–ó –∑–∞—â–∏—Ç:
```
–°–¥–µ–ª–∫–∞ 1: SL ‚Üí $495
–°–¥–µ–ª–∫–∞ 2: SL ‚Üí $490
–°–¥–µ–ª–∫–∞ 3: SL ‚Üí $485
–°–¥–µ–ª–∫–∞ 4: SL ‚Üí $480
–°–¥–µ–ª–∫–∞ 5: SL ‚Üí $475

–ò—Ç–æ–≥–æ: -5% –ø—Ä–æ—Å–∞–¥–∫–∞
–ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ç–æ—Ä–≥–æ–≤–∞—Ç—å! ‚ö†Ô∏è
```

#### –° –∑–∞—â–∏—Ç–∞–º–∏:
```
–°–¥–µ–ª–∫–∞ 1: SL ‚Üí $495 (max loss $10)
–°–¥–µ–ª–∫–∞ 2: SL ‚Üí $490 (max loss $10)
–°–¥–µ–ª–∫–∞ 3: SL ‚Üí $485 (max loss $10)
–°–¥–µ–ª–∫–∞ 4: SL ‚Üí $480 (max loss $10)
–°–¥–µ–ª–∫–∞ 5: SL ‚Üí $475 (max loss $10)
‚ùå –î–æ—à–µ–ª –¥–æ drawdown limit (5%)

Emergency Stop:
üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏
üìß Alert: "Drawdown 5%!"
‚è∏Ô∏è –ñ–¥–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

–ë–∞–ª–∞–Ω—Å: $475 (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω!)
```

---

## üö® –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å –∑–∞—â–∏—Ç

| –ó–∞—â–∏—Ç–∞ | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å | –ß—Ç–æ –∑–∞—â–∏—â–∞–µ—Ç |
|--------|-------------|--------------|
| Max Loss | üî¥ –ö–†–ò–¢–ò–ß–ù–û | –ë–æ–ª—å—à–∏–µ –ø—Ä–æ—Å–∞–¥–∫–∏ –Ω–∞ —Å–¥–µ–ª–∫–µ |
| Max Margin | üî¥ –ö–†–ò–¢–ò–ß–ù–û | –õ–∏–∫–≤–∏–¥–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞ |
| Drawdown | üü° –í–ê–ñ–ù–û | –ö–∞—Å–∫–∞–¥–Ω—ã–µ –ø–æ—Ç–µ—Ä–∏ |
| Emergency | üî¥ –ö–†–ò–¢–ò–ß–ù–û | –ê–±—Å–æ–ª—é—Ç–Ω–∞—è –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞ |

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä:
1. ‚úÖ Max Loss per Trade (2%)
2. ‚úÖ Max Margin Used (80%)

### –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä:
1. ‚úÖ Max Loss per Trade (2%)
2. ‚úÖ Max Margin Used (80%)
3. ‚úÖ Drawdown Protection (5%)
4. ‚úÖ Emergency Stop

---

## ü§î –î–æ–±–∞–≤–ª—è–µ–º?

**–ß—Ç–æ —Ö–æ—á–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å?**
- –¢–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–Ω–æ–µ (Max Loss + Max Margin)?
- –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä (–≤—Å–µ 4 –∑–∞—â–∏—Ç—ã)?
- –ò–ª–∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é?

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–î–æ–±–∞–≤–∏—Ç—å –º–∏–Ω–∏–º—É–º Max Loss + Max Margin –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏! üõ°Ô∏è


