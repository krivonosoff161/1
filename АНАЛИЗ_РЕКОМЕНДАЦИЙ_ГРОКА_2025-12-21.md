# üìä –ê–ù–ê–õ–ò–ó –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ô –ì–†–û–ö–ê (2025-12-21)

**–î–∞—Ç–∞:** 2025-12-21  
**–°—Ç–∞—Ç—É—Å:** –ê–Ω–∞–ª–∏–∑ –∏ –æ—Ü–µ–Ω–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

---

## üéØ –û–ë–©–ê–Ø –û–¶–ï–ù–ö–ê

**–í–µ—Ä–¥–∏–∫—Ç:** ‚úÖ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ Grok –≤ —Ü–µ–ª–æ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ**, –Ω–æ —Ç—Ä–µ–±—É—é—Ç –∞–∫–∫—É—Ä–∞—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å —É—á–µ—Ç–æ–º —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–æ—Ç–∞.

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:**
- üî¥ **–ö—Ä–∏—Ç–∏—á–Ω–æ:** Margin safety 2.0, Maxholding 20–º–∏–Ω, PD trigger 20%
- üü† **–í–∞–∂–Ω–æ:** SL 0.6%, Risk 1.0%, PH 1.0-1.2%
- üü° **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** Cycle time, TA-Lib, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## 1. –¢–†–ï–ô–î–ï–†: –ü–ê–†–ê–ú–ï–¢–†–´ –ò –†–ò–°–ö–ò

### 1.1. RANGING —Ä–µ–∂–∏–º (92% –≤—Ä–µ–º–µ–Ω–∏)

#### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: Margin Safety 2.0

**–¢–µ–∫—É—â–µ–µ:** `safety_threshold: 1.5`  
**Grok –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç:** `2.0`

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ Grok:**
- –ü—Ä–∏ `equity = 25 USDT`, `margin_used = 12 USDT` (posval/20x)
- `liq_price distance = 4%` (SHORT entry * 1.04)
- –í –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ BTC 1-2% ‚Üí —Å–ª–∏—à–∫–æ–º –±–ª–∏–∑–∫–æ –∫ –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏

**–ú–æ–µ –º–Ω–µ–Ω–∏–µ:** ‚úÖ **–°–û–ì–õ–ê–°–ï–ù**
- –ü—Ä–∏ `margin_ratio = 1.5` –∏ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ 2% —Ä–∏—Å–∫ –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏ —Ä–µ–∞–ª—å–Ω—ã–π
- `margin_ratio = 2.0` –¥–∞–µ—Ç –∑–∞–ø–∞—Å –ø—Ä–æ—á–Ω–æ—Å—Ç–∏ –¥–ª—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –¥–æ 3-4%
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ

#### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: Risk per Trade 1.0%

**–¢–µ–∫—É—â–µ–µ:** `risk_per_trade_percent: 1.5%`  
**Grok –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç:** `1.0%`

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ Grok:**
- –ü—Ä–∏ `equity = 25 USDT` –∏ `risk = 1.5%` ‚Üí `risk_usd = $0.375`
- –° `leverage = 20x` ‚Üí `position_value = $7.5`
- –°–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ –¥–ª—è –º–∞–ª–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞

**–ú–æ–µ –º–Ω–µ–Ω–∏–µ:** ‚úÖ **–°–û–ì–õ–ê–°–ï–ù**
- –î–ª—è –±–∞–ª–∞–Ω—Å–∞ 50 USDT —Ä–∏—Å–∫ 1.5% = $0.75 –Ω–∞ —Å–¥–µ–ª–∫—É
- –ü—Ä–∏ winrate 15.6% —ç—Ç–æ —Å–ª–∏—à–∫–æ–º —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω–æ
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–∏–º–µ–Ω–∏—Ç—å, –Ω–æ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

#### ‚ö†Ô∏è –°–ü–û–†–ù–û: SL 0.6% vs 0.8%

**–¢–µ–∫—É—â–µ–µ:** `sl_percent: 0.8%`  
**Grok –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç:** `0.6%`

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ Grok:**
- Winrate 15.6% –ø—Ä–∏ SL 0.8% ‚Üí —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ª–æ–∂–Ω—ã—Ö –≤—Ö–æ–¥–æ–≤
- SL 0.6% —É–∂–µ—Å—Ç–æ—á–∏—Ç —Ñ–∏–ª—å—Ç—Ä—ã

**–ú–æ–µ –º–Ω–µ–Ω–∏–µ:** ‚ö†Ô∏è **–ù–£–ñ–ù–û –ü–†–û–í–ï–†–ò–¢–¨**
- SL 0.6% –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –±–ª–∏–∑–∫–æ –∫ —Å–ø—Ä–µ–¥—É (0.05-0.1%)
- –ü—Ä–∏ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ 1-2% SL 0.6% –º–æ–∂–µ—Ç —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–∞ —à—É–º–µ
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –°–Ω–∞—á–∞–ª–∞ –ø–æ–¥–Ω—è—Ç—å `min_signal_strength` –¥–æ 0.75, –ø–æ—Ç–æ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å SL 0.6%

#### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: TP 1.8-2.2%

**–¢–µ–∫—É—â–µ–µ:** `tp_percent: 2.0%`  
**Grok –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç:** `1.8-2.2%` (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π)

**–ú–æ–µ –º–Ω–µ–Ω–∏–µ:** ‚úÖ **–°–û–ì–õ–ê–°–ï–ù**
- TP 2.0% —É–∂–µ –æ–ø—Ç–∏–º–∞–ª–µ–Ω
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π TP 1.8-2.2% –¥–∞—Å—Ç –±–æ–ª—å—à–µ –≥–∏–±–∫–æ—Å—Ç–∏
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π TP –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏

#### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: PH 1.0-1.2%

**–¢–µ–∫—É—â–µ–µ:** `ph_threshold_percent: 1.5%`  
**Grok –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç:** `1.0-1.2%`

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ Grok:**
- PH 1.5% —Ä–µ–¥–∫–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç (—Ç–æ–ª—å–∫–æ 1 —Ä–∞–∑ –∏–∑ 32 —Å–¥–µ–ª–æ–∫)
- PH 1.0-1.2% –¥–∞—Å—Ç –±–æ–ª—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã—Ö–æ–¥–∞

**–ú–æ–µ –º–Ω–µ–Ω–∏–µ:** ‚úÖ **–°–û–ì–õ–ê–°–ï–ù**
- PH 1.5% —Å–ª–∏—à–∫–æ–º –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–µ–Ω –¥–ª—è ranging
- PH 1.0-1.2% –ª—É—á—à–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–∏–º–µ–Ω–∏—Ç—å 1.2% –¥–ª—è ranging

#### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: Partial TP @0.8% (50%)

**–¢–µ–∫—É—â–µ–µ:** `trigger_percent: 0.6%`, `fraction: 60%`  
**Grok –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç:** `trigger_percent: 0.8%`, `fraction: 50%`

**–ú–æ–µ –º–Ω–µ–Ω–∏–µ:** ‚úÖ **–°–û–ì–õ–ê–°–ï–ù**
- Partial TP 0.6% —Å–ª–∏—à–∫–æ–º —Ä–∞–Ω–æ (–º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è `min_holding`)
- 0.8% –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
- 50% –∑–∞–∫—Ä—ã—Ç–∏–µ –±–æ–ª–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ (60% —Å–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ)
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–∏–º–µ–Ω–∏—Ç—å

### 1.2. Maxholding Hard Stop @20–º–∏–Ω

**–¢–µ–∫—É—â–µ–µ:** `max_holding_minutes: 25`, `max_holding_hard_stop: true`  
**Grok –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç:** `20 –º–∏–Ω—É—Ç hard stop`

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ Grok:**
- Long holds 18ks (5 —á–∞—Å–æ–≤) ‚Üí SL -1USDT
- 25 –º–∏–Ω—É—Ç —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ –¥–ª—è ranging

**–ú–æ–µ –º–Ω–µ–Ω–∏–µ:** ‚úÖ **–°–û–ì–õ–ê–°–ï–ù**
- 25 –º–∏–Ω—É—Ç –¥–ª—è ranging –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –¥–æ–ª–≥–æ
- 20 –º–∏–Ω—É—Ç –±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ, –Ω–æ –æ–ø—Ä–∞–≤–¥–∞–Ω–æ –¥–ª—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–∏–º–µ–Ω–∏—Ç—å, –Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å `extend_time_if_profitable` –¥–ª—è –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π

### 1.3. Profit Drawdown Trigger 20%

**–¢–µ–∫—É—â–µ–µ:** `drawdown_percent: 0.75` (75%), `ranging multiplier: 1.2` ‚Üí **—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π 90%**  
**Grok –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç:** `20% drawdown trigger`

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ Grok:**
- –¢–µ–∫—É—â–∏–π 90% (0.75 * 1.2) —Å–ª–∏—à–∫–æ–º –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–µ–Ω
- 20% –±—ã—Å—Ç—Ä–µ–µ –∑–∞—â–∏—Ç–∏—Ç –ø—Ä–∏–±—ã–ª—å

**–ú–æ–µ –º–Ω–µ–Ω–∏–µ:** ‚úÖ **–°–û–ì–õ–ê–°–ï–ù**
- 90% drawdown = –ø–æ—Ç–µ—Ä—è 90% –æ—Ç peak profit (–ø–æ—á—Ç–∏ –≤–µ—Å—å –ø—Ä–æ—Ñ–∏—Ç!)
- 20% –±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ, –Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ (–∫—Ä–∏—Ç–∏—á–Ω–æ!)

### 1.4. TRENDING –∏ CHOPPY

**TRENDING:**
- ‚úÖ Maxhold 30–º–∏–Ω hard (—Å–µ–π—á–∞—Å 40–º–∏–Ω) - –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ ADX>25 strict (—Å–µ–π—á–∞—Å 18.0) - –ø—Ä–∞–≤–∏–ª—å–Ω–æ

**CHOPPY:**
- ‚úÖ Risk 1.2% (—Å–µ–π—á–∞—Å 2.0%) - –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ SL 0.7% (—Å–µ–π—á–∞—Å 1.0%) - –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ Minstrength 0.75 (—Å–µ–π—á–∞—Å 0.6) - –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

## 2. –ö–û–î–ï–†: –ö–û–î –ò –ú–ê–¢–ï–ú–ê–¢–ò–ö–ê

### 2.1. –§–∏–∫—Å #1: TCC datetime ‚úÖ –£–ñ–ï –ò–°–ü–†–ê–í–õ–ï–ù–û

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
```python
from datetime import datetime as dt, timezone
cycle_start = dt.now(timezone.utc)  # ‚úÖ –£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ì–û–¢–û–í–û**

### 2.2. –§–∏–∫—Å #2: Margin Ratio

**Grok –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç:**
```python
if marginUsed == 0: ratio = float('inf')
else: ratio = max(0.01, availMargin / marginUsed)  # avoid 0.10 glitch
```

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
```python
if margin_used > 0:
    margin_ratio = available_margin / margin_used
else:
    margin_ratio = float("inf") if available_margin > 0 else float("-inf")
```

**–ú–æ–µ –º–Ω–µ–Ω–∏–µ:** ‚ö†Ô∏è **–ù–£–ñ–ù–û –£–õ–£–ß–®–ò–¢–¨**
- `max(0.01, ...)` –∑–∞—â–∏—Ç–∏—Ç –æ—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- –ù–æ —Ç–µ–∫—É—â–∞—è –∑–∞—â–∏—Ç–∞ —É–∂–µ –µ—Å—Ç—å (—Å—Ç—Ä–æ–∫–∏ 458-496)
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å `max(0.01, ...)` –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∑–∞—â–∏—Ç—ã

### 2.3. –§–∏–∫—Å #3: Maxholding Hard

**Grok –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç:**
```python
minutes = (dt.now(timezone.utc) - self.position.entryTime).total_seconds() / 60
if minutes > self.maxHoldingMin and abs(pnlPct) < self.timeoutLossPct:
    return Action.CLOSE, "maxholding_timeoutloss"
```

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚úÖ `max_holding_hard_stop: true` —É–∂–µ –µ—Å—Ç—å
- ‚úÖ `timeout_loss_percent: 1.5%` —É–∂–µ –µ—Å—Ç—å
- ‚ö†Ô∏è –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `abs(pnl_percent) >= timeout_loss_percent` (–∑–∞–∫—Ä—ã–≤–∞–µ—Ç –µ—Å–ª–∏ —É–±—ã—Ç–æ–∫ >= 1.5%)

**–ú–æ–µ –º–Ω–µ–Ω–∏–µ:** ‚ö†Ô∏è **–õ–û–ì–ò–ö–ê –ù–ï–ú–ù–û–ì–û –û–¢–õ–ò–ß–ê–ï–¢–°–Ø**
- Grok –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç: –∑–∞–∫—Ä—ã–≤–∞—Ç—å –µ—Å–ª–∏ `abs(pnlPct) < timeoutLossPct` (—É–±—ã—Ç–æ–∫ < 1.5%)
- –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞: –∑–∞–∫—Ä—ã–≤–∞—Ç—å –µ—Å–ª–∏ `abs(pnlPct) >= timeoutLossPct` (—É–±—ã—Ç–æ–∫ >= 1.5%)
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–µ–µ (–∑–∞–∫—Ä—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–º —É–±—ã—Ç–∫–µ)

### 2.4. –§–∏–∫—Å #4: Logging PRECLOSE/Liquidation

**Grok –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç:**
```python
risk_status = {'>2.5':'SAFE', '1.8-2.5':'GOOD', ...}.get(str(ratio), 'CRITICAL')
logger.warning(f"{symbol} {side} marginratio={ratio:.2f} [{risk_status}] equity={equity:.2f}")
```

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É–∂–µ –µ—Å—Ç—å –≤ `margin_calculator.py:519-525`
- ‚ö†Ô∏è –ù–æ –Ω–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ `risk_status`

**–ú–æ–µ –º–Ω–µ–Ω–∏–µ:** ‚úÖ **–ü–†–ê–í–ò–õ–¨–ù–û**
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ª—É—á—à–∏—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–∏–º–µ–Ω–∏—Ç—å

### 2.5. –§–∏–∫—Å #5: PH Absolute Min

**Grok –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç:**
```python
phThresholdUSD = marginUsed * phThresholdPct / 100
if netPnL_USD > phThresholdUSD + minCommissionEstimate:  # +0.05USD buffer
```

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚úÖ PH —É–∂–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∏—Å—Å–∏—é –≤ —Ä–∞—Å—á–µ—Ç–µ `net_pnl_usd`
- ‚ö†Ô∏è –ù–æ –Ω–µ—Ç —è–≤–Ω–æ–≥–æ –±—É—Ñ–µ—Ä–∞ `+0.05USD`

**–ú–æ–µ –º–Ω–µ–Ω–∏–µ:** ‚úÖ **–ü–†–ê–í–ò–õ–¨–ù–û**
- –ë—É—Ñ–µ—Ä 0.05 USD –∑–∞—â–∏—Ç–∏—Ç –æ—Ç –º–∏–∫—Ä–æ–ø—Ä–∏–±—ã–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —Å—ä–µ–¥–∞—é—Ç—Å—è –∫–æ–º–∏—Å—Å–∏–µ–π
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–∏–º–µ–Ω–∏—Ç—å

### 2.6. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥: Cycle Time <10—Å

**Grok –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç:**
- –í—ã–Ω–µ—Å—Ç–∏ filters –≤ cache/async
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å TA-Lib –¥–ª—è MA/ADX/RSI/BB

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- Cycle time: 27-28 —Å–µ–∫—É–Ω–¥
- Signals: 19-21 —Å–µ–∫—É–Ω–¥

**–ú–æ–µ –º–Ω–µ–Ω–∏–µ:** ‚ö†Ô∏è **–°–õ–û–ñ–ù–û, –ù–û –í–û–ó–ú–û–ñ–ù–û**
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ regimes/filters –¥–∞—Å—Ç –≤—ã–∏–≥—Ä—ã—à 5-10 —Å–µ–∫—É–Ω–¥
- TA-Lib –±—ã—Å—Ç—Ä–µ–µ, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—á–∞—Ç—å —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è, –ø–æ—Ç–æ–º TA-Lib

---

## 3. –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô

### 3.1. –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ)

1. ‚úÖ **Margin Safety 2.0** –¥–ª—è ranging
2. ‚úÖ **Risk per Trade 1.0%** –¥–ª—è ranging
3. ‚úÖ **Maxholding 20–º–∏–Ω** hard stop
4. ‚úÖ **PD Trigger 20%** (–Ω–∞–π—Ç–∏ –∏ –∏–∑–º–µ–Ω–∏—Ç—å)
5. ‚úÖ **PH 1.2%** –¥–ª—è ranging
6. ‚úÖ **Partial TP 0.8% (50%)** –¥–ª—è ranging

### 3.2. –í–∞–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

1. ‚ö†Ô∏è **SL 0.6%** (–ø–æ—Å–ª–µ –ø–æ–¥–Ω—è—Ç–∏—è min_signal_strength –¥–æ 0.75)
2. ‚ö†Ô∏è **TP 1.8-2.2%** –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π
3. ‚ö†Ô∏è **TRENDING/CHOPPY** –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### 3.3. –ö–æ–¥ —Ñ–∏–∫—Å—ã

1. ‚úÖ **Margin Ratio** - –¥–æ–±–∞–≤–∏—Ç—å `max(0.01, ...)`
2. ‚úÖ **Logging** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å risk_status
3. ‚úÖ **PH Absolute Min** - –¥–æ–±–∞–≤–∏—Ç—å –±—É—Ñ–µ—Ä 0.05 USD
4. ‚ö†Ô∏è **Cycle Time** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–ø–æ—Ç–æ–º TA-Lib)

---

## 4. –ò–¢–û–ì–û–í–ê–Ø –û–¶–ï–ù–ö–ê

### ‚úÖ –ß—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

1. **Margin Safety 2.0** - –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
2. **Risk 1.0%** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è –º–∞–ª–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞
3. **Maxholding 20–º–∏–Ω** - –æ–ø—Ä–∞–≤–¥–∞–Ω–æ –¥–ª—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞
4. **PD Trigger 20%** - –±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ, –Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
5. **PH 1.2%** - –ª—É—á—à–µ –¥–ª—è ranging
6. **Partial TP 0.8% (50%)** - –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ

### ‚ö†Ô∏è –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:

1. **SL 0.6%** - –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –±–ª–∏–∑–∫–æ –∫ —Å–ø—Ä–µ–¥—É
2. **TP 1.8-2.2%** –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π - –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å
3. **Cycle Time <10—Å** - —Å–ª–æ–∂–Ω–æ, –Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ

### üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

- **Winrate:** 15.6% ‚Üí 25-30% (–ø–æ—Å–ª–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- **Net PnL:** -$9.92 ‚Üí –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π
- **Long holds:** 18ks ‚Üí < 20 –º–∏–Ω—É—Ç
- **SL hits:** 81% ‚Üí 60-70%

---

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** ‚úÖ **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

