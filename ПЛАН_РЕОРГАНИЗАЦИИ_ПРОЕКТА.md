# 🗂️ ПЛАН РЕОРГАНИЗАЦИИ ПРОЕКТА

## 📊 ТЕКУЩЕЕ СОСТОЯНИЕ (Инвентаризация)

### ✅ НУЖНЫЕ ФАЙЛЫ (Сохраняем):

#### Основной код (src/):
```
✅ src/__init__.py
✅ src/main.py
✅ src/config.py
✅ src/models.py
✅ src/okx_client.py
✅ src/indicators.py
✅ src/strategies/__init__.py
✅ src/strategies/scalping.py  # ← Главный файл стратегии!
```

#### Конфигурация:
```
✅ config.yaml               # Настройки стратегии
✅ .env (локально)           # API ключи (НЕ в Git)
✅ .env.example              # Шаблон
✅ .gitignore                # Git исключения
✅ requirements.txt          # Зависимости
```

#### Запуск:
```
✅ run_bot.py                # Python запуск
✅ start_bot.bat             # Windows запуск
✅ stop_bot.bat              # Windows остановка
✅ view_logs.bat             # Просмотр логов
```

#### Документация (важная):
```
✅ README.md                                    # Основная
✅ ГЛУБОКИЙ_АНАЛИЗ_СТРАТЕГИИ.md                # Анализ
✅ КОНЦЕПЦИЯ_ГИБРИДНОГО_БОТА.md                # Гибрид
✅ ДЕТАЛЬНОЕ_ОПИСАНИЕ_МОДУЛЕЙ.md               # Модули
✅ ПЛАН_МОДЕРНИЗАЦИИ_СТРАТЕГИИ.md              # Roadmap
✅ СРАВНЕНИЕ_ДВУХ_ПРОЕКТОВ.md                  # A vs B
✅ АРХИТЕКТУРА_ГИБРИДНОГО_ПРОЕКТА.md           # Архитектура
✅ СХЕМА_АРХИТЕКТУРЫ_С_ОПИСАНИЯМИ.txt          # ASCII схема
✅ БЕЗОПАСНОСТЬ_DASHBOARD.md                   # Security
✅ CHANGELOG_КРИТИЧЕСКИЕ_ИСПРАВЛЕНИЯ.md        # Changelog
✅ ИНСТРУКЦИЯ_ПОСЛЕ_ИСПРАВЛЕНИЙ.md             # Инструкции
✅ КАК_РАБОТАТЬ_С_GITHUB.md                    # Git guide
✅ GITHUB_DESKTOP_ИНСТРУКЦИЯ.md                # GitHub Desktop
```

#### Логи (локальные):
```
✅ logs/trading_bot_*.log    # Сохраняем (в .gitignore)
```

---

### ❌ НЕНУЖНЫЕ ФАЙЛЫ (Удаляем):

#### Дубликаты:
```
❌ 1/                         # Дублирующая папка (клон репозитория!)
❌ zxcvhgjfhdgsadsgdhfjklj;hgf.txt  # Мусорный файл
```

#### Устаревшая документация (переместим в docs/archive/):
```
⚠️ enhanced-scalping-strategy.py      # Старая версия стратегии
⚠️ enhanced-trading-system.md         # Проект A (референс)
⚠️ implementation-roadmap.md          # Проект A (референс)
⚠️ installation-guide.md              # Проект A (референс)
⚠️ security-system.md                 # Проект A (референс)
⚠️ strategy-documentation.md          # Проект A (референс)
⚠️ QUICK_START.txt                    # Дубликат
⚠️ SUMMARY_ИСПРАВЛЕНИЙ.txt            # Устарело
⚠️ БЫСТРЫЙ_СТАРТ.txt                  # Дубликат
⚠️ ИНСТРУКЦИЯ_ЗАПУСКА.md              # Устарело
⚠️ ИСПРАВЛЕНИЕ_ТОРГОВЛИ.md            # Устарело
⚠️ КАК_ИСПОЛЬЗОВАТЬ_BAT_ФАЙЛЫ.md     # Устарело
⚠️ НАСТРОЙКА_ЧАСТОТЫ_ТОРГОВЛИ.md     # Устарело
⚠️ НОВЫЙ_ФОРМАТ_ЛОГОВ.txt            # Устарело
⚠️ ПОЧЕМУ_SOLANA_ХОРОША.md           # Не критично
⚠️ ПРОВЕРКА_GITHUB.md                # Устарело
⚠️ ТЕКУЩИЕ_НАСТРОЙКИ.md              # Устарело
⚠️ ТОРГОВЫЕ_СЕССИИ.txt               # Устарело
```

#### Тестовые файлы:
```
⚠️ test_okx_signature.py      # Тестовый скрипт (переместим в tests/)
```

---

## 🎯 ЦЕЛЕВАЯ СТРУКТУРА (После реорганизации)

```
simple-trading-bot-okx/
│
├── 📂 src/                              # ИСХОДНЫЙ КОД
│   ├── 📄 __init__.py
│   ├── 📄 main.py
│   ├── 📄 config.py
│   ├── 📄 models.py
│   ├── 📄 okx_client.py
│   │
│   ├── 📂 strategies/
│   │   ├── 📄 __init__.py
│   │   ├── 📄 base_strategy.py        # ← НОВЫЙ (создадим)
│   │   ├── 📄 scalping_engine.py      # ← ПЕРЕИМЕНУЕМ из scalping.py
│   │   ├── 📄 grid_engine.py          # ← НОВЫЙ (создадим)
│   │   ├── 📄 hybrid_orchestrator.py  # ← НОВЫЙ (создадим)
│   │   │
│   │   └── 📂 modules/                # ← НОВАЯ ПАПКА
│   │       ├── 📄 __init__.py
│   │       ├── 📄 multi_timeframe.py      # ← НОВЫЙ
│   │       ├── 📄 correlation_filter.py   # ← НОВЫЙ
│   │       ├── 📄 time_filter.py          # ← НОВЫЙ
│   │       ├── 📄 pivot_points.py         # ← НОВЫЙ
│   │       ├── 📄 order_book_analyzer.py  # ← НОВЫЙ (Phase 2)
│   │       └── 📄 liquidity_zones.py      # ← НОВЫЙ (Phase 2)
│   │
│   ├── 📂 indicators/
│   │   ├── 📄 __init__.py
│   │   ├── 📄 base.py                 # ← ПЕРЕИМЕНУЕМ из indicators.py
│   │   │
│   │   └── 📂 advanced/               # ← НОВАЯ ПАПКА
│   │       ├── 📄 __init__.py
│   │       ├── 📄 volume_profile.py       # ← НОВЫЙ
│   │       └── 📄 pivot_calculator.py     # ← НОВЫЙ
│   │
│   ├── 📂 filters/                    # ← НОВАЯ ПАПКА
│   │   ├── 📄 __init__.py
│   │   ├── 📄 regime_detector.py          # ← НОВЫЙ (выделим из scalping.py)
│   │   ├── 📄 correlation_manager.py      # ← НОВЫЙ
│   │   └── 📄 time_session_manager.py     # ← НОВЫЙ
│   │
│   ├── 📂 risk/                       # ← НОВАЯ ПАПКА
│   │   ├── 📄 __init__.py
│   │   ├── 📄 position_sizer.py           # ← НОВЫЙ (выделим из scalping.py)
│   │   ├── 📄 risk_calculator.py          # ← НОВЫЙ (выделим из scalping.py)
│   │   └── 📄 portfolio_monitor.py        # ← НОВЫЙ
│   │
│   ├── 📂 utils/                      # ← НОВАЯ ПАПКА
│   │   ├── 📄 __init__.py
│   │   └── 📄 feature_flags.py            # ← НОВЫЙ
│   │
│   └── 📂 ml/                         # ← НОВАЯ ПАПКА (Phase 3)
│       ├── 📄 __init__.py
│       └── 📄 rl_agent.py                 # ← НОВЫЙ (опционально)
│
├── 📂 config/                           # ← НОВАЯ ПАПКА
│   ├── 📄 config.yaml                # ← ПЕРЕМЕСТИМ из корня
│   ├── 📄 features.yaml              # ← НОВЫЙ (Feature Flags)
│   ├── 📄 config.demo.yaml           # ← НОВЫЙ (Demo настройки)
│   └── 📄 config.prod.yaml           # ← НОВЫЙ (Production)
│
├── 📂 data/                             # ← НОВАЯ ПАПКА
│   ├── 📂 historical/                # Для бэктеста
│   ├── 📂 cache/                     # Кэш индикаторов
│   └── 📄 trading_bot.db             # SQLite база
│
├── 📂 logs/                             # ← УЖЕ ЕСТЬ
│   └── 📄 trading_bot_*.log
│
├── 📂 backups/                          # ← НОВАЯ ПАПКА (опционально)
│   └── 📄 state_*.json
│
├── 📂 tests/                            # ← НОВАЯ ПАПКА
│   ├── 📄 __init__.py
│   ├── 📂 unit/
│   ├── 📂 integration/
│   │   └── 📄 test_okx_signature.py  # ← ПЕРЕМЕСТИМ сюда
│   └── 📂 backtest/
│
├── 📂 scripts/                          # ← НОВАЯ ПАПКА
│   ├── 📄 collect_statistics.py      # ← НОВЫЙ
│   ├── 📄 backtest_runner.py         # ← НОВЫЙ
│   └── 📄 optimize_parameters.py     # ← НОВЫЙ
│
├── 📂 docs/                             # ← НОВАЯ ПАПКА
│   ├── 📂 current/                   # Актуальная документация
│   │   ├── 📄 ГЛУБОКИЙ_АНАЛИЗ_СТРАТЕГИИ.md
│   │   ├── 📄 КОНЦЕПЦИЯ_ГИБРИДНОГО_БОТА.md
│   │   ├── 📄 ДЕТАЛЬНОЕ_ОПИСАНИЕ_МОДУЛЕЙ.md
│   │   ├── 📄 ПЛАН_МОДЕРНИЗАЦИИ_СТРАТЕГИИ.md
│   │   ├── 📄 СРАВНЕНИЕ_ДВУХ_ПРОЕКТОВ.md
│   │   ├── 📄 АРХИТЕКТУРА_ГИБРИДНОГО_ПРОЕКТА.md
│   │   ├── 📄 СХЕМА_АРХИТЕКТУРЫ_С_ОПИСАНИЯМИ.txt
│   │   ├── 📄 БЕЗОПАСНОСТЬ_DASHBOARD.md
│   │   ├── 📄 CHANGELOG_КРИТИЧЕСКИЕ_ИСПРАВЛЕНИЯ.md
│   │   └── 📄 ИНСТРУКЦИЯ_ПОСЛЕ_ИСПРАВЛЕНИЙ.md
│   │
│   ├── 📂 guides/                    # Руководства
│   │   ├── 📄 КАК_РАБОТАТЬ_С_GITHUB.md
│   │   └── 📄 GITHUB_DESKTOP_ИНСТРУКЦИЯ.md
│   │
│   └── 📂 archive/                   # Архив (старая документация)
│       ├── 📄 enhanced-trading-system.md
│       ├── 📄 implementation-roadmap.md
│       ├── 📄 installation-guide.md
│       ├── 📄 security-system.md
│       ├── 📄 strategy-documentation.md
│       ├── 📄 QUICK_START.txt
│       ├── 📄 SUMMARY_ИСПРАВЛЕНИЙ.txt
│       ├── 📄 БЫСТРЫЙ_СТАРТ.txt
│       ├── 📄 ИНСТРУКЦИЯ_ЗАПУСКА.md
│       ├── 📄 ИСПРАВЛЕНИЕ_ТОРГОВЛИ.md
│       ├── 📄 КАК_ИСПОЛЬЗОВАТЬ_BAT_ФАЙЛЫ.md
│       ├── 📄 НАСТРОЙКА_ЧАСТОТЫ_ТОРГОВЛИ.md
│       ├── 📄 НОВЫЙ_ФОРМАТ_ЛОГОВ.txt
│       ├── 📄 ПОЧЕМУ_SOLANA_ХОРОША.md
│       ├── 📄 ПРОВЕРКА_GITHUB.md
│       ├── 📄 ТЕКУЩИЕ_НАСТРОЙКИ.md
│       └── 📄 ТОРГОВЫЕ_СЕССИИ.txt
│
├── 📄 .env                              # ← УЖЕ ЕСТЬ (локально)
├── 📄 .env.example                      # ← УЖЕ ЕСТЬ
├── 📄 .gitignore                        # ← УЖЕ ЕСТЬ
├── 📄 .pre-commit-config.yaml           # ← УЖЕ ЕСТЬ
├── 📄 config.yaml                       # ← ПЕРЕМЕСТИМ в config/
├── 📄 requirements.txt                  # ← УЖЕ ЕСТЬ
├── 📄 README.md                         # ← ОБНОВИМ
├── 📄 run_bot.py                        # ← УЖЕ ЕСТЬ
├── 📄 start_bot.bat                     # ← УЖЕ ЕСТЬ
├── 📄 stop_bot.bat                      # ← УЖЕ ЕСТЬ
├── 📄 view_logs.bat                     # ← УЖЕ ЕСТЬ
│
├── 📄 CODING_STANDARDS.md               # ← НОВЫЙ! Правила кодинга
├── 📄 PROJECT_RULES.md                  # ← НОВЫЙ! Правила проекта
└── 📄 DEVELOPMENT_GUIDE.md              # ← НОВЫЙ! Руководство разработки
```

---

### ❌ УДАЛЯЕМ:

```
❌ 1/                                    # Дубликат (клонированный репозиторий)
❌ zxcvhgjfhdgsadsgdhfjklj;hgf.txt      # Мусорный файл
❌ enhanced-scalping-strategy.py        # Старая версия (переместим в archive)
```

---

## 🔄 ПЛАН РЕОРГАНИЗАЦИИ (Пошагово)

### ШАГ 1: Очистка (удаление мусора)

```bash
# 1. Удалить дубликат репозитория
git rm -r 1/

# 2. Удалить мусорный файл
git rm zxcvhgjfhdgsadsgdhfjklj;hgf.txt

# 3. Commit
git commit -m "Clean up duplicate repo and junk files"
git push
```

---

### ШАГ 2: Создание новой структуры папок

```bash
# Создаем новые папки
mkdir -p src/strategies/modules
mkdir -p src/indicators/advanced
mkdir -p src/filters
mkdir -p src/risk
mkdir -p src/utils
mkdir -p src/ml
mkdir -p config
mkdir -p data/historical
mkdir -p data/cache
mkdir -p backups
mkdir -p tests/unit
mkdir -p tests/integration
mkdir -p tests/backtest
mkdir -p scripts
mkdir -p docs/current
mkdir -p docs/guides
mkdir -p docs/archive

# Создаем __init__.py для всех Python папок
touch src/strategies/modules/__init__.py
touch src/indicators/advanced/__init__.py
touch src/filters/__init__.py
touch src/risk/__init__.py
touch src/utils/__init__.py
touch src/ml/__init__.py
touch tests/__init__.py
touch tests/unit/__init__.py
touch tests/integration/__init__.py
touch tests/backtest/__init__.py
```

---

### ШАГ 3: Перемещение файлов

```bash
# Конфигурация
mv config.yaml config/config.yaml
ln -s config/config.yaml config.yaml  # Симлинк для обратной совместимости

# Документация - актуальная
mv ГЛУБОКИЙ_АНАЛИЗ_СТРАТЕГИИ.md docs/current/
mv КОНЦЕПЦИЯ_ГИБРИДНОГО_БОТА.md docs/current/
mv ДЕТАЛЬНОЕ_ОПИСАНИЕ_МОДУЛЕЙ.md docs/current/
mv ПЛАН_МОДЕРНИЗАЦИИ_СТРАТЕГИИ.md docs/current/
mv СРАВНЕНИЕ_ДВУХ_ПРОЕКТОВ.md docs/current/
mv АРХИТЕКТУРА_ГИБРИДНОГО_ПРОЕКТА.md docs/current/
mv СХЕМА_АРХИТЕКТУРЫ_С_ОПИСАНИЯМИ.txt docs/current/
mv БЕЗОПАСНОСТЬ_DASHBOARD.md docs/current/
mv CHANGELOG_КРИТИЧЕСКИЕ_ИСПРАВЛЕНИЯ.md docs/current/
mv ИНСТРУКЦИЯ_ПОСЛЕ_ИСПРАВЛЕНИЙ.md docs/current/

# Руководства
mv КАК_РАБОТАТЬ_С_GITHUB.md docs/guides/
mv GITHUB_DESKTOP_ИНСТРУКЦИЯ.md docs/guides/

# Архив (старая документация)
mv enhanced-trading-system.md docs/archive/
mv implementation-roadmap.md docs/archive/
mv installation-guide.md docs/archive/
mv security-system.md docs/archive/
mv strategy-documentation.md docs/archive/
mv enhanced-scalping-strategy.py docs/archive/
mv QUICK_START.txt docs/archive/
mv SUMMARY_ИСПРАВЛЕНИЙ.txt docs/archive/
mv БЫСТРЫЙ_СТАРТ.txt docs/archive/
mv ИНСТРУКЦИЯ_ЗАПУСКА.md docs/archive/
mv ИСПРАВЛЕНИЕ_ТОРГОВЛИ.md docs/archive/
mv КАК_ИСПОЛЬЗОВАТЬ_BAT_ФАЙЛЫ.md docs/archive/
mv НАСТРОЙКА_ЧАСТОТЫ_ТОРГОВЛИ.md docs/archive/
mv НОВЫЙ_ФОРМАТ_ЛОГОВ.txt docs/archive/
mv ПОЧЕМУ_SOLANA_ХОРОША.md docs/archive/
mv ПРОВЕРКА_GITHUB.md docs/archive/
mv ТЕКУЩИЕ_НАСТРОЙКИ.md docs/archive/
mv ТОРГОВЫЕ_СЕССИИ.txt docs/archive/

# Тесты
mv test_okx_signature.py tests/integration/

# Индикаторы (переименуем)
mv src/indicators.py src/indicators/base.py
```

---

### ШАГ 4: Создание новых файлов

**ПРАВИЛА И СТАНДАРТЫ** (создадим в корне):

1. `CODING_STANDARDS.md` - Правила кодирования
2. `PROJECT_RULES.md` - Правила проекта
3. `DEVELOPMENT_GUIDE.md` - Руководство разработчика
4. `CONTRIBUTING.md` - Как контрибьютить

**КОНФИГУРАЦИИ**:

5. `config/features.yaml` - Feature Flags
6. `config/config.demo.yaml` - Demo настройки
7. `config/config.prod.yaml` - Production

---

## 📋 ДЕТАЛЬНЫЙ СКРИПТ РЕОРГАНИЗАЦИИ

Создам bash скрипт для автоматизации:

```bash
#!/bin/bash
# reorganize_project.sh

echo "🗂️ Реорганизация проекта..."

# ===== ШАГ 1: Очистка =====
echo "📁 Шаг 1: Очистка мусора"

git rm -rf 1/
git rm zxcvhgjfhdgsadsgdhfjklj;hgf.txt

# ===== ШАГ 2: Создание папок =====
echo "📁 Шаг 2: Создание структуры"

mkdir -p src/strategies/modules
mkdir -p src/indicators/advanced
mkdir -p src/filters
mkdir -p src/risk
mkdir -p src/utils
mkdir -p src/ml
mkdir -p config
mkdir -p data/{historical,cache}
mkdir -p backups
mkdir -p tests/{unit,integration,backtest}
mkdir -p scripts
mkdir -p docs/{current,guides,archive}

# __init__.py файлы
touch src/strategies/modules/__init__.py
touch src/indicators/__init__.py
touch src/indicators/advanced/__init__.py
touch src/filters/__init__.py
touch src/risk/__init__.py
touch src/utils/__init__.py
touch src/ml/__init__.py
touch tests/__init__.py
touch tests/{unit,integration,backtest}/__init__.py

# ===== ШАГ 3: Перемещение документации =====
echo "📁 Шаг 3: Реорганизация документации"

# Актуальная
git mv ГЛУБОКИЙ_АНАЛИЗ_СТРАТЕГИИ.md docs/current/
git mv КОНЦЕПЦИЯ_ГИБРИДНОГО_БОТА.md docs/current/
git mv ДЕТАЛЬНОЕ_ОПИСАНИЕ_МОДУЛЕЙ.md docs/current/
git mv ПЛАН_МОДЕРНИЗАЦИИ_СТРАТЕГИИ.md docs/current/
git mv СРАВНЕНИЕ_ДВУХ_ПРОЕКТОВ.md docs/current/
git mv АРХИТЕКТУРА_ГИБРИДНОГО_ПРОЕКТА.md docs/current/
git mv СХЕМА_АРХИТЕКТУРЫ_С_ОПИСАНИЯМИ.txt docs/current/
git mv БЕЗОПАСНОСТЬ_DASHBOARD.md docs/current/
git mv CHANGELOG_КРИТИЧЕСКИЕ_ИСПРАВЛЕНИЯ.md docs/current/
git mv ИНСТРУКЦИЯ_ПОСЛЕ_ИСПРАВЛЕНИЙ.md docs/current/

# Руководства
git mv КАК_РАБОТАТЬ_С_GITHUB.md docs/guides/
git mv GITHUB_DESKTOP_ИНСТРУКЦИЯ.md docs/guides/

# Архив
git mv enhanced-trading-system.md docs/archive/
git mv implementation-roadmap.md docs/archive/
git mv installation-guide.md docs/archive/
git mv security-system.md docs/archive/
git mv strategy-documentation.md docs/archive/
git mv enhanced-scalping-strategy.py docs/archive/
git mv QUICK_START.txt docs/archive/
git mv SUMMARY_ИСПРАВЛЕНИЙ.txt docs/archive/
git mv БЫСТРЫЙ_СТАРТ.txt docs/archive/
git mv ИНСТРУКЦИЯ_ЗАПУСКА.md docs/archive/
git mv ИСПРАВЛЕНИЕ_ТОРГОВЛИ.md docs/archive/
git mv КАК_ИСПОЛЬЗОВАТЬ_BAT_ФАЙЛЫ.md docs/archive/
git mv НАСТРОЙКА_ЧАСТОТЫ_ТОРГОВЛИ.md docs/archive/
git mv НОВЫЙ_ФОРМАТ_ЛОГОВ.txt docs/archive/
git mv ПОЧЕМУ_SOLANA_ХОРОША.md docs/archive/
git mv ПРОВЕРКА_GITHUB.md docs/archive/
git mv ТЕКУЩИЕ_НАСТРОЙКИ.md docs/archive/
git mv ТОРГОВЫЕ_СЕССИИ.txt docs/archive/

# ===== ШАГ 4: Конфигурация =====
echo "📁 Шаг 4: Реорганизация конфигурации"

git mv config.yaml config/config.yaml

# Создаем симлинк для обратной совместимости
# Windows: mklink config.yaml config\config.yaml
# Linux: ln -s config/config.yaml config.yaml

# ===== ШАГ 5: Тесты =====
echo "📁 Шаг 5: Перемещение тестов"

git mv test_okx_signature.py tests/integration/

# ===== ШАГ 6: Commit =====
echo "📁 Шаг 6: Сохранение изменений"

git add .
git commit -m "Project reorganization: new modular structure"
git push

echo "✅ Реорганизация завершена!"
```

---

## 📜 ПРАВИЛА КОДИНГА (CODING_STANDARDS.md)

Создам детальный документ с правилами:

**Содержание**:
1. Python Style Guide (PEP 8 + дополнения)
2. Naming Conventions
3. Code Structure
4. Documentation
5. Testing Requirements
6. Git Workflow
7. Code Review Checklist

---

**Хотите чтобы я создал**:
1. ✅ Скрипт реорганизации (выполнит всё автоматически)
2. ✅ CODING_STANDARDS.md (правила кодирования)
3. ✅ PROJECT_RULES.md (правила проекта)
4. ✅ DEVELOPMENT_GUIDE.md (руководство разработки)

**И потом выполнить реорганизацию?** 🚀

