# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Futures —Ç–æ—Ä–≥–æ–≤–ª–∏
# –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞ –¥–ª—è Futures

# API –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
api:
  okx:
    api_key: "${OKX_API_KEY}"
    api_secret: "${OKX_API_SECRET}"
    passphrase: "${OKX_PASSPHRASE}"
    sandbox: true  # true –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, false –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏

# –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏
trading:
  symbols:
    - "BTC-USDT"
    - "ETH-USDT"
  base_currency: "USDT"
  trading_mode: "futures"

# Futures —Ç–æ—Ä–≥–æ–≤–ª—è
scalping:
  enabled: true
  symbols:
    - "BTC-USDT"
    - "ETH-USDT"
  
  # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞ (–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è Futures)
  min_signal_strength: 0.25  # –ë–æ–ª–µ–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã
  max_concurrent_signals: 3  # –ú–µ–Ω—å—à–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
  base_risk_percentage: 0.03  # –ë–æ–ª—å—à–∏–π —Ä–∏—Å–∫ (3%)
  min_position_size: 0.001  # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏
  
  # Take Profit –∏ Stop Loss (–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è Futures)
  tp_percent: 0.4  # ‚úÖ –£–õ–£–ß–®–ï–ù–û: –ë—ã–ª–æ 0.3 ‚Üí —Ç–µ–ø–µ—Ä—å 0.4 –¥–ª—è –ª—É—á—à–µ–≥–æ Risk/Reward (1.5:1 –≤–º–µ—Å—Ç–æ 0.92:1)
  sl_percent: 0.2  # –ú–µ–Ω—å—à–µ SL –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è
  
  # –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  adaptive_tp_sl: true  # –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ TP/SL –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
  volatility_multiplier: 1.2  # –ú–µ–Ω—å—à–∏–π –º–Ω–æ–∂–∏—Ç–µ–ª—å –¥–ª—è Futures
  
  # Balance Profiles - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ä–∞–∑–º–µ—Ä –±–∞–ª–∞–Ω—Å–∞ (–ë–ï–ó–û–ü–ê–°–ù–û!)
  balance_profiles:
    small:  # $100 - $1500
      threshold: 1500.0
      base_position_usd: 150.0  # ‚úÖ –£–í–ï–õ–ò–ß–ï–ù–û –¥–ª—è BTC (0.001 BTC ‚âà $113 –º–∏–Ω–∏–º—É–º!)
      min_position_usd: 120.0   # ‚úÖ –ú–ò–ù–ò–ú–£–ú –¥–ª—è BTC (0.001 BTC)
      max_position_usd: 200.0   # ‚úÖ –ú–∞–∫—Å–∏–º—É–º 
      max_open_positions: 2     # ‚úÖ –ú–∞–∫—Å–∏–º—É–º 2 –ø–æ–∑–∏—Ü–∏–∏
      max_position_percent: 20.0 # ‚úÖ –£–õ–£–ß–®–ï–ù–û: –ë—ã–ª–æ 30% ‚Üí —Ç–µ–ø–µ—Ä—å 20% (—Å leverage 3x = 60% –±–∞–ª–∞–Ω—Å–∞ –≤ —Ä–∏—Å–∫–µ –≤–º–µ—Å—Ç–æ 90%)
    medium:  # $1500 - $3000
      threshold: 3000.0
      base_position_usd: 100.0  # ‚úÖ –£–õ–£–ß–®–ï–ù–û: –ë—ã–ª–æ 75 ‚Üí —Ç–µ–ø–µ—Ä—å 100 (–±–æ–ª–µ–µ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä)
      min_position_usd: 50.0    # ‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –£–õ–£–ß–®–ï–ù–ò–ï: –ë—ã–ª–æ 15 ‚Üí —Ç–µ–ø–µ—Ä—å 50 (–∫–æ–º–∏—Å—Å–∏—è –º–µ–Ω—å—à–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å)
      max_position_usd: 125.0   # üî• –ú–ï–ù–¨–®–ï! –ë—ã–ª–æ 250
      max_open_positions: 3
      max_position_percent: 6.0  # üî• –ú–ï–ù–¨–®–ï! –ë—ã–ª–æ 10%
    large:  # $3000+
      threshold: 999999.0
      base_position_usd: 150.0  # üî• –ú–ï–ù–¨–®–ï! –ë—ã–ª–æ 500
      min_position_usd: 30.0    # üî• –ú–ï–ù–¨–®–ï! –ë—ã–ª–æ 50
      max_position_usd: 250.0   # üî• –ú–ï–ù–¨–®–ï! –ë—ã–ª–æ 500
      max_open_positions: 4
      max_position_percent: 8.0  # üî• –ú–ï–ù–¨–®–ï! –ë—ã–ª–æ 12%
  
  # Adaptive Regime Manager - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ä–µ–∂–∏–º —Ä—ã–Ω–∫–∞
  adaptive_regime:
    enabled: true
    detection:
      trending_adx_threshold: 20.0  # Futures: –Ω–∏–∂–µ –ø–æ—Ä–æ–≥ –¥–ª—è —Ç—Ä–µ–Ω–¥–∞ (–±—ã—Å—Ç—Ä–µ–µ)
      ranging_adx_threshold: 15.0   # Futures: –Ω–∏–∂–µ –ø–æ—Ä–æ–≥ –¥–ª—è —Ñ–ª—ç—Ç–∞
      high_volatility_threshold: 0.03  # 3% –¥–ª—è Futures
      lookback_candles: 50  # –ú–µ–Ω—å—à–µ —Å–≤–µ—á–µ–π –¥–ª—è Futures (–±—ã—Å—Ç—Ä–µ–µ)
      adx_period: 9  # –ë—ã—Å—Ç—Ä—ã–π ADX –¥–ª—è Futures
    
    # Trending —Ä–µ–∂–∏–º (—Ç—Ä–µ–Ω–¥)
    trending:
      min_score_threshold: 4  # –ù–∏–∂–µ –¥–ª—è Futures
      max_trades_per_hour: 25  # ‚úÖ –ë–û–õ–¨–®–ï –¥–ª—è Futures (–±—ã—Å—Ç—Ä–∞—è —Å–∏—Å—Ç–µ–º–∞)
      position_size_multiplier: 1.0  # üî• –ú–ï–ù–¨–®–ï! –ë—ã–ª–æ 1.2
      tp_atr_multiplier: 0.6  # üî• –ú–ï–ù–¨–®–ï! –ë—ã–ª–æ 0.8
      sl_atr_multiplier: 0.4  # üî• –ú–ï–ù–¨–®–ï! –ë—ã–ª–æ 0.6
      max_holding_minutes: 30
      cooldown_after_loss_minutes: 2
      pivot_bonus_multiplier: 1.3
      volume_profile_bonus_multiplier: 1.1
      ph_enabled: true
      ph_threshold: 0.2  # 20 —Ü–µ–Ω—Ç–æ–≤ –¥–ª—è Futures
      ph_time_limit: 180  # 3 –º–∏–Ω—É—Ç—ã
      
      # –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –¥–ª—è —Ç—Ä–µ–Ω–¥–∞
      indicators:
        rsi_overbought: 75
        rsi_oversold: 25
        volume_threshold: 1.15
        sma_fast: 8
        sma_slow: 21
        ema_fast: 8
        ema_slow: 21
        atr_period: 14
        min_volatility_atr: 0.0004
      
      # –ú–æ–¥—É–ª–∏ –¥–ª—è —Ç—Ä–µ–Ω–¥–∞
      modules:
        multi_timeframe:
          block_opposite: false
          score_bonus: 1
          confirmation_timeframe: "15m"
        correlation_filter:
          threshold: 0.7
          max_correlated_positions: 1
          block_same_direction_only: true
        pivot_points:
          level_tolerance_percent: 0.2
          score_bonus_near_level: 2
          use_last_n_days: 3
        volume_profile:
          score_bonus_in_value_area: 1
          score_bonus_near_poc: 2
          poc_tolerance_percent: 0.3
          lookback_candles: 200
        adx_filter:
          adx_threshold: 18.0  # –ù–∏–∂–µ –¥–ª—è Futures
          adx_di_difference: 1.5
    
    # Ranging —Ä–µ–∂–∏–º (—Ñ–ª—ç—Ç)
    ranging:
      min_score_threshold: 3
      max_trades_per_hour: 15  # üî• –ú–ï–ù–¨–®–ï! –ë—ã–ª–æ 18
      position_size_multiplier: 0.9  # üî• –ú–ï–ù–¨–®–ï! –ë—ã–ª–æ 1.0
      tp_atr_multiplier: 0.5  # üî• –ú–ï–ù–¨–®–ï! –ë—ã–ª–æ 0.6
      sl_atr_multiplier: 0.4  # üî• –ú–ï–ù–¨–®–ï! –ë—ã–ª–æ 0.5
      max_holding_minutes: 15
      cooldown_after_loss_minutes: 3
      pivot_bonus_multiplier: 1.2
      volume_profile_bonus_multiplier: 1.0
      ph_enabled: true
      ph_threshold: 0.15
      ph_time_limit: 120
      
      indicators:
        rsi_overbought: 70
        rsi_oversold: 30
        volume_threshold: 1.1
        sma_fast: 10
        sma_slow: 25
        ema_fast: 10
        ema_slow: 25
        atr_period: 14
        min_volatility_atr: 0.0003
      
      modules:
        multi_timeframe:
          block_opposite: true
          score_bonus: 2
          confirmation_timeframe: "5m"
        correlation_filter:
          threshold: 0.65
          max_correlated_positions: 1
          block_same_direction_only: true
        pivot_points:
          level_tolerance_percent: 0.25
          score_bonus_near_level: 1
          use_last_n_days: 4
        volume_profile:
          score_bonus_in_value_area: 0
          score_bonus_near_poc: 1
          poc_tolerance_percent: 0.4
          lookback_candles: 150
        adx_filter:
          adx_threshold: 15.0
          adx_di_difference: 1.2
    
    # Choppy —Ä–µ–∂–∏–º (—Ö–∞–æ—Å)
    choppy:
      min_score_threshold: 6  # üî• –ë–û–õ–¨–®–ï! –ë—ã–ª–æ 5 (—Å—Ç—Ä–æ–∂–µ –≤—Ö–æ–¥)
      max_trades_per_hour: 5  # üî• –ú–ï–ù–¨–®–ï! –ë—ã–ª–æ 8 (–∑–∞—â–∏—Ç–∞!)
      position_size_multiplier: 0.5  # üî• –ú–ï–ù–¨–®–ï! –ë—ã–ª–æ 0.7
      tp_atr_multiplier: 0.3  # üî• –ú–ï–ù–¨–®–ï! –ë—ã–ª–æ 0.5 (–±—ã—Å—Ç—Ä—ã–π –≤—ã—Ö–æ–¥)
      sl_atr_multiplier: 0.3  # üî• –ú–ï–ù–¨–®–ï! –ë—ã–ª–æ 0.4 (—Ç–∞–π—Ç-—Å—Ç–æ–ø)
      max_holding_minutes: 10
      cooldown_after_loss_minutes: 5
      pivot_bonus_multiplier: 1.0
      volume_profile_bonus_multiplier: 0.9
      ph_enabled: true
      ph_threshold: 0.1
      ph_time_limit: 60
      
      indicators:
        rsi_overbought: 65
        rsi_oversold: 35
        volume_threshold: 1.2
        sma_fast: 12
        sma_slow: 30
        ema_fast: 12
        ema_slow: 30
        atr_period: 20
        min_volatility_atr: 0.0005
      
      modules:
        multi_timeframe:
          block_opposite: true
          score_bonus: 3
          confirmation_timeframe: "5m"
        correlation_filter:
          threshold: 0.6
          max_correlated_positions: 0
          block_same_direction_only: false
        pivot_points:
          level_tolerance_percent: 0.3
          score_bonus_near_level: 0
          use_last_n_days: 5
        volume_profile:
          score_bonus_in_value_area: -1
          score_bonus_near_poc: 0
          poc_tolerance_percent: 0.5
          lookback_candles: 100
        adx_filter:
          adx_threshold: 12.0
          adx_di_difference: 1.0
  
  # –§–∏–ª—å—Ç—Ä—ã (–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è Futures)
  enable_rsi_filter: true
  enable_macd_filter: true
  enable_bollinger_filter: true
  enable_ma_filter: true
  
  # RSI –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è Futures)
  rsi_period: 14
  rsi_oversold: 25  # –ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ —É—Ä–æ–≤–Ω–∏
  rsi_overbought: 75
  
  # MACD –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  macd_fast: 12
  macd_slow: 26
  macd_signal: 9
  
  # Bollinger Bands –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  bb_period: 20
  bb_std_dev: 1.8  # –ë–æ–ª–µ–µ —É–∑–∫–∏–µ –ø–æ–ª–æ—Å—ã –¥–ª—è Futures
  
  # Moving Average –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  ma_fast: 10  # –ë–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–µ MA –¥–ª—è Futures
  ma_slow: 21

# –†–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç –¥–ª—è Futures
risk:
  max_position_size_percent: 3.0  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ –≤ % –æ—Ç –±–∞–ª–∞–Ω—Å–∞ (–º–µ–Ω—å—à–µ –¥–ª—è Futures)
  max_daily_loss_percent: 5.0  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–Ω–µ–≤–Ω–∞—è –ø–æ—Ç–µ—Ä—è –≤ % –æ—Ç –±–∞–ª–∞–Ω—Å–∞ (—Å—Ç—Ä–æ–∂–µ –¥–ª—è Futures)
  risk_per_trade_percent: 1.5  # –†–∏—Å–∫ –Ω–∞ —Å–¥–µ–ª–∫—É –≤ % –æ—Ç –±–∞–ª–∞–Ω—Å–∞
  max_open_positions: 2  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π (–º–µ–Ω—å—à–µ –¥–ª—è Futures)
  
  # –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–æ–º
  adaptive_risk: true
  balance_threshold: 0.8  # –ü–æ—Ä–æ–≥ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è —Ä–∏—Å–∫–∞ (80% –æ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞)
  risk_reduction_factor: 0.5  # –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–Ω–∏–∂–µ–Ω–∏—è —Ä–∏—Å–∫–∞
  
  # –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –º–∏–Ω–∏–º—É–º—ã –¥–ª—è Futures (–±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ)
  adaptive_minimums:
    small:  # $100 - $1500
      balance_threshold: 1500.0
      minimum_order_usd: 5.0  # Futures –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω—å—à–µ
    medium:  # $1500 - $2300
      balance_threshold: 2300.0
      minimum_order_usd: 10.0  # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–∏–Ω–∏–º—É–º
    large:  # $2300+
      balance_threshold: 999999.0  # –ë–æ–ª—å—à–æ–µ —á–∏—Å–ª–æ –¥–ª—è "–æ—Ç"
      minimum_order_usd: 15.0  # –ë–æ–ª—å—à–µ –¥–ª—è –±–æ–ª—å—à–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã Futures-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
futures_modules:
  # Slippage Guard
  slippage_guard:
    max_slippage_percent: 0.1  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ (0.1%)
    max_spread_percent: 0.05  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Å–ø—Ä–µ–¥ (0.05%)
    order_timeout: 30.0  # –¢–∞–π–º–∞—É—Ç –æ—Ä–¥–µ—Ä–∞ (30 —Å–µ–∫)
  
  # Order Flow Indicator
  order_flow:
    window: 100  # –†–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
    long_threshold: 0.1  # –ü–æ—Ä–æ–≥ –¥–ª—è –±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω–æ—Å—Ç–∏ –ª–æ–Ω–≥–∞ (10%)
    short_threshold: -0.1  # –ü–æ—Ä–æ–≥ –¥–ª—è –±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω–æ—Å—Ç–∏ —à–æ—Ä—Ç–∞ (-10%)
  
  # Micro Pivot Calculator
  micro_pivot:
    timeframe: "15m"  # –¢–∞–π–º—Ñ—Ä–µ–π–º –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –ø–∏–≤–æ—Ç–æ–≤
    max_distance_pct: 0.3  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ TP (0.3%)
  
  # Trailing Stop Loss
  trailing_sl:
    initial_trail: 0.05  # –ù–∞—á–∞–ª—å–Ω—ã–π —Ç—Ä–µ–π–ª–∏–Ω–≥ (0.05%)
    max_trail: 0.2  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ç—Ä–µ–π–ª–∏–Ω–≥ (0.2%)
    min_trail: 0.02  # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ç—Ä–µ–π–ª–∏–Ω–≥ (0.02%)
    trading_fee_rate: 0.001  # –ö–æ–º–∏—Å—Å–∏—è –Ω–∞ –∫—Ä—É–≥ (0.1% = 0.05% –≤—Ö–æ–¥ + 0.05% –≤—ã—Ö–æ–¥ –¥–ª—è taker –Ω–∞ OKX)
  
  # Funding Rate Monitor
  funding_monitor:
    max_funding_rate: 0.05  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –¥–æ–ø—É—Å—Ç–∏–º—ã–π funding (5%)
  
  # Max Size Limiter
  max_size_limiter:
    max_single_size_usd: 1000.0  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –æ–¥–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ ($1000)
    max_total_size_usd: 5000.0  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–π ($5000) - –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨, –ù–ï –ë–ê–õ–ê–ù–°!
    max_positions: 5  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∑–∏—Ü–∏–π
    size_step_btc: 0.001  # –®–∞–≥ —Ä–∞–∑–º–µ—Ä–∞ –¥–ª—è BTC (0.001 BTC) - –û–ö –¥–ª—è —Ç–µ—Å—Ç–∞
    size_step_eth: 0.01  # –®–∞–≥ —Ä–∞–∑–º–µ—Ä–∞ –¥–ª—è ETH (0.01 ETH)

# Manual pools –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
manual_pools: {}