# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ú–ê–õ–ê–Ø –ú–ê–†–ñ–ê –ü–û–ó–ò–¶–ò–ô

**–î–∞—Ç–∞:** 2025-11-12  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–∞—Ä–∂–∞ –ø–æ–∑–∏—Ü–∏–π —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∞—è ($10-12 –≤–º–µ—Å—Ç–æ –æ–∂–∏–¥–∞–µ–º—ã—Ö $50-150)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

---

## üîç –ü–†–ò–ß–ò–ù–ê –ü–†–û–ë–õ–ï–ú–´

### –ü—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–¥–µ (`orchestrator.py`, —Å—Ç—Ä–æ–∫–∏ 2587-2590):

**–ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```python
if position_overrides.get("min_position_usd") is not None:
    min_usd_size = float(position_overrides["min_position_usd"])  # ‚ùå –ü–ï–†–ï–ó–ê–ü–ò–°–´–í–ê–ï–¢!
if position_overrides.get("max_position_usd") is not None:
    max_usd_size = float(position_overrides["max_position_usd"])  # ‚ùå –ü–ï–†–ï–ó–ê–ü–ò–°–´–í–ê–ï–¢!
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- `min_position_usd` –∏ `max_position_usd` –∏–∑ `symbol_profiles` **–í–°–ï–ì–î–ê** –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ `balance_profile`, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –±—ã–ª–∏ –º–µ–Ω—å—à–µ!
- –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ —Ç–æ–º—É, —á—Ç–æ —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–ª—Å—è –¥–æ –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ `symbol_profiles` ($22-52 –¥–ª—è ETH, $24-58 –¥–ª—è BTC), –≤–º–µ—Å—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ `balance_profile` ($50-180 –¥–ª—è small –ø—Ä–æ—Ñ–∏–ª—è).

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### –ò–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è min/max –∏–∑ symbol_profiles:

**–°–¢–ê–õ–û (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```python
# ‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: min/max –∏–∑ symbol_profiles –Ω–µ –¥–æ–ª–∂–Ω—ã —É–º–µ–Ω—å—à–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ balance_profile
# –ò—Å–ø–æ–ª—å–∑—É–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ symbol_profiles —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω–∏ –±–æ–ª—å—à–µ/—Ä–∞–≤–Ω—ã –∑–Ω–∞—á–µ–Ω–∏—è–º –∏–∑ balance_profile
if position_overrides.get("min_position_usd") is not None:
    symbol_min = float(position_overrides["min_position_usd"])
    balance_min = min_usd_size  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–±–æ–ª–µ–µ –ª–∏–±–µ—Ä–∞–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ)
    # –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ balance_profile –Ω–µ –±—É–¥—É—Ç —É–º–µ–Ω—å—à–µ–Ω—ã
    if symbol_min > min_usd_size:
        min_usd_size = symbol_min
        logger.debug(
            f"üìä Min position size –∏–∑ symbol_profiles (${symbol_min:.2f}) –±–æ–ª—å—à–µ "
            f"balance_profile (${balance_min:.2f}), –∏—Å–ø–æ–ª—å–∑—É–µ–º ${symbol_min:.2f}"
        )
    else:
        logger.debug(
            f"üìä Min position size –∏–∑ symbol_profiles (${symbol_min:.2f}) –º–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ "
            f"balance_profile (${balance_min:.2f}), –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º (–∏—Å–ø–æ–ª—å–∑—É–µ–º ${balance_min:.2f})"
        )
        
if position_overrides.get("max_position_usd") is not None:
    symbol_max = float(position_overrides["max_position_usd"])
    balance_max = max_usd_size  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
    # ‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ï—Å–ª–∏ symbol_max –º–µ–Ω—å—à–µ base_usd_size –∏–∑ balance_profile,
    # –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º –µ–≥–æ, —á—Ç–æ–±—ã –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏
    if symbol_max < base_usd_size:
        logger.warning(
            f"‚ö†Ô∏è Max position size –∏–∑ symbol_profiles (${symbol_max:.2f}) –º–µ–Ω—å—à–µ "
            f"base_usd_size –∏–∑ balance_profile (${base_usd_size:.2f}), "
            f"–∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º symbol_profiles –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ (–∏—Å–ø–æ–ª—å–∑—É–µ–º ${balance_max:.2f} –∏–∑ balance_profile)"
        )
        # –ù–ï –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ–º max_usd_size, –∏—Å–ø–æ–ª—å–∑—É–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ balance_profile
    elif symbol_max < max_usd_size:
        # symbol_max –±–æ–ª—å—à–µ base_usd_size, –Ω–æ –º–µ–Ω—å—à–µ max_usd_size –∏–∑ balance_profile
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º symbol_max –∫–∞–∫ –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ
        max_usd_size = symbol_max
        logger.debug(
            f"üìä Max position size –∏–∑ symbol_profiles (${symbol_max:.2f}) –º–µ–Ω—å—à–µ "
            f"balance_profile (${balance_max:.2f}), –∏—Å–ø–æ–ª—å–∑—É–µ–º ${symbol_max:.2f} –∫–∞–∫ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ"
        )
    else:
        # symbol_max –±–æ–ª—å—à–µ max_usd_size –∏–∑ balance_profile
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º max_usd_size –∏–∑ balance_profile (–±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ)
        logger.debug(
            f"üìä Max position size –∏–∑ symbol_profiles (${symbol_max:.2f}) –±–æ–ª—å—à–µ "
            f"balance_profile (${balance_max:.2f}), –∏—Å–ø–æ–ª—å–∑—É–µ–º ${balance_max:.2f} –∏–∑ balance_profile"
        )
```

---

## üìä –õ–û–ì–ò–ö–ê –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. Min Position Size:
- **–ï—Å–ª–∏ `symbol_min > balance_min`:** –ò—Å–ø–æ–ª—å–∑—É–µ–º `symbol_min` (–±–æ–ª–µ–µ –ª–∏–±–µ—Ä–∞–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ)
- **–ï—Å–ª–∏ `symbol_min <= balance_min`:** –ò—Å–ø–æ–ª—å–∑—É–µ–º `balance_min` (–Ω–µ —É–º–µ–Ω—å—à–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ balance_profile)

### 2. Max Position Size:
- **–ï—Å–ª–∏ `symbol_max < base_usd_size`:** –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º `symbol_max` (–Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏)
- **–ï—Å–ª–∏ `base_usd_size <= symbol_max < balance_max`:** –ò—Å–ø–æ–ª—å–∑—É–µ–º `symbol_max` (–±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ)
- **–ï—Å–ª–∏ `symbol_max >= balance_max`:** –ò—Å–ø–æ–ª—å–∑—É–µ–º `balance_max` (–±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ)

---

## üìà –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

**ETH-USDT LONG:**
- balance_profile: min=$50.00, max=$180.00, base=$106.56
- symbol_profiles: min=$22.00, max=$52.00
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** min=$22.00, max=$52.00 (–ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω—ã!)
- –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: $52.00 (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω max)
- –ú–∞—Ä–∂–∞: $52.00 / 5 = **$10.40** ‚ùå

**BTC-USDT SHORT:**
- balance_profile: min=$50.00, max=$180.00, base=$127.87
- symbol_profiles: min=$24.00, max=$58.00
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** min=$24.00, max=$58.00 (–ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω—ã!)
- –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: $58.00 (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω max)
- –ú–∞—Ä–∂–∞: $58.00 / 5 = **$11.60** ‚ùå

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

**ETH-USDT LONG:**
- balance_profile: min=$50.00, max=$180.00, base=$106.56
- symbol_profiles: min=$22.00, max=$52.00
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** min=$50.00 (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º $22.00), max=$180.00 (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º $52.00, —Ç.–∫. < base)
- –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: $106.56 (–Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω)
- –ú–∞—Ä–∂–∞: $106.56 / 5 = **$21.31** ‚úÖ

**BTC-USDT SHORT:**
- balance_profile: min=$50.00, max=$180.00, base=$127.87
- symbol_profiles: min=$24.00, max=$58.00
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** min=$50.00 (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º $24.00), max=$180.00 (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º $58.00, —Ç.–∫. < base)
- –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: $127.87 (–Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω)
- –ú–∞—Ä–∂–∞: $127.87 / 5 = **$25.57** ‚úÖ

---

## üîß –ò–ó–ú–ï–ù–ï–ù–ò–Ø –í –ö–û–î–ï

### –§–∞–π–ª: `src/strategies/scalping/futures/orchestrator.py`

**–°—Ç—Ä–æ–∫–∏ 2587-2630:**
- –ò–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è `min_position_usd` –∏–∑ `symbol_profiles`
- –ò–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è `max_position_usd` –∏–∑ `symbol_profiles`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞: –µ—Å–ª–∏ `symbol_max < base_usd_size`, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º `symbol_max`
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢–´

### 1. –†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏:
- ‚úÖ –†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ –±–æ–ª—å—à–µ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç—Å—è –º–∞–ª–µ–Ω—å–∫–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∏–∑ `symbol_profiles`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ `balance_profile`, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –±–∞–ª–∞–Ω—Å—É
- ‚úÖ `position_multiplier` —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### 2. –ú–∞—Ä–∂–∞:
- ‚úÖ –ú–∞—Ä–∂–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Å ~$10-12 –¥–æ ~$20-25
- ‚úÖ –≠—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–µ–º—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º –∏–∑ `balance_profile`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ —É–ª—É—á—à–∞–µ—Ç—Å—è

### 3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è min/max –∏–∑ symbol_profiles
- ‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –∑–Ω–∞—á–µ–Ω–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è –∏ –ø–æ—á–µ–º—É
- ‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –∑–Ω–∞—á–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏ –ø–æ—á–µ–º—É

---

## üöÄ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–µ–º—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ª–æ–≥–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –æ–± –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ symbol_profiles

---

## üìù –í–´–í–û–î–´

1. **–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞:** –†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ –±–æ–ª—å—à–µ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç—Å—è –º–∞–ª–µ–Ω—å–∫–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∏–∑ `symbol_profiles`
2. **–õ–æ–≥–∏–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞:** `min/max` –∏–∑ `symbol_profiles` –Ω–µ —É–º–µ–Ω—å—à–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ `balance_profile`
3. **–ú–∞—Ä–∂–∞ —É–≤–µ–ª–∏—á–µ–Ω–∞:** –ú–∞—Ä–∂–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Å ~$10-12 –¥–æ ~$20-25
4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ:** –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û  
**–î–∞—Ç–∞:** 2025-11-12  
**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞


