# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ê –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ TP

**–î–∞—Ç–∞:** 23 –Ω–æ—è–±—Ä—è 2025, 02:15  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**

---

## üîç –ù–ê–ô–î–ï–ù–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

### –ü—Ä–æ–±–ª–µ–º–∞:
–í `PositionManager` –±—ã–ª–∏ –º–µ—Å—Ç–∞, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è **–≥–ª–æ–±–∞–ª—å–Ω—ã–π** `self.scalping_config.tp_percent` –≤–º–µ—Å—Ç–æ **–∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ** TP –∏–∑ `symbol_profiles` –ø–æ —Ä–µ–∂–∏–º—É –∏ —Å–∏–º–≤–æ–ª—É.

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –º–µ—Å—Ç–∞:**
1. –°—Ç—Ä–æ–∫–∞ 776: Fallback —Ä–∞—Å—á–µ—Ç PnL% - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –≥–ª–æ–±–∞–ª—å–Ω—ã–π TP
2. –°—Ç—Ä–æ–∫–∞ 887: Fallback —Ä–∞—Å—á–µ—Ç PnL% - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –≥–ª–æ–±–∞–ª—å–Ω—ã–π TP
3. –°—Ç—Ä–æ–∫–∞ 985: –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ TP - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –≥–ª–æ–±–∞–ª—å–Ω—ã–π TP –∫–∞–∫ fallback, –Ω–æ –ª–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ TP –±—ã–ª–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∞

---

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. –°–æ–∑–¥–∞–Ω –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ `_get_adaptive_tp_percent()`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏—è TP:**
1. **Per-regime TP** (–µ—Å–ª–∏ —Ä–µ–∂–∏–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω) - –∏–∑ `symbol_profiles[symbol][regime].tp_percent`
2. **Per-symbol TP** (fallback) - –∏–∑ `symbol_profiles[symbol].tp_percent`
3. **–ì–ª–æ–±–∞–ª—å–Ω—ã–π TP** (fallback) - –∏–∑ `scalping_config.tp_percent`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–µ–∂–∏–º –∏–∑ –ø–æ–∑–∏—Ü–∏–∏ –∏–ª–∏ `regime_managers`
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ç–∏–ø—ã (int, float, str)
- –õ–æ–≥–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π TP –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### 2. –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ TP –Ω–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π
- ‚úÖ –°—Ç—Ä–æ–∫–∞ 776: Fallback —Ä–∞—Å—á–µ—Ç PnL% - —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `_get_adaptive_tp_percent()`
- ‚úÖ –°—Ç—Ä–æ–∫–∞ 887: Fallback —Ä–∞—Å—á–µ—Ç PnL% - —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `_get_adaptive_tp_percent()`
- ‚úÖ –°—Ç—Ä–æ–∫–∞ 985: –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ TP - —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `_get_adaptive_tp_percent()` (—É–¥–∞–ª–µ–Ω–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞)

---

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢

### –¢–µ–ø–µ—Ä—å:
- ‚úÖ **TP –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π** –ø–æ —Å–∏–º–≤–æ–ª—É –∏ —Ä–µ–∂–∏–º—É –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
- ‚úÖ **TSL –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π** –ø–æ —Ä–µ–∂–∏–º—É –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ (—É–∂–µ —Ä–∞–±–æ—Ç–∞–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- ‚úÖ **–§–∏–ª—å—Ç—Ä—ã –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ** –ø–æ —Ä–µ–∂–∏–º—É –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ (–Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å)
- ‚úÖ –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–µ—Ä—É—Ç—Å—è –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞, –∞ –Ω–µ –∏–∑ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

### –ü—Ä–∏–º–µ—Ä—ã –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏:
- **BTC-USDT –≤ RANGING**: TP = 5.0% (–∏–∑ `symbol_profiles.BTC-USDT.ranging.tp_percent`)
- **ETH-USDT –≤ TRENDING**: TP = 5.0% (–∏–∑ `symbol_profiles.ETH-USDT.trending.tp_percent`)
- **DOGE-USDT –≤ CHOPPY**: TP = 4.0% (–∏–∑ `symbol_profiles.DOGE-USDT.choppy.tp_percent`)
- **Fallback**: TP = 2.4% (–∏–∑ `scalping_config.tp_percent`)

---

## üìã –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã - –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ª–∏ –æ–Ω–∏ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SL - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π SL (–µ—Å–ª–∏ –µ—Å—Ç—å)
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
4. ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û –ò –ì–û–¢–û–í–û –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ**


