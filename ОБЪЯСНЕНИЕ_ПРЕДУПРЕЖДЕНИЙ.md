# ‚ö†Ô∏è –û–ë–™–Ø–°–ù–ï–ù–ò–ï –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ô –í –õ–û–ì–ê–•

**–î–∞—Ç–∞:** 2025-11-12  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –ù–ê–ô–î–ï–ù–ê –ò –ò–°–ü–†–ê–í–õ–ï–ù–ê

---

## ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê

–í –ª–æ–≥–∞—Ö –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:

```
‚ö†Ô∏è –ü–∞—Ä–∞–º–µ—Ç—Ä max_loss_per_trade_percent –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥–µ –¥–ª—è —Ä–µ–∂–∏–º–∞=ranging, –ø—Ä–æ—Ñ–∏–ª—å=small, –∏—Å–ø–æ–ª—å–∑—É–µ–º fallback –∑–Ω–∞—á–µ–Ω–∏–µ: 2.0
‚ö†Ô∏è –ü–∞—Ä–∞–º–µ—Ç—Ä max_margin_percent –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥–µ –¥–ª—è —Ä–µ–∂–∏–º–∞=ranging, –ø—Ä–æ—Ñ–∏–ª—å=small, –∏—Å–ø–æ–ª—å–∑—É–µ–º fallback –∑–Ω–∞—á–µ–Ω–∏–µ: 80.0
‚ö†Ô∏è –ü–∞—Ä–∞–º–µ—Ç—Ä max_drawdown_percent –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥–µ –¥–ª—è —Ä–µ–∂–∏–º–∞=ranging, –ø—Ä–æ—Ñ–∏–ª—å=small, –∏—Å–ø–æ–ª—å–∑—É–µ–º fallback –∑–Ω–∞—á–µ–Ω–∏–µ: 5.0
‚ö†Ô∏è –ü–∞—Ä–∞–º–µ—Ç—Ä max_margin_safety_percent –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥–µ –¥–ª—è —Ä–µ–∂–∏–º–∞=ranging, –ø—Ä–æ—Ñ–∏–ª—å=small, –∏—Å–ø–æ–ª—å–∑—É–µ–º fallback –∑–Ω–∞—á–µ–Ω–∏–µ: 90.0
‚ö†Ô∏è –ü–∞—Ä–∞–º–µ—Ç—Ä min_balance_usd –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥–µ –¥–ª—è —Ä–µ–∂–∏–º–∞=ranging, –ø—Ä–æ—Ñ–∏–ª—å=small, –∏—Å–ø–æ–ª—å–∑—É–µ–º fallback –∑–Ω–∞—á–µ–Ω–∏–µ: 20.0
‚ö†Ô∏è –ü–∞—Ä–∞–º–µ—Ç—Ä min_time_between_orders_seconds –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥–µ –¥–ª—è —Ä–µ–∂–∏–º–∞=ranging, –ø—Ä–æ—Ñ–∏–ª—å=small, –∏—Å–ø–æ–ª—å–∑—É–µ–º fallback –∑–Ω–∞—á–µ–Ω–∏–µ: 30
```

---

## üîç –ü–†–ò–ß–ò–ù–ê –ü–†–û–ë–õ–ï–ú–´

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥–∞ ‚úÖ
–í –∫–æ–Ω—Ñ–∏–≥–µ `config_futures.yaml` –µ—Å—Ç—å —Å–µ–∫—Ü–∏—è `risk` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
- `risk.base` - –±–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- `risk.by_regime.ranging` - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ä–µ–∂–∏–º–∞ ranging
- `risk.by_balance.small` - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è small

### 2. –ü—Ä–æ–±–ª–µ–º–∞ —Å –∫–ª–∞—Å—Å–æ–º RiskConfig ‚ùå
–ö–ª–∞—Å—Å `RiskConfig` –≤ `src/config.py` –Ω–µ –∏–º–µ–ª –ø–æ–ª–µ–π –¥–ª—è `base`, `by_regime`, `by_balance`, –ø–æ—ç—Ç–æ–º—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ YAML –∫–æ–Ω—Ñ–∏–≥–∞ —ç—Ç–∏ –ø–æ–ª—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –≤ –æ–±—ä–µ–∫—Ç–µ `RiskConfig`.

### 3. –ú–µ—Ç–æ–¥ `_get_adaptive_risk_params()` ‚ùå
–ú–µ—Ç–æ–¥ `_get_adaptive_risk_params()` –ø—ã—Ç–∞–ª—Å—è –ø—Ä–æ—á–∏—Ç–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ –æ–±—ä–µ–∫—Ç–∞ `RiskConfig`, –Ω–æ –ø–æ—Å–∫–æ–ª—å–∫—É –ø–æ–ª—è `base`, `by_regime`, `by_balance` –Ω–µ –±—ã–ª–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ –∫–ª–∞—Å—Å–µ, –æ–Ω–∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ, –∏ –º–µ—Ç–æ–¥ –Ω–µ –º–æ–≥ –∏—Ö –Ω–∞–π—Ç–∏.

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### 1. –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –≤ –∫–ª–∞—Å—Å RiskConfig ‚úÖ
–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –≤ –∫–ª–∞—Å—Å `RiskConfig`:
- `base: Optional[Dict] = Field(default_factory=dict)` - –±–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- `by_regime: Optional[Dict] = Field(default_factory=dict)` - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —Ä–µ–∂–∏–º–∞–º
- `by_balance: Optional[Dict] = Field(default_factory=dict)` - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ –±–∞–ª–∞–Ω—Å—É

### 2. –¢–µ–ø–µ—Ä—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è ‚úÖ
–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ YAML –∫–æ–Ω—Ñ–∏–≥–∞ –ø–æ–ª—è `base`, `by_regime`, `by_balance` —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –æ–±—ä–µ–∫—Ç–µ `RiskConfig`, –∏ –º–µ—Ç–æ–¥ `_get_adaptive_risk_params()` –º–æ–∂–µ—Ç –∏—Ö –Ω–∞–π—Ç–∏.

---

## üìä –°–¢–†–£–ö–¢–£–†–ê –ü–ê–†–ê–ú–ï–¢–†–û–í

### 1. –ë–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (risk.base)
```yaml
base:
  max_loss_per_trade_percent: 2.0
  max_margin_percent: 80.0
  max_drawdown_percent: 5.0
  max_margin_safety_percent: 90.0
  min_balance_usd: 20.0
  min_time_between_orders_seconds: 30
```

### 2. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —Ä–µ–∂–∏–º—É (risk.by_regime.ranging)
```yaml
by_regime:
  ranging:
    max_loss_per_trade_percent: 2.0
    max_margin_percent: 80.0
    max_drawdown_percent: 5.0
    max_margin_safety_percent: 90.0
    min_time_between_orders_seconds: 30
```

### 3. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ –±–∞–ª–∞–Ω—Å—É (risk.by_balance.small)
```yaml
by_balance:
  small:
    max_loss_per_trade_percent: 2.0
    max_margin_percent: 80.0
    max_drawdown_percent: 5.0
    max_margin_safety_percent: 90.0
    min_balance_usd: 20.0
    min_time_between_orders_seconds: 30
```

---

## üéØ –ü–†–ò–û–†–ò–¢–ï–¢ –ü–ê–†–ê–ú–ï–¢–†–û–í

–ú–µ—Ç–æ–¥ `_get_adaptive_risk_params()` –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º:

1. **–ü–†–ò–û–†–ò–¢–ï–¢ 1:** –†–µ–∂–∏–º —Ä—ã–Ω–∫–∞ (ARM) - `risk.by_regime.ranging`
2. **–ü–†–ò–û–†–ò–¢–ï–¢ 2:** –ë–∞–ª–∞–Ω—Å –ø—Ä–æ—Ñ–∏–ª—å - `risk.by_balance.small`
3. **–ü–†–ò–û–†–ò–¢–ï–¢ 3:** –ë–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã - `risk.base`

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–µ–∂–∏–º–∞ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–∞–ª–∞–Ω—Å–∞, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–∞–ª–∞–Ω—Å–∞ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç –±–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

---

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï

### 1. –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –≤ RiskConfig ‚úÖ
```python
class RiskConfig(BaseModel):
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è ...
    # ‚úÖ –ù–û–í–û–ï: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∏—Å–∫–∞
    base: Optional[Dict] = Field(default_factory=dict)
    by_regime: Optional[Dict] = Field(default_factory=dict)
    by_balance: Optional[Dict] = Field(default_factory=dict)
```

### 2. –¢–µ–ø–µ—Ä—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–∏—Ç–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚úÖ
–¢–µ–ø–µ—Ä—å –º–µ—Ç–æ–¥ `_get_adaptive_risk_params()` –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –æ–±—ä–µ–∫—Ç–µ `RiskConfig`, –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –∏—Å—á–µ–∑–Ω—É—Ç—å.

---

## üìã –†–ï–ó–£–õ–¨–¢–ê–¢

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚ùå
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª–∏—Å—å –≤ –∫–æ–Ω—Ñ–∏–≥–µ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å fallback –∑–Ω–∞—á–µ–Ω–∏—è
- –ü–æ—è–≤–ª—è–ª–∏—Å—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –≤ –ª–æ–≥–∞—Ö

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚úÖ
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Ñ–∏–≥–µ
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏—Å—á–µ–∑–Ω—É—Ç

---

## üéâ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞–π–¥–µ–Ω–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞!**

1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è `base`, `by_regime`, `by_balance` –≤ –∫–ª–∞—Å—Å `RiskConfig`
2. ‚úÖ –¢–µ–ø–µ—Ä—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–Ω—Ñ–∏–≥–∞
3. ‚úÖ –ú–µ—Ç–æ–¥ `_get_adaptive_risk_params()` –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
4. ‚úÖ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –∏—Å—á–µ–∑–Ω—É—Ç—å –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

**–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –∏—Å—á–µ–∑–Ω—É—Ç—å! üöÄ**

---

## üìù –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø

### –î—Ä—É–≥–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
```
‚ö†Ô∏è –ü–æ–∑–∏—Ü–∏—è ETH-USDT —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –æ–±–Ω–æ–≤–ª—è—é —Ä–∞–∑–º–µ—Ä
```

–≠—Ç–æ **–Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ** –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ - –±–æ—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ä–∞–∑–º–µ—Ä —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ø–æ–∑–∏—Ü–∏–∏. –≠—Ç–æ –Ω–µ –æ—à–∏–±–∫–∞, –∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.

---

## ‚úÖ –ò–¢–û–ì

**–í—Å–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ–±—ä—è—Å–Ω–µ–Ω—ã –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã!**

1. ‚úÖ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö - **–ò–°–ü–†–ê–í–õ–ï–ù–û** (–¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –≤ RiskConfig)
2. ‚úÖ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –ø–æ–∑–∏—Ü–∏–∏ - **–ù–û–†–ú–ê–õ–¨–ù–û–ï** (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ)

**–ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞! üöÄ**

