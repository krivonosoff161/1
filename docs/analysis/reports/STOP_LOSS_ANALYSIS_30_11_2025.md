# –ê–Ω–∞–ª–∏–∑ –∑–∞–∫—Ä—ã—Ç–∏–π –ø–æ Stop Loss

**–î–∞—Ç–∞:** 2025-11-30  
**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫—Ä—ã–ª–∏—Å—å —Å —É–±—ã—Ç–∫–æ–º –æ–∫–æ–ª–æ -1.5%

---

## üìä –ó–ê–ö–†–´–¢–´–ï –ü–û–ó–ò–¶–ò–ò

| –°–∏–º–≤–æ–ª | Entry | Exit | PnL% | –í—Ä–µ–º—è –≤ –ø–æ–∑–∏—Ü–∏–∏ | –ü—Ä–∏—á–∏–Ω–∞ |
|--------|-------|------|------|-----------------|---------|
| SOL-USDT | 138.30 | 138.55 | **-1.26%** | 6 –º–∏–Ω 56 —Å–µ–∫ | SL? |
| ETH-USDT | 3032.10 | 3038.13 | **-1.50%** | 8 –º–∏–Ω 20 —Å–µ–∫ | profit_drawdown |
| DOGE-USDT | 0.14930 | 0.14970 | **-1.70%** | 4 –º–∏–Ω 52 —Å–µ–∫ | SL? |
| SOL-USDT | 138.01 | 138.29 | **-1.37%** | 3 –º–∏–Ω 31 —Å–µ–∫ | SL? |

**–í—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –±—ã–ª–∏ SHORT** - —Ü–µ–Ω–∞ –≤—ã—Ä–æ—Å–ª–∞ ‚Üí —É–±—ã—Ç–æ–∫

---

## üîç –ê–ù–ê–õ–ò–ó –ü–†–û–ë–õ–ï–ú–´

### 1. **–≠—Ç–æ –ù–ï –∑–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è**

**–ó–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è (slippage protection)** - —ç—Ç–æ –∫–æ–≥–¥–∞:
- –¶–µ–Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –æ–∂–∏–¥–∞–µ–º–æ–π
- –ë–æ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç —Ü–µ–Ω—É –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏–∏ –æ—Ä–¥–µ—Ä–æ–≤

**–≠—Ç–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ Stop Loss** - –∫–æ–≥–¥–∞:
- –¶–µ–Ω–∞ –¥–æ—Å—Ç–∏–≥–ª–∞ —É—Ä–æ–≤–Ω—è SL
- OCO –æ—Ä–¥–µ—Ä —Å—Ä–∞–±–æ—Ç–∞–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü–æ–∑–∏—Ü–∏—è –∑–∞–∫—Ä—ã–ª–∞—Å—å –ø–æ SL

---

### 2. **–ü–æ—á–µ–º—É –≤—Å–µ –∑–∞–∫—Ä—ã–ª–∏—Å—å —Å ~-1.5%?**

**–ò–∑ –∫–æ–Ω—Ñ–∏–≥–∞:**
- –ì–ª–æ–±–∞–ª—å–Ω—ã–π `sl_percent`: **1.2%**
- Ranging `sl_percent`: **2.0%**
- Trending `sl_percent`: **1.5%**

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫—Ä—ã–ª–∏—Å—å —Å —É–±—ã—Ç–∫–æ–º –±–ª–∏–∑–∫–∏–º –∫ –≥–ª–æ–±–∞–ª—å–Ω–æ–º—É SL (1.2%), –∞ –Ω–µ –∫ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–º—É –ø–æ —Ä–µ–∂–∏–º—É!

---

### 3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö SL**

**–†–µ–∂–∏–º —Ä—ã–Ω–∫–∞:**
- –í—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –±—ã–ª–∏ –≤ —Ä–µ–∂–∏–º–µ **ranging**
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π SL –¥–ª—è ranging: **2.0%**
- –ù–æ –∑–∞–∫—Ä—ã–ª–∏—Å—å —Å —É–±—ã—Ç–∫–æ–º **~1.5%** (–±–ª–∏–∑–∫–æ –∫ –≥–ª–æ–±–∞–ª—å–Ω–æ–º—É 1.2%)

**–í—ã–≤–æ–¥:** –í–æ–∑–º–æ–∂–Ω–æ, –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ SL –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏–∏ OCO –æ—Ä–¥–µ—Ä–æ–≤!

---

## ‚ö†Ô∏è –í–û–ó–ú–û–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### 1. **OCO –æ—Ä–¥–µ—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–π SL –≤–º–µ—Å—Ç–æ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ**

**–ì–¥–µ —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è OCO:**
- `order_executor.py` - `place_oco_order()`
- `_calculate_tp_sl_prices()` - —Ä–∞—Å—á–µ—Ç TP/SL

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π SL –∏–∑ `regime_params`?
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω—ã–π `scalping_config.sl_percent`?

### 2. **SL —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è SHORT –ø–æ–∑–∏—Ü–∏–π**

**–î–ª—è SHORT –ø–æ–∑–∏—Ü–∏–π:**
- Entry: 138.30
- SL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å: 138.30 √ó (1 + 2.0%) = **140.11** (–¥–ª—è ranging)
- Exit: 138.55
- –£–±—ã—Ç–æ–∫: (138.55 - 138.30) / 138.30 = **0.18%** (–Ω–µ 1.26%!)

**–ü—Ä–æ–±–ª–µ–º–∞:** –†–∞—Å—á–µ—Ç —É–±—ã—Ç–∫–∞ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º!

---

## üîß –ß–¢–û –ü–†–û–í–ï–†–ò–¢–¨

### 1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞—Å—á–µ—Ç SL –≤ `_calculate_tp_sl_prices()`**

```python
# –î–ª—è SHORT –ø–æ–∑–∏—Ü–∏–∏:
if side.lower() == "sell":  # SHORT
    tp_price = entry_price - tp_distance  # TP –Ω–∏–∂–µ entry
    sl_price = entry_price + sl_distance  # SL –≤—ã—à–µ entry
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è `sl_distance`?
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π `sl_percent` –∏–∑ —Ä–µ–∂–∏–º–∞?

### 2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ OCO –æ—Ä–¥–µ—Ä–æ–≤**

**–í `order_executor.py`:**
- –ö–∞–∫–∏–µ `tp_price` –∏ `sl_price` –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ `place_oco_order()`?
- –û—Ç–∫—É–¥–∞ –±–µ—Ä—É—Ç—Å—è —ç—Ç–∏ —Ü–µ–Ω—ã?

### 3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π**

**–ù—É–∂–Ω–æ –Ω–∞–π—Ç–∏:**
- –ö–∞–∫–∏–µ SL –±—ã–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
- –ö–∞–∫–∏–µ —Ü–µ–Ω—ã –±—ã–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω—ã –≤ OCO –æ—Ä–¥–µ—Ä
- –ö–∞–∫–æ–π —Ä–µ–∂–∏–º –±—ã–ª –æ–ø—Ä–µ–¥–µ–ª–µ–Ω

---

## üìã –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### 1. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö SL**

**–í `order_executor.py` ‚Üí `_calculate_tp_sl_prices()`:**
- –î–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è `regime_params.get("sl_percent")` –≤–º–µ—Å—Ç–æ `scalping_config.sl_percent`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å fallback –ª–æ–≥–∏–∫—É

### 2. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞—Å—á–µ—Ç —É–±—ã—Ç–∫–∞**

**–†–µ–∞–ª—å–Ω—ã–π —É–±—ã—Ç–æ–∫:**
- SOL: (138.55 - 138.30) / 138.30 = **0.18%**
- –ù–æ –±–∏—Ä–∂–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: **-1.26%**

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –ö–æ–º–∏—Å—Å–∏—è (~0.1% –Ω–∞ –∫—Ä—É–≥)
- –ü—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç –Ω–∞ –±–∏—Ä–∂–µ

### 3. ‚úÖ **–î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ SL –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏**

**–ù—É–∂–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å:**
- –†–µ–∂–∏–º —Ä—ã–Ω–∫–∞
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π SL% –¥–ª—è —Ä–µ–∂–∏–º–∞
- –†–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ TP/SL —Ü–µ–Ω—ã
- –†–∞–∑–º–µ—â–µ–Ω–Ω—ã–µ OCO –æ—Ä–¥–µ—Ä–∞

---

## üéØ –í–´–í–û–î

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫—Ä—ã–ª–∏—Å—å –ø–æ Stop Loss —Å —É–±—ã—Ç–∫–æ–º ~-1.5%, —á—Ç–æ –±–ª–∏–∑–∫–æ –∫ –≥–ª–æ–±–∞–ª—å–Ω–æ–º—É SL (1.2%), –∞ –Ω–µ –∫ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–º—É –¥–ª—è ranging (2.0%).

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. ‚ö†Ô∏è OCO –æ—Ä–¥–µ—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–π SL –≤–º–µ—Å—Ç–æ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ
2. ‚ö†Ô∏è –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ SL –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ TP/SL
3. ‚ö†Ô∏è –†–∞—Å—á–µ—Ç —É–±—ã—Ç–∫–∞ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º (–≤–æ–∑–º–æ–∂–Ω–æ, –∫–æ–º–∏—Å—Å–∏—è + –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ)

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `_calculate_tp_sl_prices()` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–∏ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π SL?
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è - –∫–∞–∫–∏–µ SL –±—ã–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã?
3. –î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ SL –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–π


