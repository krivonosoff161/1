# üîç –ü–†–û–ë–õ–ï–ú–ê: –ú–ê–õ–ê–Ø –ú–ê–†–ñ–ê –ü–û–ó–ò–¶–ò–ô

**–î–∞—Ç–∞:** 2025-11-12  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–∞—Ä–∂–∞ –ø–æ–∑–∏—Ü–∏–π —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∞—è ($10-12 –≤–º–µ—Å—Ç–æ –æ–∂–∏–¥–∞–µ–º—ã—Ö $50-150)  
**–°—Ç–∞—Ç—É—Å:** ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

---

## üìä –¢–ï–ö–£–©–ê–Ø –°–ò–¢–£–ê–¶–ò–Ø

### –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏:
- **BTC-USDT SHORT:** –º–∞—Ä–∂–∞ $12.28, notional $61.39
- **ETH-USDT LONG:** –º–∞—Ä–∂–∞ $10.32, notional $51.73

### –û–∂–∏–¥–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
- **–ë–∞–ª–∞–Ω—Å:** $1065.59
- **–ë–∞–ª–∞–Ω—Å–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å:** small
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–∞–∑–º–µ—Ä:** $50-$150 (notional)
- **–û–∂–∏–¥–∞–µ–º–∞—è –º–∞—Ä–∂–∞:** $10-$30 (–ø—Ä–∏ leverage 5x)

---

## üîç –ü–†–ò–ß–ò–ù–ê –ü–†–û–ë–õ–ï–ú–´

### 1. –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏

**–®–∞–≥ 1: –ë–∞–ª–∞–Ω—Å–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)**
- –ë–∞–ª–∞–Ω—Å: $1065.59
- –ü—Ä–æ—Ñ–∏–ª—å: small
- –ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è: $1065.59 ‚Üí —Ä–∞–∑–º–µ—Ä $106.56
- base_usd_size = $106.56 (notional)

**–®–∞–≥ 2: Per-symbol multiplier (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)**
- ETH-USDT: multiplier = 1.0 ‚Üí base_usd_size = $106.56
- BTC-USDT: multiplier = 1.2 ‚Üí base_usd_size = $127.87

**–®–∞–≥ 3: Position overrides –∏–∑ symbol_profiles (–ü–†–û–ë–õ–ï–ú–ê!)**
- ETH-USDT ranging:
  - base_position_usd: $34.00 (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è, —Ç.–∫. –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è > 50%)
  - **min_position_usd: $22.00** (–ü–ï–†–ï–ó–ê–ü–ò–°–´–í–ê–ï–¢ min_usd_size!)
  - **max_position_usd: $52.00** (–ü–ï–†–ï–ó–ê–ü–ò–°–´–í–ê–ï–¢ max_usd_size!)
  
- BTC-USDT ranging:
  - base_position_usd: $38.00 (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è, —Ç.–∫. –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è > 50%)
  - **min_position_usd: $24.00** (–ü–ï–†–ï–ó–ê–ü–ò–°–´–í–ê–ï–¢ min_usd_size!)
  - **max_position_usd: $58.00** (–ü–ï–†–ï–ó–ê–ü–ò–°–´–í–ê–ï–¢ max_usd_size!)

**–®–∞–≥ 4: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ (–ü–†–û–ë–õ–ï–ú–ê!)**
```python
base_usd_size = max(min_usd_size, min(base_usd_size, max_usd_size))
```

- ETH-USDT: base_usd_size = max($22.00, min($106.56, $52.00)) = **$52.00**
- BTC-USDT: base_usd_size = max($24.00, min($127.87, $58.00)) = **$58.00**

**–®–∞–≥ 5: –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ –º–∞—Ä–∂—É**
- ETH-USDT: margin = $52.00 / 5 = **$10.40** ‚Üí –ø–æ—Å–ª–µ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è **$10.35**
- BTC-USDT: margin = $58.00 / 5 = **$11.60** ‚Üí –ø–æ—Å–ª–µ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è **$12.28**

---

## üêõ –ö–û–†–ï–ù–¨ –ü–†–û–ë–õ–ï–ú–´

### –ü—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–¥–µ (`orchestrator.py`, —Å—Ç—Ä–æ–∫–∏ 2587-2590):

```python
if position_overrides.get("min_position_usd") is not None:
    min_usd_size = float(position_overrides["min_position_usd"])  # ‚ùå –ü–ï–†–ï–ó–ê–ü–ò–°–´–í–ê–ï–¢!
if position_overrides.get("max_position_usd") is not None:
    max_usd_size = float(position_overrides["max_position_usd"])  # ‚ùå –ü–ï–†–ï–ó–ê–ü–ò–°–´–í–ê–ï–¢!
```

**–ü—Ä–æ–±–ª–µ–º–∞:** `min_position_usd` –∏ `max_position_usd` –∏–∑ `symbol_profiles` **–í–°–ï–ì–î–ê** –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ `balance_profile`, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –º–µ–Ω—å—à–µ!

### –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:

1. **balance_profile (small):**
   - min_position_usd: $50.00
   - max_position_usd: $180.00
   - base_position_usd: $106.56 (–ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è)

2. **symbol_profiles (ETH-USDT ranging):**
   - min_position_usd: $22.00 ‚ùå (–º–µ–Ω—å—à–µ —á–µ–º –≤ balance_profile!)
   - max_position_usd: $52.00 ‚ùå (–º–µ–Ω—å—à–µ —á–µ–º –≤ balance_profile!)
   - base_position_usd: $34.00 (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è)

3. **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
   - min_usd_size = $22.00 (–∏–∑ symbol_profiles) ‚ùå
   - max_usd_size = $52.00 (–∏–∑ symbol_profiles) ‚ùå
   - base_usd_size –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç—Å—è –¥–æ $52.00 ‚ùå

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å min/max –∏–∑ symbol_profiles (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

**–ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É:**
- `min_position_usd` –∏ `max_position_usd` –∏–∑ `symbol_profiles` –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –∫–∞–∫ **–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**, –∞ –Ω–µ –∫–∞–∫ –∑–∞–º–µ–Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ `balance_profile`.
- –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ `symbol_profiles` –º–µ–Ω—å—à–µ –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ `balance_profile`, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ `balance_profile`.

**–ö–æ–¥:**
```python
# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: min/max –∏–∑ symbol_profiles –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
if position_overrides.get("min_position_usd") is not None:
    symbol_min = float(position_overrides["min_position_usd"])
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–±–æ–ª–µ–µ –ª–∏–±–µ—Ä–∞–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ)
    min_usd_size = max(min_usd_size, symbol_min)
    
if position_overrides.get("max_position_usd") is not None:
    symbol_max = float(position_overrides["max_position_usd"])
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ)
    max_usd_size = min(max_usd_size, symbol_max)
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –£–¥–∞–ª–∏—Ç—å min/max –∏–∑ symbol_profiles

**–£–¥–∞–ª–∏—Ç—å –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞:**
- –£–¥–∞–ª–∏—Ç—å `min_position_usd` –∏ `max_position_usd` –∏–∑ `symbol_profiles` –¥–ª—è –≤—Å–µ—Ö —Å–∏–º–≤–æ–ª–æ–≤ –∏ —Ä–µ–∂–∏–º–æ–≤.
- –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ `base_position_usd` (–∫–æ—Ç–æ—Ä—ã–π –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è > 50%).
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ `position_multiplier` –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–¥ —Å–∏–º–≤–æ–ª.

### –í–∞—Ä–∏–∞–Ω—Ç 3: –£–≤–µ–ª–∏—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤ symbol_profiles

**–ò–∑–º–µ–Ω–∏—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥–µ:**
- –£–≤–µ–ª–∏—á–∏—Ç—å `min_position_usd` –∏ `max_position_usd` –≤ `symbol_profiles` –¥–æ –∑–Ω–∞—á–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –±—É–¥—É—Ç –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä –∏–∑ `balance_profile`.
- –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è ETH-USDT ranging:
  - min_position_usd: $50.00 (–≤–º–µ—Å—Ç–æ $22.00)
  - max_position_usd: $180.00 (–≤–º–µ—Å—Ç–æ $52.00)

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–û–ï –†–ï–®–ï–ù–ò–ï

### –í–∞—Ä–∏–∞–Ω—Ç 1 (–ª—É—á—à–∏–π): –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å min/max –∏–∑ symbol_profiles –∫–∞–∫ –∑–∞–º–µ–Ω–∞

**–ü—Ä–∏—á–∏–Ω–∞:**
- `balance_profile` –¥–æ–ª–∂–µ–Ω –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –ª–∏–º–∏—Ç—ã —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏.
- `symbol_profiles` –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `position_multiplier`.
- `min_position_usd` –∏ `max_position_usd` –∏–∑ `symbol_profiles` –Ω–µ –¥–æ–ª–∂–Ω—ã –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ `balance_profile`.

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. –ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –≤ `orchestrator.py` (—Å—Ç—Ä–æ–∫–∏ 2587-2590):
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `max()` –¥–ª—è `min_position_usd` (–±–æ–ª–µ–µ –ª–∏–±–µ—Ä–∞–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ)
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `min()` –¥–ª—è `max_position_usd` (–±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ)
   - –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ `balance_profile` –Ω–µ –±—É–¥—É—Ç —É–º–µ–Ω—å—à–µ–Ω—ã

2. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ: –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å `min_position_usd` –∏ `max_position_usd` –∏–∑ `symbol_profiles`, –µ—Å–ª–∏ –æ–Ω–∏ –º–µ–Ω—å—à–µ –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ `balance_profile`.

---

## üìù –ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

1. **–ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è min/max –∏–∑ symbol_profiles:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `max()` –¥–ª—è `min_position_usd`
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `min()` –¥–ª—è `max_position_usd`
   - –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ `balance_profile` –Ω–µ –±—É–¥—É—Ç —É–º–µ–Ω—å—à–µ–Ω—ã

2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–µ–º—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º –∏–∑ `balance_profile`
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `position_multiplier` —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

3. **–û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
   - –£–≤–µ–ª–∏—á–∏—Ç—å `min_position_usd` –∏ `max_position_usd` –≤ `symbol_profiles` –¥–æ –∑–Ω–∞—á–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –±—É–¥—É—Ç –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä –∏–∑ `balance_profile`
   - –ò–ª–∏ —É–¥–∞–ª–∏—Ç—å —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ `symbol_profiles`, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –Ω—É–∂–Ω—ã

---

## üîß –ò–ó–ú–ï–ù–ï–ù–ò–Ø –í –ö–û–î–ï

### –§–∞–π–ª: `src/strategies/scalping/futures/orchestrator.py`

**–°—Ç—Ä–æ–∫–∏ 2587-2590:**
```python
# ‚ùå –ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
if position_overrides.get("min_position_usd") is not None:
    min_usd_size = float(position_overrides["min_position_usd"])  # –ü–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç!
if position_overrides.get("max_position_usd") is not None:
    max_usd_size = float(position_overrides["max_position_usd"])  # –ü–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç!

# ‚úÖ –°–¢–ê–ù–ï–¢ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
if position_overrides.get("min_position_usd") is not None:
    symbol_min = float(position_overrides["min_position_usd"])
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–±–æ–ª–µ–µ –ª–∏–±–µ—Ä–∞–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ)
    min_usd_size = max(min_usd_size, symbol_min)
    logger.debug(
        f"üìä Min position size: balance_profile=${min_usd_size:.2f}, "
        f"symbol_profile=${symbol_min:.2f} ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ–º ${min_usd_size:.2f}"
    )
    
if position_overrides.get("max_position_usd") is not None:
    symbol_max = float(position_overrides["max_position_usd"])
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ)
    # –ù–û —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ symbol_max –Ω–µ —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π (–Ω–µ –º–µ–Ω—å—à–µ base_usd_size * 0.5)
    if symbol_max < base_usd_size * 0.5:
        logger.warning(
            f"‚ö†Ô∏è Max position size –∏–∑ symbol_profiles (${symbol_max:.2f}) —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π "
            f"–ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å base_usd_size (${base_usd_size:.2f}), –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º"
        )
    else:
        max_usd_size = min(max_usd_size, symbol_max)
        logger.debug(
            f"üìä Max position size: balance_profile=${max_usd_size:.2f}, "
            f"symbol_profile=${symbol_max:.2f} ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ–º ${max_usd_size:.2f}"
        )
```

---

## üìä –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

**ETH-USDT LONG:**
- base_usd_size: $106.56 (–∏–∑ balance_profile)
- min_usd_size: $50.00 (–∏–∑ balance_profile, —Ç.–∫. > $22.00 –∏–∑ symbol_profiles)
- max_usd_size: $52.00 (–∏–∑ symbol_profiles, —Ç.–∫. < $180.00 –∏–∑ balance_profile)
- –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: $52.00 (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω max_usd_size)
- –ú–∞—Ä–∂–∞: $52.00 / 5 = $10.40

**–ù–û:** –≠—Ç–æ –≤—Å–µ –µ—â–µ –º–∞–ª–æ! –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ max_usd_size –∏–∑ symbol_profiles ($52.00) –º–µ–Ω—å—à–µ base_usd_size –∏–∑ balance_profile ($106.56).

### –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:

**–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å max_position_usd –∏–∑ symbol_profiles, –µ—Å–ª–∏ –æ–Ω –º–µ–Ω—å—à–µ base_usd_size –∏–∑ balance_profile:**

```python
if position_overrides.get("max_position_usd") is not None:
    symbol_max = float(position_overrides["max_position_usd"])
    # –ï—Å–ª–∏ symbol_max –º–µ–Ω—å—à–µ base_usd_size, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º –µ–≥–æ
    if symbol_max < base_usd_size:
        logger.warning(
            f"‚ö†Ô∏è Max position size –∏–∑ symbol_profiles (${symbol_max:.2f}) –º–µ–Ω—å—à–µ "
            f"base_usd_size (${base_usd_size:.2f}), –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º symbol_profiles –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ"
        )
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ balance_profile
    else:
        max_usd_size = min(max_usd_size, symbol_max)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ETH-USDT: base_usd_size = $106.56, max_usd_size = $180.00 (–∏–∑ balance_profile)
- –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: $106.56 (–Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω)
- –ú–∞—Ä–∂–∞: $106.56 / 5 = **$21.31** ‚úÖ

---

**–°—Ç–∞—Ç—É—Å:** ‚ùå –¢–†–ï–ë–£–ï–¢–°–Ø –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô


