# üöÄ –ö–∞–∫ —É–≤–∏–¥–µ—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ —Å–¥–µ–ª–∫–∏ –Ω–∞ –±–∏—Ä–∂–µ

## ‚ùå –ü–æ—á–µ–º—É —Ç–µ—Å—Ç—ã –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç —Å–¥–µ–ª–∫–∏

**–í—Å–µ –Ω–∞—à–∏ —Ç–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç Mock-–æ–±—ä–µ–∫—Ç—ã!**

```python
# tests/futures/test_futures_client.py
mock_client = AsyncMock()
mock_client.place_futures_order.return_value = {"code": "0", "data": [...]}
```

–≠—Ç–æ **–ù–ï —Ä–µ–∞–ª—å–Ω—ã–µ —Å–¥–µ–ª–∫–∏**, —ç—Ç–æ **—Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–≥–ª—É—à–∫–∏**.

---

## ‚úÖ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å REAL —Ç–æ—Ä–≥–æ–≤–ª—é

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
```bash
python test_futures_bot_2min.py
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ –æ—Å–Ω–æ–≤–Ω–æ–π –∑–∞–ø—É—Å–∫
```bash
python src/main_futures.py
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ bat-—Å–∫—Ä–∏–ø—Ç
```bash
start_bot.bat  # –í—ã–±—Ä–∞—Ç—å —Ä–µ–∂–∏–º "Futures"
```

---

## üéØ –ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:
```
üöÄ –ó–∞–ø—É—Å–∫ Futures —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞...
‚úÖ –î–æ—Å—Ç—É–ø–Ω—ã–π –±–∞–ª–∞–Ω—Å: 1034.35 USDT
üì° –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WebSocket...
‚úÖ WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω
üìä –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Ç–∏–∫–µ—Ä—ã: BTC-USDT-SWAP, ETH-USDT-SWAP
```

### –†–µ–∞–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã:
```
üìä –°–∏–≥–Ω–∞–ª: {'symbol': 'BTC-USDT', 'side': 'buy', 'price': 50000.0}
‚úÖ –ü–æ–∑–∏—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∞: BTC-USDT 0.001
üí∞ BTC-USDT: $50050.00
```

### –†–µ–∞–ª—å–Ω—ã–µ —Å–¥–µ–ª–∫–∏ (–µ—Å–ª–∏ –æ—Ç–∫—Ä–æ—é—Ç—Å—è):
```
üéØ –†–∞–∑–º–µ—â–µ–Ω–∏–µ —Ä—ã–Ω–æ—á–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞: BTC-USDT buy 0.001000
‚úÖ –†—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä —Ä–∞–∑–º–µ—â–µ–Ω: 12345678
```

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **API –∫–ª—é—á–∏** –≤ `.env`:
   ```env
   OKX_API_KEY=your_key
   OKX_SECRET_KEY=your_secret
   OKX_PASSPHRASE=your_passphrase
   ```

2. **Sandbox mode** –≤ –∫–æ–Ω—Ñ–∏–≥–µ:
   ```yaml
   # config/config_futures.yaml
   sandbox: true  # –î–ª—è —Ç–µ—Å—Ç–æ–≤
   sandbox: false # –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏
   ```

3. **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–æ—Ä–≥–æ–≤–ª–∏**:
   ```yaml
   symbols:
     - BTC-USDT
     - ETH-USDT
   ```

---

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç–æ—Ä–≥–æ–≤–ª—è —Ä–µ–∞–ª—å–Ω–∞—è

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:
```
logs/futures_test.log
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ OKX Dashboard:
- Sandbox: https://www.okx.com/account/my-api
- Real: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞:
```
INFO | –î–æ—Å—Ç—É–ø–Ω—ã–π –±–∞–ª–∞–Ω—Å: 1034.35 USDT
```

---

## üöÄ –ó–ê–ü–£–°–ö –†–ï–ê–õ–¨–ù–û–ô –¢–û–†–ì–û–í–õ–ò

```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
taskkill /f /im python.exe

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
python test_futures_bot_2min.py

# 3. –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ª–æ–≥–∏
# –í –¥—Ä—É–≥–æ–º –æ–∫–Ω–µ:
tail -f logs/futures_test.log
```

---

## ‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï

**–¢–µ—Å—Ç—ã = Mock (—Ñ–µ–π–∫)**
**E2E —Ç–µ—Å—Ç = –†–µ–∞–ª—å–Ω—ã–µ —Å–¥–µ–ª–∫–∏!**

–¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç –ª–æ–≥–∏–∫—É, –Ω–æ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Å–¥–µ–ª–∫–∏.
–î–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–¥–µ–ª–æ–∫ –Ω—É–∂–µ–Ω E2E —Ç–µ—Å—Ç –∏–ª–∏ production –∑–∞–ø—É—Å–∫.


