# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –õ–û–ì–ò–ö–ò –í–†–ï–ú–ï–ù–ò –£–î–ï–†–ñ–ê–ù–ò–Ø –ü–û–ó–ò–¶–ò–ô

**–î–∞—Ç–∞:** 2025-11-28  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ MIN_HOLDING –∏ TIMEOUT

---

## üî¥ –û–®–ò–ë–ö–ê: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏

**–ß—Ç–æ –±—ã–ª–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
- –Ø –¥–æ–±–∞–≤–∏–ª –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ TIMEOUT (120 –º–∏–Ω—É—Ç)
- –≠—Ç–æ —Å–ª–æ–º–∞–ª–æ –≤—Å—é –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞!

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ (–∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±—ä—è—Å–Ω–∏–ª):**

1. **MIN_HOLDING = 35 –º–∏–Ω—É—Ç** - –∑–∞—â–∏—Ç–∞ –æ—Ç —à—É–º–∞ —Ä—ã–Ω–∫–∞
   - –ó–ê–ü–†–ï–©–ê–ï–¢ –∑–∞–∫—Ä—ã—Ç–∏–µ –î–û 35 –º–∏–Ω—É—Ç
   - –ü–æ—Å–ª–µ 35 –º–∏–Ω—É—Ç –±–æ—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ

2. **TIMEOUT = 120 –º–∏–Ω—É—Ç** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –ù–ï –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ
   - –ü—Ä–æ—Å—Ç–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
   - –ù–ï –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ!

3. **–ü–æ—Å–ª–µ 35 –º–∏–Ω—É—Ç:**
   - –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ –º–æ–¥—É–ª–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ –∑–∞–∫—Ä—ã—Ç–∏—è
   - TP, profit harvest, trailing stop —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ
   - –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –≤–∑—è—Ç—å –ø—Ä–∏–±—ã–ª—å –∑–∞ 5-10 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ

4. **–ü—Ä–æ–±–ª–µ–º–∞:**
   - –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è —Å—Ä–∞–∑—É (–Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç —à—É–º–∞)
   - –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –¥–µ—Ä–∂–∞—Ç—Å—è 6+ —á–∞—Å–æ–≤ (–Ω–æ —ç—Ç–æ –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞ TIMEOUT, –∞ —á—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–µ)

---

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. –£–±—Ä–∞–Ω–æ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ TIMEOUT

**–§–∞–π–ª—ã:**
- `src/strategies/scalping/futures/orchestrator.py`
- `src/strategies/scalping/futures/coordinators/trailing_sl_coordinator.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –£–¥–∞–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `if time_held >= timeout_minutes: close_position()`
- TIMEOUT –±–æ–ª—å—à–µ –Ω–µ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏–∏

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ MIN_HOLDING –≤ Profit Harvest

**–§–∞–π–ª:** `src/strategies/scalping/futures/position_manager.py`

**–ü—Ä–æ–±–ª–µ–º–∞:** Profit Harvest –∑–∞–∫—Ä—ã–≤–∞–ª –ø–æ–∑–∏—Ü–∏–∏ —Å—Ä–∞–∑—É, –æ–±—Ö–æ–¥—è –∑–∞—â–∏—Ç—É –æ—Ç —à—É–º–∞!

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```python
# ‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º MIN_HOLDING –ø–µ—Ä–µ–¥ Profit Harvesting
# –ó–∞—â–∏—Ç–∞ –æ—Ç —à—É–º–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å - –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ–º –ø–æ PH –¥–æ 35 –º–∏–Ω—É—Ç (min_holding)
min_holding_minutes = 35.0  # Default
# ... –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ ...

min_holding_seconds = min_holding_minutes * 60.0

# ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ–º MIN_HOLDING: –µ—Å–ª–∏ –ø–æ–∑–∏—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∞ –º–µ–Ω—å—à–µ min_holding, –ù–ï –∑–∞–∫—Ä—ã–≤–∞–µ–º –ø–æ PH
if time_since_open < min_holding_seconds:
    logger.debug(
        f"‚è±Ô∏è Profit Harvest –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω MIN_HOLDING –¥–ª—è {symbol}: "
        f"–ø–æ–∑–∏—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∞ {time_since_open:.1f}—Å < {min_holding_seconds:.1f}—Å "
        f"(–∑–∞—â–∏—Ç–∞ –æ—Ç —à—É–º–∞ –∞–∫—Ç–∏–≤–Ω–∞)"
    )
    return False  # –ù–ï –∑–∞–∫—Ä—ã–≤–∞–µ–º - –∑–∞—â–∏—Ç–∞ –æ—Ç —à—É–º–∞ –∞–∫—Ç–∏–≤–Ω–∞!
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- Profit Harvest —Ç–µ–ø–µ—Ä—å –ù–ï –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏–∏ –¥–æ 35 –º–∏–Ω—É—Ç
- –ó–∞—â–∏—Ç–∞ –æ—Ç —à—É–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### 3. –£—Ç–æ—á–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ max_holding

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- `max_holding` (—Å –ø—Ä–æ–¥–ª–µ–Ω–∏–µ–º) –±–æ–ª—å—à–µ –Ω–µ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏–∏
- –ï—Å–ª–∏ –ø—Ä–∏–±—ã–ª—å > min_profit_to_close, –ø–æ–∑–∏—Ü–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- –ë–æ—Ç –∏—â–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –º–æ–º–µ–Ω—Ç –∑–∞–∫—Ä—ã—Ç–∏—è —á–µ—Ä–µ–∑ TP/SL

---

## üìä –ü–†–ê–í–ò–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê –†–ê–ë–û–¢–´

1. **–ü–æ–∑–∏—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∞**
   - –í—Å–µ –º–æ–¥—É–ª–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç MIN_HOLDING –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º
   - –ó–∞–∫—Ä—ã—Ç–∏–µ –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û –¥–æ 35 –º–∏–Ω—É—Ç (–∫—Ä–æ–º–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–ª—É—á–∞–µ–≤)

2. **–ü–æ—Å–ª–µ 35 –º–∏–Ω—É—Ç (MIN_HOLDING)**
   - –ó–∞—â–∏—Ç–∞ –æ—Ç —à—É–º–∞ —Å–Ω—è—Ç–∞
   - –ë–æ—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ
   - –í—Å–µ –º–æ–¥—É–ª–∏ (TP, profit harvest, trailing stop) –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã

3. **–ë–æ—Ç –∏—â–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –º–æ–º–µ–Ω—Ç –∑–∞–∫—Ä—ã—Ç–∏—è:**
   - Profit Harvest (–µ—Å–ª–∏ –≤—ã—Å–æ–∫–∞—è –ø—Ä–∏–±—ã–ª—å –∑–∞ –∫–æ—Ä–æ—Ç–∫–æ–µ –≤—Ä–µ–º—è)
   - Take Profit (–ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–µ–≤–æ–π –ø—Ä–∏–±—ã–ª–∏)
   - Trailing Stop Loss (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞—â–∏—Ç–∞ –ø—Ä–∏–±—ã–ª–∏)
   - –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –≤–∑—è—Ç—å –ø—Ä–∏–±—ã–ª—å –∑–∞ 5-10 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã

4. **TIMEOUT (120 –º–∏–Ω—É—Ç)**
   - –ü—Ä–æ—Å—Ç–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
   - –ù–ï –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é
   - –ï—Å–ª–∏ –ø–æ–∑–∏—Ü–∏—è –¥–µ—Ä–∂–∏—Ç—Å—è –¥–æ–ª—å—à–µ - –≤–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ (–µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–∏–±—ã–ª—å)

---

## ‚ö†Ô∏è –û–°–¢–ê–í–®–ò–ï–°–Ø –í–û–ü–†–û–°–´

1. **–ü–æ—á–µ–º—É BTC –¥–µ—Ä–∂–∞–ª–∞—Å—å 6.3 —á–∞—Å–∞?**
   - –ù–µ –∏–∑-–∑–∞ TIMEOUT (–æ–Ω –Ω–µ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π)
   - –í–æ–∑–º–æ–∂–Ω–æ, –ø–æ–∑–∏—Ü–∏—è –±—ã–ª–∞ –≤ –Ω–µ–±–æ–ª—å—à–æ–º –ø–ª—é—Å–µ, –∏ –±–æ—Ç –∂–¥–∞–ª –ª—É—á—à–µ–≥–æ –º–æ–º–µ–Ω—Ç–∞
   - –ò–ª–∏ –∫–∞–∫–∞—è-—Ç–æ –¥—Ä—É–≥–∞—è –ª–æ–≥–∏–∫–∞ –¥–µ—Ä–∂–∏—Ç –ø–æ–∑–∏—Ü–∏—é

2. **–ü–æ—á–µ–º—É –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫—Ä—ã–ª–∏—Å—å —Å—Ä–∞–∑—É?**
   - –¢–µ–ø–µ—Ä—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: Profit Harvest –ø—Ä–æ–≤–µ—Ä—è–µ—Ç MIN_HOLDING
   - –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥–∏–µ –ø—É—Ç–∏ –∑–∞–∫—Ä—ã—Ç–∏—è (TP, trailing stop)

---

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢

- ‚úÖ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ TIMEOUT —É–±—Ä–∞–Ω–æ
- ‚úÖ Profit Harvest –ø—Ä–æ–≤–µ—Ä—è–µ—Ç MIN_HOLDING (–∑–∞—â–∏—Ç–∞ –æ—Ç —à—É–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç)
- ‚úÖ –õ–æ–≥–∏–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–∏–¥–µ–Ω–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ë–æ—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –∑–∞–¥—É–º–∞–Ω–æ

**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!**

