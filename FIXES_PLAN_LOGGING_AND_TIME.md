# üîß –ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô: –õ–û–ì–ò–†–û–í–ê–ù–ò–ï –ò –í–†–ï–ú–Ø

**–î–∞—Ç–∞:** 2025-12-07  
**–°—Ç–∞—Ç—É—Å:** –ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

---

## üî¥ –ü–†–û–ë–õ–ï–ú–ê #1: –û–¢–†–ò–¶–ê–¢–ï–õ–¨–ù–û–ï –í–†–ï–ú–Ø –í –ü–û–ó–ò–¶–ò–ò

### –ü—Ä–∏—á–∏–Ω–∞:
- `entry_time` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ `datetime(2025, 12, 7, 12, 4, 18, 114000)` **–ë–ï–ó timezone**
- –ü—Ä–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ timestamp Python –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç —ç—Ç–æ –∫–∞–∫ **–ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è** (UTC+3)
- `datetime.now(timezone.utc).timestamp()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç UTC timestamp
- –†–∞–∑–Ω–∏—Ü–∞: **-3 —á–∞—Å–∞** (‚âà -10800 —Å–µ–∫—É–Ω–¥)

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
1. **–í `position_registry.py`:** –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `datetime.now(timezone.utc)` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ `entry_time`
2. **–í `entry_manager.py`:** –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ `entry_time` –∏–∑ API (cTime/uTime) –¥–æ–±–∞–≤–ª—è—Ç—å `tz=timezone.utc`
3. **–í `exit_analyzer.py`:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ datetime –æ–±—ä–µ–∫—Ç—ã –∏–º–µ—é—Ç timezone –ø–µ—Ä–µ–¥ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–µ–π

---

## üî¥ –ü–†–û–ë–õ–ï–ú–ê #2: –ù–ï–¢ CSV –õ–û–ì–ò–†–û–í–ê–ù–ò–Ø –û–¢–ö–†–´–¢–ò–Ø –ü–û–ó–ò–¶–ò–ô

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
- CSV –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ **–∑–∞–∫—Ä—ã—Ç–∏–∏** –ø–æ–∑–∏—Ü–∏–∏ —á–µ—Ä–µ–∑ `record_trade`
- –ù–µ—Ç CSV —Ñ–∞–π–ª–∞ –¥–ª—è **–æ—Ç–∫—Ä—ã—Ç–∏—è** –ø–æ–∑–∏—Ü–∏–π

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π CSV —Ñ–∞–π–ª `logs/positions_open_YYYY-MM-DD.csv`
2. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `record_position_open()` –≤ `PerformanceTracker`
3. –í—ã–∑—ã–≤–∞—Ç—å –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–∏ –≤ `entry_manager.py`

### –§–æ—Ä–º–∞—Ç CSV:
```csv
timestamp,symbol,side,entry_price,size,regime,order_id,order_type
```

---

## üî¥ –ü–†–û–ë–õ–ï–ú–ê #3: –ù–ï–¢ CSV –õ–û–ì–ò–†–û–í–ê–ù–ò–Ø –û–†–î–ï–†–û–í

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
- –û—Ä–¥–µ—Ä–∞ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –æ–±—ã—á–Ω—ã–µ –ª–æ–≥–∏ (INFO/DEBUG)
- –ù–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ CSV –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–æ–≤

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π CSV —Ñ–∞–π–ª `logs/orders_YYYY-MM-DD.csv`
2. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `record_order()` –≤ `PerformanceTracker` –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π `OrderLogger`
3. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å:
   - –†–∞–∑–º–µ—â–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–∞ (order_executor.py)
   - –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–∞ (fills)
   - –û—Ç–º–µ–Ω–∞ –æ—Ä–¥–µ—Ä–∞

### –§–æ—Ä–º–∞—Ç CSV:
```csv
timestamp,symbol,side,order_type,order_id,size,price,status,fill_price,fill_size,execution_time_ms
```

---

## üî¥ –ü–†–û–ë–õ–ï–ú–ê #4: –õ–û–ì–ò–†–û–í–ê–ù–ò–ï –°–ò–ì–ù–ê–õ–û–í

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
- –ï—Å—Ç—å `log_signal()` –≤ `StructuredLogger` (JSON —Ñ–æ—Ä–º–∞—Ç)
- –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ª–∏ –æ–Ω

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—ã–∑–æ–≤—ã `log_signal()` –≤ `signal_generator.py`
2. –î–æ–±–∞–≤–∏—Ç—å CSV –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∞–Ω–∞–ª–∏–∑–∞
3. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å:
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–∞
   - –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤
   - –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∞

### –§–æ—Ä–º–∞—Ç CSV:
```csv
timestamp,symbol,side,price,strength,regime,filters_passed,executed,order_id
```

---

## üìã –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –≠—Ç–∞–ø 1: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ (–ö–†–ò–¢–ò–ß–ù–û)
1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å `position_registry.py` - –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `timezone.utc`
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å `entry_manager.py` - –¥–æ–±–∞–≤–ª—è—Ç—å timezone –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∏–∑ API
3. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å `exit_analyzer.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ timezone –ø–µ—Ä–µ–¥ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–µ–π

### –≠—Ç–∞–ø 2: CSV –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π
1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `record_position_open()` –≤ `PerformanceTracker`
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å CSV —Ñ–∞–π–ª `positions_open_YYYY-MM-DD.csv`
3. ‚úÖ –í—ã–∑—ã–≤–∞—Ç—å –≤ `entry_manager.py` –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏

### –≠—Ç–∞–ø 3: CSV –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ä–¥–µ—Ä–æ–≤
1. ‚úÖ –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å `OrderLogger` –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ `PerformanceTracker`
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å CSV —Ñ–∞–π–ª `orders_YYYY-MM-DD.csv`
3. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤ `order_executor.py`:
   - –†–∞–∑–º–µ—â–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–∞
   - –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–∞ (fills)
   - –û—Ç–º–µ–Ω–∞ –æ—Ä–¥–µ—Ä–∞

### –≠—Ç–∞–ø 4: CSV –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—ã–∑–æ–≤—ã `log_signal()` –≤ `signal_generator.py`
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å CSV –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å CSV —Ñ–∞–π–ª `signals_YYYY-MM-DD.csv`

---

## üîç –ü–†–û–í–ï–†–ö–ê –ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `entry_time` –≤—Å–µ–≥–¥–∞ —Å timezone.utc
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–µ—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤ –ø–æ–∑–∏—Ü–∏–∏
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ CSV —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ —Å–æ–±—ã—Ç–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è (–æ—Ä–¥–µ—Ä–∞, –ø–æ–∑–∏—Ü–∏–∏, —Å–∏–≥–Ω–∞–ª—ã)

