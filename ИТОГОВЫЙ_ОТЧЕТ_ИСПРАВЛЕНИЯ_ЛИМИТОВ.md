# ‚úÖ –ò–¢–û–ì–û–í–´–ô –û–¢–ß–ï–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –õ–ò–ú–ò–¢–û–í –¶–ï–ù–´

**–î–∞—Ç–∞:** 2025-11-12  
**–ü—Ä–æ–±–ª–µ–º–∞:** –õ–∏–º–∏—Ç–Ω—ã–µ –æ—Ä–¥–µ—Ä–∞ –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è –±–∏—Ä–∂–µ–π —Å –æ—à–∏–±–∫–æ–π 51006

---

## ‚ùå –ù–ê–ô–î–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### 1. ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ —Ü–µ–Ω—ã –¥–ª—è SELL

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –î–ª—è SELL –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å —Ñ–æ—Ä–º—É–ª–∞: `best_bid * 0.999` (–Ω–∏–∂–µ best bid)
- –≠—Ç–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ! –¶–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å **–≤—ã—à–µ** best bid –¥–ª—è SELL
- –†–µ–∑—É–ª—å—Ç–∞—Ç: —Ü–µ–Ω–∞ –ø–æ–ª—É—á–∞–ª–∞—Å—å —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–æ–π –∏ –≤—ã—Ö–æ–¥–∏–ª–∞ –∑–∞ –ª–∏–º–∏—Ç—ã –±–∏—Ä–∂–∏

**–ü—Ä–∏–º–µ—Ä:**
- Best bid: 101000
- –¶–µ–Ω–∞: 101000 * 0.999 = 100899 ‚ùå (–Ω–∏–∂–µ best bid!)
- –õ–∏–º–∏—Ç –±–∏—Ä–∂–∏: min_sell_price = 101,133.2
- –†–µ–∑—É–ª—å—Ç–∞—Ç: —Ü–µ–Ω–∞ 100899 < –ª–∏–º–∏—Ç 101133.2 ‚Üí –æ—Ä–¥–µ—Ä –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è!

---

### 2. ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ —Ü–µ–Ω—ã –¥–ª—è BUY

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –î–ª—è BUY –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å —Ñ–æ—Ä–º—É–ª–∞: `best_ask * 1.001` (–≤—ã—à–µ best ask)
- –≠—Ç–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ! –¶–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å **–Ω–∏–∂–µ** best ask –¥–ª—è BUY
- –†–µ–∑—É–ª—å—Ç–∞—Ç: —Ü–µ–Ω–∞ –ø–æ–ª—É—á–∞–ª–∞—Å—å —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–æ–π –∏ –º–æ–≥–ª–∞ –≤—ã–π—Ç–∏ –∑–∞ –ª–∏–º–∏—Ç—ã –±–∏—Ä–∂–∏

**–ü—Ä–∏–º–µ—Ä:**
- Best ask: 101050
- –¶–µ–Ω–∞: 101050 * 1.001 = 101150.5 ‚ùå (–≤—ã—à–µ best ask!)
- –õ–∏–º–∏—Ç –±–∏—Ä–∂–∏: max_buy_price = 103,155.9
- –†–µ–∑—É–ª—å—Ç–∞—Ç: —Ü–µ–Ω–∞ 101150.5 < –ª–∏–º–∏—Ç 103155.9 ‚Üí –º–æ–∂–µ—Ç –ø—Ä–æ–π—Ç–∏, –Ω–æ –ª–æ–≥–∏–∫–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è!

---

### 3. ‚ùå –ù–µ—Ç–æ—á–Ω—ã–µ –ª–∏–º–∏—Ç—ã –∏–∑ API

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å —Å—Ç–∞—Ç–∏—á–Ω—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã: ¬±5% –æ—Ç —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã
- –ò–ª–∏ ¬±2% –æ—Ç –ª—É—á—à–∏—Ö —Ü–µ–Ω –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞
- –ù–æ —Ä–µ–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã –±–∏—Ä–∂–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –¥—Ä—É–≥–∏–º–∏!

**–ü—Ä–∏–º–µ—Ä:**
- –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞: 101025
- –†–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–π –ª–∏–º–∏—Ç: 101025 * 0.95 = 95973.75 (min_sell_price)
- –†–µ–∞–ª—å–Ω—ã–π –ª–∏–º–∏—Ç –±–∏—Ä–∂–∏: min_sell_price = 101,133.2
- –†–∞–∑–Ω–∏—Ü–∞: 101133.2 - 95973.75 = 16159.45 (–æ–≥—Ä–æ–º–Ω–∞—è —Ä–∞–∑–Ω–∏—Ü–∞!)

---

### 4. ‚ùå –ù–µ –ø–∞—Ä—Å–∏–ª–∏—Å—å –ª–∏–º–∏—Ç—ã –∏–∑ –æ—à–∏–±–∫–∏ API

**–ü—Ä–æ–±–ª–µ–º–∞:**
- OKX API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ—á–Ω—ã–µ –ª–∏–º–∏—Ç—ã –≤ –æ—à–∏–±–∫–µ 51006
- –ù–æ –º—ã –∏—Ö –Ω–µ –ø–∞—Ä—Å–∏–ª–∏ –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏
- –†–µ–∑—É–ª—å—Ç–∞—Ç: –æ—Ä–¥–µ—Ä –æ—Ç–∫–ª–æ–Ω—è–ª—Å—è, –∏ –º—ã –Ω–µ –∑–Ω–∞–ª–∏ —Ç–æ—á–Ω—ã–µ –ª–∏–º–∏—Ç—ã

---

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ —Ü–µ–Ω—ã –¥–ª—è SELL –∏ BUY

**–î–ª—è BUY:**
- –ë—ã–ª–æ: `best_ask * 1.001` (–≤—ã—à–µ best ask) ‚ùå
- –°—Ç–∞–ª–æ: `best_ask * 0.999` (–Ω–∏–∂–µ best ask) ‚úÖ
- –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è BUY (–ø–æ–∫—É–ø–∞–µ–º –ø–æ –Ω–∏–∑–∫–æ–π —Ü–µ–Ω–µ)

**–î–ª—è SELL:**
- –ë—ã–ª–æ: `best_bid * 0.999` (–Ω–∏–∂–µ best bid) ‚ùå
- –°—Ç–∞–ª–æ: `best_ask * 0.999` (–Ω–∏–∂–µ best ask) ‚úÖ
- –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ (—Ü–µ–Ω–∞ –Ω–∏–∂–µ best ask)
- –ò —Ü–µ–Ω–∞ –≤—ã—à–µ best bid (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è SELL)

---

### 2. ‚úÖ –£–ª—É—á—à–µ–Ω–æ –ø–æ–ª—É—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ —Ü–µ–Ω—ã

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ü–æ–ª—É—á–∞–µ–º –ª—É—á—à–∏–µ —Ü–µ–Ω—ã –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞ (best bid/ask)
- –ò—Å–ø–æ–ª—å–∑—É–µ–º –±–æ–ª–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ –ª–∏–º–∏—Ç—ã: ¬±1% –æ—Ç –ª—É—á—à–∏—Ö —Ü–µ–Ω
- Fallback: ¬±2% –æ—Ç —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã
- –í–æ–∑–≤—Ä–∞—â–∞–µ–º best_bid –∏ best_ask –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞

**–ö–æ–¥:**
```python
# ‚úÖ –ü–†–ò–û–†–ò–¢–ï–¢ 1: –ü–æ–ª—É—á–∞–µ–º –ª—É—á—à–∏–µ —Ü–µ–Ω—ã –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞ (—Å–∞–º—ã–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ)
orderbook_url = f"https://www.okx.com/api/v5/market/books?instId={inst_id}&sz=5"
# –ë–µ—Ä–µ–º –ª—É—á—à–∏–µ —Ü–µ–Ω—ã –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞
best_ask = float(asks[0][0])
best_bid = float(bids[0][0])
# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ò—Å–ø–æ–ª—å–∑—É–µ–º –±–æ–ª–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ –ª–∏–º–∏—Ç—ã (¬±1% –æ—Ç –ª—É—á—à–∏—Ö —Ü–µ–Ω)
max_buy_price = best_ask * 1.01  # +1% –æ—Ç best ask
min_sell_price = best_bid * 0.99  # -1% –æ—Ç best bid
```

---

### 3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ –ª–∏–º–∏—Ç–æ–≤ –∏–∑ –æ—à–∏–±–∫–∏ API

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ü–∞—Ä—Å–∏–º –ª–∏–º–∏—Ç—ã –∏–∑ –æ—à–∏–±–∫–∏ API (51006)
- –ï—Å–ª–∏ –ø–æ–ª—É—á–∏–ª–∏ –ª–∏–º–∏—Ç—ã, –ø—Ä–æ–±—É–µ–º —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–Ω—É
- –î–ª—è SELL: `min_sell_price * 1.001` (0.1% –≤—ã—à–µ –ª–∏–º–∏—Ç–∞)
- –î–ª—è BUY: `max_buy_price * 0.999` (0.1% –Ω–∏–∂–µ –ª–∏–º–∏—Ç–∞)
- –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –æ—Ä–¥–µ—Ä —Å —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ü–µ–Ω–æ–π
- –ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä –∫–∞–∫ fallback

**–ö–æ–¥:**
```python
# ‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü–∞—Ä—Å–∏–º –ª–∏–º–∏—Ç—ã –∏–∑ –æ—à–∏–±–∫–∏ API (51006)
if error_data and len(error_data) > 0:
    s_msg = error_data[0].get("sMsg", "")
    # –ü–∞—Ä—Å–∏–º –ª–∏–º–∏—Ç—ã –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è
    max_buy_match = re.search(r"max buy price:\s*([\d,]+\.?\d*)", s_msg, re.IGNORECASE)
    min_sell_match = re.search(r"min sell price:\s*([\d,]+\.?\d*)", s_msg, re.IGNORECASE)
    
    if max_buy_match:
        parsed_max_buy = float(max_buy_match.group(1).replace(",", ""))
    if min_sell_match:
        parsed_min_sell = float(min_sell_match.group(1).replace(",", ""))

# ‚úÖ –ù–û–í–û–ï: –ï—Å–ª–∏ –ø–æ–ª—É—á–∏–ª–∏ –ª–∏–º–∏—Ç—ã –∏–∑ –æ—à–∏–±–∫–∏, –ø—Ä–æ–±—É–µ–º —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–Ω—É
if side.lower() == "sell" and parsed_min_sell:
    corrected_price = parsed_min_sell * 1.001  # 0.1% –≤—ã—à–µ –ª–∏–º–∏—Ç–∞
    # –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –æ—Ä–¥–µ—Ä —Å —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ü–µ–Ω–æ–π
```

---

### 4. ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–¥ –æ—à–∏–±–∫–∏ 51006
- –ü–∞—Ä—Å–∏–º –ª–∏–º–∏—Ç—ã –∏–∑ –æ—à–∏–±–∫–∏
- –ü—Ä–æ–±—É–µ–º —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–Ω—É
- –ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä –∫–∞–∫ fallback

---

## üìä –ü–†–ò–ú–ï–†–´ –†–ê–ë–û–¢–´

### –ü—Ä–∏–º–µ—Ä 1: SELL –æ—Ä–¥–µ—Ä (–¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- Best bid: 101000
- Best ask: 101050
- Current price: 101025

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –õ–∏–º–∏—Ç–Ω–∞—è —Ü–µ–Ω–∞: 101000 * 0.999 = 100899 ‚ùå (–Ω–∏–∂–µ best bid!)
- –õ–∏–º–∏—Ç—ã: ¬±5% –æ—Ç —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã (–Ω–µ—Ç–æ—á–Ω—ã–µ)
- –†–µ–∑—É–ª—å—Ç–∞—Ç: —Ü–µ–Ω–∞ 100899 < –ª–∏–º–∏—Ç 101133.2 ‚Üí –æ—Ä–¥–µ—Ä –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è!

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –õ–∏–º–∏—Ç–Ω–∞—è —Ü–µ–Ω–∞: 101050 * 0.999 = 100949.5 ‚úÖ (–Ω–∏–∂–µ best ask!)
- –õ–∏–º–∏—Ç—ã: best_bid * 0.99 = 99990 (min_sell), best_ask * 1.01 = 102060.5 (max_buy)
- –ü—Ä–æ–≤–µ—Ä–∫–∞: 100949.5 >= 99990 ‚Üí TRUE ‚úÖ
- –†–µ–∑—É–ª—å—Ç–∞—Ç: –æ—Ä–¥–µ—Ä —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ!

---

### –ü—Ä–∏–º–µ—Ä 2: BUY –æ—Ä–¥–µ—Ä (–¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- Best bid: 101000
- Best ask: 101050
- Current price: 101025

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –õ–∏–º–∏—Ç–Ω–∞—è —Ü–µ–Ω–∞: 101050 * 1.001 = 101150.5 ‚ùå (–≤—ã—à–µ best ask!)
- –õ–∏–º–∏—Ç—ã: ¬±5% –æ—Ç —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã (–Ω–µ—Ç–æ—á–Ω—ã–µ)
- –†–µ–∑—É–ª—å—Ç–∞—Ç: —Ü–µ–Ω–∞ –º–æ–∂–µ—Ç –≤—ã–π—Ç–∏ –∑–∞ –ª–∏–º–∏—Ç—ã –±–∏—Ä–∂–∏!

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –õ–∏–º–∏—Ç–Ω–∞—è —Ü–µ–Ω–∞: 101050 * 0.999 = 100949.5 ‚úÖ (–Ω–∏–∂–µ best ask!)
- –õ–∏–º–∏—Ç—ã: best_bid * 0.99 = 99990 (min_sell), best_ask * 1.01 = 102060.5 (max_buy)
- –ü—Ä–æ–≤–µ—Ä–∫–∞: 100949.5 <= 102060.5 ‚Üí TRUE ‚úÖ
- –†–µ–∑—É–ª—å—Ç–∞—Ç: –æ—Ä–¥–µ—Ä —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ!

---

### –ü—Ä–∏–º–µ—Ä 3: –û—à–∏–±–∫–∞ 51006 (SELL)

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- –¶–µ–Ω–∞ –æ—Ä–¥–µ—Ä–∞: 101034.86
- –û—à–∏–±–∫–∞: min sell price = 101,133.2

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –û—Ä–¥–µ—Ä –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è ‚ùå
- Fallback –Ω–∞ —Ä—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä ‚úÖ

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –ü–∞—Ä—Å–∏–º –ª–∏–º–∏—Ç –∏–∑ –æ—à–∏–±–∫–∏: min_sell = 101,133.2
- –°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞: 101,133.2 * 1.001 = 101,234.33
- –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –æ—Ä–¥–µ—Ä —Å —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ü–µ–Ω–æ–π ‚úÖ
- –ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä –∫–∞–∫ fallback ‚úÖ

---

## üìã –ò–¢–û–ì–û–í–´–ô –í–´–í–û–î

1. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ —Ü–µ–Ω—ã:** –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã –¥–ª—è SELL –∏ BUY
2. ‚úÖ **–£–ª—É—á—à–µ–Ω–æ –ø–æ–ª—É—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤:** –ò—Å–ø–æ–ª—å–∑—É–µ–º –ª—É—á—à–∏–µ —Ü–µ–Ω—ã –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞
3. ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ –ª–∏–º–∏—Ç–æ–≤:** –ü–∞—Ä—Å–∏–º –ª–∏–º–∏—Ç—ã –∏–∑ –æ—à–∏–±–∫–∏ API –∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏—Ö
4. ‚úÖ **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –ü—Ä–æ–±—É–µ–º —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–Ω—É –ø–µ—Ä–µ–¥ fallback
5. ‚úÖ **–£–≤–µ–ª–∏—á–µ–Ω offset:** 0.1% –≤–º–µ—Å—Ç–æ 0.05% (–±–æ–ª–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π)

---

## üîß –ü–†–ò–û–†–ò–¢–ï–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

1. ‚úÖ **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ —Ü–µ–Ω—ã –¥–ª—è SELL –∏ BUY
2. ‚úÖ **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï:** –£–ª—É—á—à–µ–Ω–æ –ø–æ–ª—É—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ —Ü–µ–Ω—ã (–∏—Å–ø–æ–ª—å–∑—É–µ–º –ª—É—á—à–∏–µ —Ü–µ–Ω—ã –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞)
3. ‚úÖ **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï:** –£–≤–µ–ª–∏—á–µ–Ω offset –¥–æ 0.1% (–±–æ–ª–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π)
4. ‚úÖ **–í–ê–ñ–ù–û:** –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ –ª–∏–º–∏—Ç–æ–≤ –∏–∑ –æ—à–∏–±–∫–∏ API (51006)
5. ‚úÖ **–í–ê–ñ–ù–û:** –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–ø—Ä–æ–±—É–µ–º —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–Ω—É)

---

## üìù –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞** –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ ‚Äî –æ—à–∏–±–æ–∫ –±—ã—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–æ
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –Ω–æ–≤—ã–µ –æ—Ä–¥–µ—Ä–∞** ‚Äî –ª–∏–º–∏—Ç–Ω—ã–µ –æ—Ä–¥–µ—Ä–∞ –¥–æ–ª–∂–Ω—ã —Ä–∞–∑–º–µ—â–∞—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏–∫—É** –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ 51006 ‚Äî —Ü–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
4. **–£–≤–µ–ª–∏—á–∏—Ç—å offset –¥–æ 0.2%**, –µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–≤—Ç–æ—Ä–∏—Ç—Å—è (–±–æ–ª–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥)

