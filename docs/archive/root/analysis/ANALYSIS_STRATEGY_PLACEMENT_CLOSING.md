# –ê–ù–ê–õ–ò–ó –°–¢–†–ê–¢–ï–ì–ò–ò –†–ê–ó–ú–ï–©–ï–ù–ò–Ø –ò –ó–ê–ö–†–´–¢–ò–Ø –ü–û–ó–ò–¶–ò–ô

**–î–∞—Ç–∞:** 2025-12-18  
**–°—Ç–∞—Ç—É—Å:** üîç –ê–ù–ê–õ–ò–ó –ó–ê–í–ï–†–®–ï–ù

---

## üìä –¢–ï–ö–£–©–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê

### –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –æ—Ä–¥–µ—Ä–æ–≤:** 10.7% (274 –∏–∑ 2562 —Ä–∞–∑–º–µ—â–µ–Ω–Ω—ã—Ö)
- **–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** -$98.92 (-12.54%)
- **–†–∞–∑–º–µ—â–µ–Ω–æ –æ—Ä–¥–µ—Ä–æ–≤:** 2562
- **–ò—Å–ø–æ–ª–Ω–µ–Ω–æ:** 274

---

## üîç –ê–ù–ê–õ–ò–ó –°–¢–†–ê–¢–ï–ì–ò–ò –†–ê–ó–ú–ï–©–ï–ù–ò–Ø –û–†–î–ï–†–û–í

### 1. –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è

#### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–æ—Ä–æ—à–æ:
- **Post-only —Ä–µ–∂–∏–º:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `post_only=True` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (maker fee 0.02% –≤–º–µ—Å—Ç–æ 0.05%)
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–Ω–æ–≤—ã—Ö –ª–∏–º–∏—Ç–æ–≤:** –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Ü–µ–Ω—ã –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–æ–≤ –±–∏—Ä–∂–∏
- **Fallback –Ω–∞ market:** –ï—Å—Ç—å fallback –Ω–∞ —Ä—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –ª–∏–º–∏—Ç–Ω–æ–≥–æ
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π offset:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π offset –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–ø—Ä–µ–¥–∞

#### ‚ùå –ü—Ä–æ–±–ª–µ–º—ã:

**1.1. –ú–µ–¥–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –ª–∏–º–∏—Ç–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤**
```python
# –¢–µ–∫—É—â–∏–π –∫–æ–¥ (signal_coordinator.py:1841):
await asyncio.sleep(2)  # –ñ–¥–µ–º 2 —Å–µ–∫—É–Ω–¥—ã
# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å –æ—Ä–¥–µ—Ä–∞
```

**–ü—Ä–æ–±–ª–µ–º–∞:** 
- –ñ–¥–µ–º 2 —Å–µ–∫—É–Ω–¥—ã –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π
- –ï—Å–ª–∏ –æ—Ä–¥–µ—Ä –Ω–µ –∏—Å–ø–æ–ª–Ω–∏–ª—Å—è, –Ω–µ –¥–µ–ª–∞–µ–º –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π fallback –Ω–∞ market
- OrderCoordinator –æ—Ç–º–µ–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ 60 —Å–µ–∫—É–Ω–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

**–í–ª–∏—è–Ω–∏–µ:** 
- –ú–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–æ–≤ –≤–∏—Å—è—Ç –≤ —Å—Ç–∞–∫–∞–Ω–µ –∏ –Ω–µ –∏—Å–ø–æ–ª–Ω—è—é—Ç—Å—è
- –£–ø—É—Å–∫–∞—é—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤—Ö–æ–¥–∞ –≤ –ø–æ–∑–∏—Ü–∏—é
- –ù–∏–∑–∫–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (10.7%)

**1.2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ best_bid/best_ask –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–º**
```python
# –¢–µ–∫—É—â–∏–π –∫–æ–¥ (order_executor.py:704-729):
if use_best_ask and best_ask > 0:
    limit_price = best_ask * (1 + offset_percent / 100.0)
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ best_bid/best_ask –µ—Å—Ç—å, –Ω–æ –ø–æ—Ä–æ–≥ 0.5% –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º
- –ï—Å–ª–∏ —Ü–µ–Ω–∞ —É—à–ª–∞, –æ—Ä–¥–µ—Ä –º–æ–∂–µ—Ç –Ω–µ –∏—Å–ø–æ–ª–Ω–∏—Ç—å—Å—è

**1.3. –ù–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π –æ—Ç–º–µ–Ω—ã –Ω–µ–∏—Å–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤**
- OrderCoordinator –æ—Ç–º–µ–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `max_wait_seconds` (60 —Å–µ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- –ù–µ—Ç –±—ã—Å—Ç—Ä–æ–π –æ—Ç–º–µ–Ω—ã –µ—Å–ª–∏ —Ü–µ–Ω–∞ —É—à–ª–∞ > 0.1% (–µ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∞, –Ω–æ –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ OrderCoordinator, –Ω–µ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è)

---

## üîç –ê–ù–ê–õ–ò–ó –°–¢–†–ê–¢–ï–ì–ò–ò –ó–ê–ö–†–´–¢–ò–Ø –ü–û–ó–ò–¶–ò–ô

### 2. –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è

#### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–æ—Ä–æ—à–æ:
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã:** ExitAnalyzer, TrailingSL, TP, SL, profit drawdown
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:** ExitAnalyzer –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç #0
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:** TP/SL –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ–¥ —Ä–µ–∂–∏–º —Ä—ã–Ω–∫–∞

#### ‚ùå –ü—Ä–æ–±–ª–µ–º—ã:

**2.1. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–æ–≥—É—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å**
```
–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∑–∞–∫—Ä—ã—Ç–∏—è:
1. ExitAnalyzer (–ü–†–ò–û–†–ò–¢–ï–¢ #0)
2. TrailingSL
3. TP (–≤ position_manager._check_tp_only)
4. SL (–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π)
5. Profit drawdown
6. Loss cut
7. Max holding
8. Timeout
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤
- –°–ª–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å, –ø–æ—á–µ–º—É –ø–æ–∑–∏—Ü–∏—è –∑–∞–∫—Ä—ã–ª–∞—Å—å

**2.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ TP –∏—Å–ø–æ–ª—å–∑—É–µ—Ç markPx, –∞ –Ω–µ –∞–∫—Ç—É–∞–ª—å–Ω—É—é —Ü–µ–Ω—É –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞**
```python
# –¢–µ–∫—É—â–∏–π –∫–æ–¥ (position_manager.py:2082-2120):
current_price = float(position.get("markPx", "0"))
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- markPx –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–º
- –î–ª—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞ –Ω—É–∂–Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∞ –≤ –∑–∞–∫—Ä—ã—Ç–∏–∏ –ø–æ TP

**2.3. Partial TP –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è min_holding**
```python
# –¢–µ–∫—É—â–∏–π –∫–æ–¥ (position_manager.py:3056-3061):
if minutes_in_position < effective_min_holding:
    min_holding_blocked = True
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Partial TP –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –µ—Å–ª–∏ –ø–æ–∑–∏—Ü–∏—è –¥–µ—Ä–∂–∏—Ç—Å—è –º–µ–Ω—å—à–µ min_holding
- –î–ª—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞ —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ
- –£–ø—É—Å–∫–∞—é—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ñ–∏–∫—Å–∞—Ü–∏–∏ –ø—Ä–∏–±—ã–ª–∏

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –£–õ–£–ß–®–ï–ù–ò–Æ

### 3. –£–ª—É—á—à–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è

#### 3.1. –ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ fallback –Ω–∞ market
```python
# –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø: –£–ª—É—á—à–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
async def place_order_with_fallback(symbol, side, size, regime):
    # 1. –†–∞–∑–º–µ—â–∞–µ–º –ª–∏–º–∏—Ç–Ω—ã–π –æ—Ä–¥–µ—Ä
    result = await _place_limit_order(...)
    
    if result.get("success"):
        order_id = result.get("order_id")
        
        # 2. –ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (0.5 —Å–µ–∫ –≤–º–µ—Å—Ç–æ 2 —Å–µ–∫)
        await asyncio.sleep(0.5)
        
        # 3. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
        order_status = await check_order_status(order_id)
        
        if order_status != "filled":
            # 4. –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã
            price_drift = await check_price_drift(order_id, symbol)
            
            if price_drift > 0.05:  # –¶–µ–Ω–∞ —É—à–ª–∞ > 0.05%
                # 5. –û—Ç–º–µ–Ω—è–µ–º –∏ –∑–∞–º–µ–Ω—è–µ–º –Ω–∞ market
                await cancel_order(order_id)
                return await _place_market_order(symbol, side, size)
        
        return result
    else:
        # Fallback –Ω–∞ market –ø—Ä–∏ –æ—à–∏–±–∫–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
        return await _place_market_order(symbol, side, size)
```

#### 3.2. –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ —Ü–µ–Ω
```python
# –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø: –ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏
def is_price_actual(best_price, current_price, threshold=0.001):  # 0.1% –≤–º–µ—Å—Ç–æ 0.5%
    if best_price <= 0 or current_price <= 0:
        return False
    diff_pct = abs(best_price - current_price) / current_price
    return diff_pct < threshold
```

#### 3.3. –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –æ—Ç–º–µ–Ω–∞ –Ω–µ–∏—Å–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤
```python
# –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø: –£–º–µ–Ω—å—à–∏—Ç—å max_wait_seconds –¥–ª—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞
limit_order_config:
  by_regime:
    ranging:
      max_wait_seconds: 10  # –í–º–µ—Å—Ç–æ 60
      replace_with_market: true
    trending:
      max_wait_seconds: 15  # –í–º–µ—Å—Ç–æ 60
      replace_with_market: true
    choppy:
      max_wait_seconds: 5   # –í–º–µ—Å—Ç–æ 60
      replace_with_market: true
```

---

### 4. –£–ª—É—á—à–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∑–∞–∫—Ä—ã—Ç–∏—è

#### 4.1. –£–ø—Ä–æ—â–µ–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ –∑–∞–∫—Ä—ã—Ç–∏—è
```python
# –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø: –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è
–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:
1. ExitAnalyzer (–µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π)
   - TP/SL
   - Profit drawdown
   - Max holding
   - Timeout
2. TrailingSL (—Ç–æ–ª—å–∫–æ –¥–ª—è trailing stop)
3. Emergency close (—Ç–æ–ª—å–∫–æ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∏—Ç—É–∞—Ü–∏–π)
```

#### 4.2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞ –¥–ª—è TP
```python
# –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—É—é —Ü–µ–Ω—É –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞
async def check_tp_with_actual_price(position):
    # –ü–æ–ª—É—á–∞–µ–º –∞–∫—Ç—É–∞–ª—å–Ω—É—é —Ü–µ–Ω—É –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞
    price_limits = await client.get_price_limits(symbol)
    current_price = price_limits.get("current_price", 0)
    
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º markPx —Ç–æ–ª—å–∫–æ –∫–∞–∫ fallback
    if current_price <= 0:
        current_price = float(position.get("markPx", "0"))
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º TP —Å –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Ü–µ–Ω–æ–π
    pnl_percent = calculate_pnl_percent(entry_price, current_price, side)
    if pnl_percent >= tp_percent:
        await close_position(...)
```

#### 4.3. –£–º–µ–Ω—å—à–µ–Ω–∏–µ min_holding –¥–ª—è Partial TP
```python
# –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π min_holding –¥–ª—è Partial TP
# –î–ª—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞ min_holding –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º
partial_tp_config:
  min_holding_minutes: 0.1  # 6 —Å–µ–∫—É–Ω–¥ –≤–º–µ—Å—Ç–æ 0.2 –º–∏–Ω—É—Ç (12 —Å–µ–∫)
  # –ò–ª–∏ –≤–æ–æ–±—â–µ —É–±—Ä–∞—Ç—å min_holding –¥–ª—è Partial TP
```

---

## üìã –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ):
1. ‚úÖ **–£–º–µ–Ω—å—à–∏—Ç—å –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–∏–º–∏—Ç–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤** (2 —Å–µ–∫ ‚Üí 0.5 —Å–µ–∫)
2. ‚úÖ **–î–æ–±–∞–≤–∏—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π fallback –Ω–∞ market** –µ—Å–ª–∏ –ª–∏–º–∏—Ç –Ω–µ –∏—Å–ø–æ–ª–Ω–∏–ª—Å—è –∑–∞ 0.5 —Å–µ–∫
3. ‚úÖ **–£–º–µ–Ω—å—à–∏—Ç—å max_wait_seconds** –¥–ª—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞ (60 —Å–µ–∫ ‚Üí 5-15 —Å–µ–∫)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ):
4. ‚úÖ **–£–ª—É—á—à–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ —Ü–µ–Ω** (0.5% ‚Üí 0.1%)
5. ‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—É—é —Ü–µ–Ω—É –∏–∑ —Å—Ç–∞–∫–∞–Ω–∞** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ TP
6. ‚úÖ **–£–ø—Ä–æ—Å—Ç–∏—Ç—å –ª–æ–≥–∏–∫—É –∑–∞–∫—Ä—ã—Ç–∏—è** (—É–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–æ–∫)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ):
7. ‚úÖ **–£–º–µ–Ω—å—à–∏—Ç—å min_holding –¥–ª—è Partial TP** (0.2 –º–∏–Ω ‚Üí 0.1 –º–∏–Ω –∏–ª–∏ —É–±—Ä–∞—Ç—å)
8. ‚úÖ **–î–æ–±–∞–≤–∏—Ç—å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—É—é –æ—Ç–º–µ–Ω—É** –æ—Ä–¥–µ—Ä–æ–≤ –ø—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏ —Ü–µ–Ω—ã > 0.05%

---

## üéØ –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π:
- ‚úÖ **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –æ—Ä–¥–µ—Ä–æ–≤:** 10.7% ‚Üí 40-60%
- ‚úÖ **–°–∫–æ—Ä–æ—Å—Ç—å –≤—Ö–æ–¥–∞:** –£–ª—É—á—à–∏—Ç—Å—è –∑–∞ —Å—á–µ—Ç –±—ã—Å—Ç—Ä–æ–≥–æ fallback –Ω–∞ market
- ‚úÖ **–¢–æ—á–Ω–æ—Å—Ç—å –∑–∞–∫—Ä—ã—Ç–∏—è:** –£–ª—É—á—à–∏—Ç—Å—è –∑–∞ —Å—á–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã
- ‚úÖ **–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –î–æ–ª–∂–µ–Ω —É–ª—É—á—à–∏—Ç—å—Å—è –∑–∞ —Å—á–µ—Ç –ª—É—á—à–µ–≥–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–æ–≤

---

## ‚ö†Ô∏è –†–ò–°–ö–ò

1. **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–º–∏—Å—Å–∏–π:** –ë–æ–ª—å—à–µ market –æ—Ä–¥–µ—Ä–æ–≤ = –±–æ–ª—å—à–µ taker fee (0.05% –≤–º–µ—Å—Ç–æ 0.02%)
2. **–ü—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ:** Market –æ—Ä–¥–µ—Ä–∞ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ
3. **–°–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –æ—Ç–º–µ–Ω–∞:** –ú–æ–∂–µ—Ç –æ—Ç–º–µ–Ω—è—Ç—å –æ—Ä–¥–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥–ª–∏ –±—ã –∏—Å–ø–æ–ª–Ω–∏—Ç—å—Å—è

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å market —Ç–æ–ª—å–∫–æ –∫–∞–∫ fallback, –Ω–µ –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ—Ä–æ–≥–∏ –æ—Ç–º–µ–Ω—ã –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-18  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–ù–ê–õ–ò–ó –ó–ê–í–ï–†–®–ï–ù, –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ì–û–¢–û–í–´
