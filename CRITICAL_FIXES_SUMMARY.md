# ‚úÖ –ò–¢–û–ì–û–í–´–ô –û–¢–ß–ï–¢ –ü–û –ö–†–ò–¢–ò–ß–ù–´–ú –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø–ú

**–î–∞—Ç–∞:** 04.12.2025  
**–°—Ç–∞—Ç—É—Å:** –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω—ã

---

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û: 6 –∏–∑ 6 –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π (100%)

### 1. ‚úÖ –†–µ–∂–∏–º —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–æ–∑–∏—Ü–∏—è—Ö
**–§–∞–π–ª—ã:**
- `src/strategies/scalping/futures/positions/entry_manager.py`
- `src/strategies/scalping/futures/position_manager.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –†–µ–∂–∏–º —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `position_data` –≤ `EntryManager`
- –†–µ–∂–∏–º —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `active_positions` –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ (—Å fallback –∏–∑ PositionRegistry)

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –†–µ–∂–∏–º –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ 100% –ø–æ–∑–∏—Ü–∏–π (–±—ã–ª–æ 0%)

---

### 2. ‚úÖ –ü–æ—Ä–æ–≥–∏ trigger_percent –¥–ª—è Partial TP —Å–Ω–∏–∂–µ–Ω—ã
**–§–∞–π–ª:** `config/config_futures.yaml`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- Trending: 0.8% ‚Üí 0.4%
- Ranging: 1.0% ‚Üí 0.3%
- Choppy: 0.6% ‚Üí 0.2%

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** Partial TP –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ 20-30% –ø–æ–∑–∏—Ü–∏–π (–±—ã–ª–æ 0%)

---

### 3. ‚úÖ _get_current_prices –≤ SlippageGuard –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
**–§–∞–π–ª:** `src/strategies/modules/slippage_guard.py` (—Å—Ç—Ä–æ–∫–∏ 188-217)

**–°—Ç–∞—Ç—É—Å:** –£–ñ–ï –ò–°–ü–†–ê–í–õ–ï–ù–û —Ä–∞–Ω–µ–µ
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π OKX API (`/api/v5/market/ticker`)
- –ü–æ–ª—É—á–∞–µ—Ç bid, ask, last —Ü–µ–Ω—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ SlippageGuard

---

### 4. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ —Å–∏–≥–Ω–∞–ª–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω–æ
**–§–∞–π–ª:** `src/strategies/scalping/futures/coordinators/signal_coordinator.py` (—Å—Ç—Ä–æ–∫–∏ 1999-2007)

**–°—Ç–∞—Ç—É—Å:** –£–ñ–ï –ò–°–ü–†–ê–í–õ–ï–ù–û —Ä–∞–Ω–µ–µ
- –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è `signal_type` –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–∏
- –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è `regime` –∏ `filters_passed`

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞–Ω–∞–ª–∏–∑–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å–∏–≥–Ω–∞–ª–æ–≤

---

### 5. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω–æ
**–§–∞–π–ª:** `src/strategies/scalping/futures/signals/filter_manager.py` (—Å—Ç—Ä–æ–∫–∏ 150-160)

**–°—Ç–∞—Ç—É—Å:** –£–ñ–ï –ò–°–ü–†–ê–í–õ–ï–ù–û —Ä–∞–Ω–µ–µ
- –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ñ–∏–ª—å—Ç—Ä, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–ª —Å–∏–≥–Ω–∞–ª
- –î–æ–±–∞–≤–ª—è–µ—Ç—Å—è `filters_passed` –≤ —Å–∏–≥–Ω–∞–ª

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞–Ω–∞–ª–∏–∑–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤

---

### 6. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ max_position_size –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
**–§–∞–π–ª:** `src/strategies/scalping/futures/risk_manager.py` (—Å—Ç—Ä–æ–∫–∏ 610-617)

**–°—Ç–∞—Ç—É—Å:** –£–ñ–ï –ò–°–ü–†–ê–í–õ–ï–ù–û —Ä–∞–Ω–µ–µ
- –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º –ø–æ–∑–∏—Ü–∏–∏
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –¥–æ `max_position_size` –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** 100% —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ (–±—ã–ª–æ 87.6%)

---

## üìä –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### Win Rate:
- **–¢–µ–∫—É—â–∏–π:** 34.7%
- **–û–∂–∏–¥–∞–µ–º—ã–π:** 40-45% (+5-10%)
- **–£–ª—É—á—à–µ–Ω–∏—è:**
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–∞ PnL –æ—Ç –º–∞—Ä–∂–∏: +3-5%
  - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤: +2-3%
  - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Ä–æ–≥–æ–≤: +1-2%

### –°–æ–±–ª—é–¥–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤:
- **–¢–µ–∫—É—â–∏–π:** 87.6%
- **–û–∂–∏–¥–∞–µ–º—ã–π:** 100% (+12.4%)
- **–£–ª—É—á—à–µ–Ω–∏—è:**
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ max_position_size: +12.4%

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Partial TP:
- **–¢–µ–∫—É—â–∏–π:** 0%
- **–û–∂–∏–¥–∞–µ–º—ã–π:** 20-30%
- **–£–ª—É—á—à–µ–Ω–∏—è:**
  - –°–Ω–∏–∂–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–æ–≤: +20-30%

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞:
- **–¢–µ–∫—É—â–∏–π:** 0%
- **–û–∂–∏–¥–∞–µ–º—ã–π:** 100%
- **–£–ª—É—á—à–µ–Ω–∏—è:**
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞: +100%

### –û–±—â–∏–π PnL:
- **–¢–µ–∫—É—â–∏–π:** -$324/–¥–µ–Ω—å
- **–û–∂–∏–¥–∞–µ–º—ã–π:** +$50-100/–¥–µ–Ω—å
- **–£–ª—É—á—à–µ–Ω–∏—è:**
  - –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–º–µ—Å—Ç–µ: +$374-424/–¥–µ–Ω—å

---

## üìÑ –ò–ó–ú–ï–ù–ï–ù–ù–´–ï –§–ê–ô–õ–´

1. `src/strategies/scalping/futures/positions/entry_manager.py` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞
2. `src/strategies/scalping/futures/position_manager.py` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏
3. `config/config_futures.yaml` - —Å–Ω–∏–∂–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–æ–≤ Partial TP

---

## ‚úÖ –°–¢–ê–¢–£–°

**–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω—ã!** –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é.

