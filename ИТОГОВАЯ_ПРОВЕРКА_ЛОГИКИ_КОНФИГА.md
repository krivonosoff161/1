# ‚úÖ –ò–¢–û–ì–û–í–ê–Ø –ü–†–û–í–ï–†–ö–ê –õ–û–ì–ò–ö–ò –ö–û–ù–§–ò–ì–ê

## üîç –ü–†–û–ë–õ–ï–ú–ê –ù–ê–ô–î–ï–ù–ê –ò –ò–°–ü–†–ê–í–õ–ï–ù–ê

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞:
- `max_position_usd` –∏–∑ `symbol_profiles` **–∑–∞–º–µ–Ω—è–ª** –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `balance_profile`
- –≠—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–ª–æ —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–π –¥–æ $58 –≤–º–µ—Å—Ç–æ $500
- –†–µ–∑—É–ª—å—Ç–∞—Ç: margin=$11.60 –≤–º–µ—Å—Ç–æ $100

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
**–§–∞–π–ª:** `src/strategies/scalping/futures/orchestrator.py`

**–ë—ã–ª–æ:**
```python
max_usd_size = symbol_max  # –ó–∞–º–µ–Ω—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ balance_profile
```

**–°—Ç–∞–ª–æ:**
```python
# –ò—Å–ø–æ–ª—å–∑—É–µ–º –ú–ê–ö–°–ò–ú–£–ú –º–µ–∂–¥—É symbol_profiles –∏ balance_profile
if symbol_max > max_usd_size:
    max_usd_size = symbol_max  # –ò—Å–ø–æ–ª—å–∑—É–µ–º –±–æ–ª—å—à–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
else:
    # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º symbol_max, –∏—Å–ø–æ–ª—å–∑—É–µ–º balance_profile
```

## üìã –õ–û–ì–ò–ö–ê –ü–†–ò–û–†–ò–¢–ï–¢–û–í

### –î–ª—è `min_position_usd`:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–ú–ê–ö–°–ò–ú–£–ú** –º–µ–∂–¥—É `symbol_profiles` –∏ `balance_profile`
- –ë–æ–ª–µ–µ –ª–∏–±–µ—Ä–∞–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ (–±–æ–ª—å—à–µ = –ª—É—á—à–µ)

### –î–ª—è `max_position_usd`:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–ú–ê–ö–°–ò–ú–£–ú** –º–µ–∂–¥—É `symbol_profiles` –∏ `balance_profile`
- –ë–æ–ª–µ–µ –ª–∏–±–µ—Ä–∞–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ (–±–æ–ª—å—à–µ = –ª—É—á—à–µ)

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢

1. ‚úÖ –ï—Å–ª–∏ `symbol_profiles.max_position_usd > balance_profile.max_position_usd` ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `symbol_profiles`
2. ‚úÖ –ï—Å–ª–∏ `symbol_profiles.max_position_usd < balance_profile.max_position_usd` ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `balance_profile`
3. ‚úÖ –ó–Ω–∞—á–µ–Ω–∏—è –∏–∑ `balance_profile` **–ù–ï —É–º–µ–Ω—å—à–∞—é—Ç—Å—è** –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∏–∑ `symbol_profiles`

## üéØ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- `balance_profile.small.max_position_usd = $500.0` –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è
- `symbol_profiles.BTC-USDT.ranging.position.max_position_usd = $58.0` –±—É–¥–µ—Ç **–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è** (–º–µ–Ω—å—à–µ $500)
- –†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–π: **margin=$100** ($500 / 5 = $100)

---

## ‚úÖ –í–°–ï –ü–ê–†–ê–ú–ï–¢–†–´ –ò–î–£–¢ –ò–ó –ö–û–ù–§–ò–ì–ê

1. ‚úÖ –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–æ–∫ "—Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–æ–µ"
2. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ú–ê–ö–°–ò–ú–£–ú –º–µ–∂–¥—É symbol_profiles –∏ balance_profile
3. ‚úÖ –ó–Ω–∞—á–µ–Ω–∏—è –∏–∑ balance_profile –Ω–µ —É–º–µ–Ω—å—à–∞—é—Ç—Å—è
4. ‚úÖ –ï—Å–ª–∏ max < min, –≤—ã–¥–∞–µ—Ç—Å—è ERROR –∏ —Ä–∞–±–æ—Ç–∞ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è

**–í–°–ï –ü–ê–†–ê–ú–ï–¢–†–´ –ò–î–£–¢ –ò–ó –ö–û–ù–§–ò–ì–ê!** ‚úÖ





