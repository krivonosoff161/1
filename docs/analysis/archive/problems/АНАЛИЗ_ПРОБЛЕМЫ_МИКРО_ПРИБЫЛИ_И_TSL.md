# üîç –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ê–ù–ê–õ–ò–ó: –ü—Ä–æ–±–ª–µ–º–∞ –º–∏–∫—Ä–æ-–ø—Ä–∏–±—ã–ª–∏ –∏ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø-–ª–æ—Å—Å–∞

## üìä –û–ë–ù–ê–†–£–ñ–ï–ù–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

**–°–∏–º–ø—Ç–æ–º—ã:**
- ‚úÖ Win rate —É–ª—É—á—à–∏–ª—Å—è (–±–æ–ª—å—à–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–¥–µ–ª–æ–∫)
- ‚ùå –ü—Ä–∏–±—ã–ª—å —Å –ø–æ–∑–∏—Ü–∏–π –º–∞–ª–∞ (–º–∏–∫—Ä–æ-–ø—Ä–∏–±—ã–ª—å)
- ‚ùå –ë–æ—Ç –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏–∏ "–∫–∞–∫ —Å –ø—É–ª–µ–º–µ—Ç–∞" —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–∏–±—ã–ª—å—é
- ‚ùå –¢—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø –¥–æ–ª–∂–µ–Ω –¥–µ—Ä–∂–∞—Ç—å –ø–æ–∑–∏—Ü–∏–∏, –Ω–æ –æ–Ω–∏ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è —Å–ª–∏—à–∫–æ–º —Ä–∞–Ω–æ

---

## üî¨ –î–ï–¢–ê–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó –ò–ó –õ–û–ì–û–í

### –ü—Ä–∏–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ ETH-USDT (20:21:25):

**–•—Ä–æ–Ω–æ–ª–æ–≥–∏—è:**
1. **20:21:25** - –ü–æ–∑–∏—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∞: entry=2779.82, side=long
2. **20:21:25** - –¶–µ–Ω–∞ –ø–æ–¥–Ω—è–ª–∞—Å—å –¥–æ 2800.00, profit=0.63%, —Å—Ç–æ–ø=2744.00
3. **20:21:27** - –¶–µ–Ω–∞ –ø–æ–¥–Ω—è–ª–∞—Å—å –¥–æ 2813.03, profit=1.09%, —Å—Ç–æ–ø=2756.77
4. **20:21:30** - –¶–µ–Ω–∞ –æ—Ç–∫–∞—Ç–∏–ª–∞—Å—å –¥–æ 2784.28, profit=0.06%, —Å—Ç–æ–ø=2756.77
5. **20:21:33** - –¶–µ–Ω–∞ —Ä–µ–∑–∫–æ –ø–æ–¥–Ω—è–ª–∞—Å—å –¥–æ 2944.56, profit=5.83%, —Å—Ç–æ–ø=2885.67
6. **20:21:33** - –ü–æ–∑–∏—Ü–∏—è –ù–ï –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è: "‚è±Ô∏è –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —É–¥–µ—Ä–∂–∞–Ω–∏—è: –ø–æ–∑–∏—Ü–∏—è –¥–µ—Ä–∂–∏—Ç—Å—è 0.14 –º–∏–Ω < 3.00 –º–∏–Ω"

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –¢—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ 2% –æ—Ç –º–∞–∫—Å–∏–º—É–º–∞ (2885.67)
- –ü—Ä–∏ –æ—Ç–∫–∞—Ç–µ —Ü–µ–Ω–∞ –º–æ–∂–µ—Ç –∫–æ—Å–Ω—É—Ç—å—Å—è —Å—Ç–æ–ø-–ª–æ—Å—Å–∞ –∏ –∑–∞–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏—é —Å –º–∏–∫—Ä–æ-–ø—Ä–∏–±—ã–ª—å—é
- `min_holding_minutes` –¥–ª—è ranging = 2.0 –º–∏–Ω—É—Ç—ã, –Ω–æ —Å `extend_time_on_profit` –º–æ–∂–µ—Ç –±—ã—Ç—å 3.0+ –º–∏–Ω—É—Ç—ã

---

## üéØ –ö–û–†–ù–ï–í–´–ï –ü–†–ò–ß–ò–ù–´

### 1. **–¢—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø —Å–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π**

**–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:**
```python
# –í trailing_stop_loss.py, —Å—Ç—Ä–æ–∫–∞ 216-219
self.current_trail = min(
    self.initial_trail + max(profit_pct_total, 0.0) * 2,
    self.max_trail,
)
```

**–¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è ranging (–∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞):**
- `initial_trail` = 0.8% (0.008)
- `max_trail` = 2.0% (0.02)
- `trail_growth.medium_profit_multiplier` = 2.0 (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º—É–ª–µ)
- `min_profit_to_close` = 0.55% (0.0055)
- `min_holding_minutes` = 2.0 –º–∏–Ω—É—Ç—ã
- `extend_time_on_profit` = true
- `extend_time_multiplier` = 1.5 (–±–∞–∑–æ–≤—ã–π, –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω –¥–ª—è ranging)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü—Ä–∏ –ø—Ä–∏–±—ã–ª–∏ 5.83%: `current_trail = 0.8% + 5.83% * 2 = 12.46%`, –Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω `max_trail = 2.0%`
- –°—Ç–æ–ø —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 2% –æ—Ç –º–∞–∫—Å–∏–º—É–º–∞ (2885.67 –ø—Ä–∏ –º–∞–∫—Å–∏–º—É–º–µ 2944.56)
- –ü—Ä–∏ –æ—Ç–∫–∞—Ç–µ –≤—Å–µ–≥–æ –Ω–∞ 2% –ø–æ–∑–∏—Ü–∏—è –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- –í ranging —Ä–µ–∂–∏–º–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å 30%+, –æ—Ç–∫–∞—Ç—ã 2-3% - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°—Ç–æ–ø —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º –±–ª–∏–∑–∫–æ –∫ –º–∞–∫—Å–∏–º—É–º—É
- –ü—Ä–∏ –Ω–µ–±–æ–ª—å—à–æ–º –æ—Ç–∫–∞—Ç–µ (2-3%) –ø–æ–∑–∏—Ü–∏—è –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- –ü—Ä–∏–±—ã–ª—å "—Å—ä–µ–¥–∞–µ—Ç—Å—è" –∫–æ–º–∏—Å—Å–∏—è–º–∏ (0.1% –Ω–∞ –≤—Ö–æ–¥ + 0.1% –Ω–∞ –≤—ã—Ö–æ–¥ = 0.2%)

---

### 2. **–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —É–¥–µ—Ä–∂–∞–Ω–∏—è –ø—Ä–æ–¥–ª–µ–≤–∞–µ—Ç—Å—è –¥–ª—è –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π**

**–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:**
```python
# –í trailing_stop_loss.py, —Å—Ç—Ä–æ–∫–∞ 417-424
if (
    self.extend_time_on_profit
    and profit_pct > 0
    and effective_min_holding is not None
):
    effective_min_holding = effective_min_holding * self.extend_time_multiplier
```

**–¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `min_holding_minutes` –¥–ª—è ranging = 2.0 –º–∏–Ω—É—Ç—ã
- `extend_time_on_profit` = true
- `extend_time_multiplier` = 1.5 (–±–∞–∑–æ–≤—ã–π, –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω –¥–ª—è ranging)
- **effective_min_holding = 2.0 * 1.5 = 3.0 –º–∏–Ω—É—Ç—ã** –¥–ª—è –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü–æ–∑–∏—Ü–∏—è –Ω–µ –º–æ–∂–µ—Ç –∑–∞–∫—Ä—ã—Ç—å—Å—è —Ä–∞–Ω—å—à–µ 3 –º–∏–Ω—É—Ç, –¥–∞–∂–µ –µ—Å–ª–∏ —Å—Ç–æ–ø –¥–æ—Å—Ç–∏–≥–Ω—É—Ç
- –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ: "‚è±Ô∏è –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —É–¥–µ—Ä–∂–∞–Ω–∏—è: –ø–æ–∑–∏—Ü–∏—è –¥–µ—Ä–∂–∏—Ç—Å—è 0.14 –º–∏–Ω < 3.00 –º–∏–Ω"
- –ü—Ä–∏ –æ—Ç–∫–∞—Ç–µ —Ü–µ–Ω–∞ –º–æ–∂–µ—Ç –∫–æ—Å–Ω—É—Ç—å—Å—è —Å—Ç–æ–ø-–ª–æ—Å—Å–∞, –Ω–æ –ø–æ–∑–∏—Ü–∏—è –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏–∑-–∑–∞ min_holding
- –ó–∞—Ç–µ–º —Ü–µ–Ω–∞ –º–æ–∂–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è, –Ω–æ —Å—Ç–æ–ø —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –±–ª–∏–∑–∫–æ –∫ –º–∞–∫—Å–∏–º—É–º—É

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ–∑–∏—Ü–∏—è –¥–µ—Ä–∂–∏—Ç—Å—è –¥–æ–ª—å—à–µ, —á–µ–º –Ω—É–∂–Ω–æ
- –ü—Ä–∏ –æ—Ç–∫–∞—Ç–µ —Ü–µ–Ω–∞ –º–æ–∂–µ—Ç –∫–æ—Å–Ω—É—Ç—å—Å—è —Å—Ç–æ–ø-–ª–æ—Å—Å–∞, –Ω–æ –ø–æ–∑–∏—Ü–∏—è –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏–∑-–∑–∞ min_holding
- –ó–∞—Ç–µ–º —Ü–µ–Ω–∞ –º–æ–∂–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è, –Ω–æ —Å—Ç–æ–ø —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –±–ª–∏–∑–∫–æ

---

### 3. **–¢—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í ranging —Ä–µ–∂–∏–º–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã—Å–æ–∫–æ–π (30-40%)
- –û—Ç–∫–∞—Ç—ã 2-3% - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è ranging
- –ù–æ —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø 2% –æ—Ç –º–∞–∫—Å–∏–º—É–º–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ—Ç–∫–∞—Ç–µ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ–∑–∏—Ü–∏–∏ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è —Å–ª–∏—à–∫–æ–º —Ä–∞–Ω–æ
- –£–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è –±–æ–ª—å—à–µ–π –ø—Ä–∏–±—ã–ª–∏

---

### 4. **–ö–æ–º–∏—Å—Å–∏–∏ "—Å—ä–µ–¥–∞—é—Ç" –º–∏–∫—Ä–æ-–ø—Ä–∏–±—ã–ª—å**

**–†–∞—Å—á–µ—Ç:**
- –ö–æ–º–∏—Å—Å–∏—è –Ω–∞ –≤—Ö–æ–¥: 0.1% –æ—Ç –º–∞—Ä–∂–∏
- –ö–æ–º–∏—Å—Å–∏—è –Ω–∞ –≤—ã—Ö–æ–¥: 0.1% –æ—Ç –º–∞—Ä–∂–∏
- –ò—Ç–æ–≥–æ: 0.2% –æ—Ç –º–∞—Ä–∂–∏

**–ü—Ä–∏–º–µ—Ä:**
- –ü–æ–∑–∏—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∞ —Å –ø—Ä–∏–±—ã–ª—å—é 0.3% –æ—Ç –º–∞—Ä–∂–∏
- –ü–æ—Å–ª–µ –∫–æ–º–∏—Å—Å–∏–π: 0.3% - 0.2% = 0.1% —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏
- –≠—Ç–æ –º–∏–∫—Ä–æ-–ø—Ä–∏–±—ã–ª—å, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç —Ä–∏—Å–∫–∏

---

## üîß –†–ï–®–ï–ù–ò–Ø

### 1. **–£–≤–µ–ª–∏—á–∏—Ç—å `initial_trail` –¥–ª—è ranging —Ä–µ–∂–∏–º–∞**

**–¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:** 0.8% (0.008)
**–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ:** 1.5-2.0% (0.015-0.020)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –í ranging —Ä–µ–∂–∏–º–µ –æ—Ç–∫–∞—Ç—ã 2-3% - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å 30%+ —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞ –¥–ª—è –æ—Ç–∫–∞—Ç–æ–≤
- –ë–æ–ª—å—à–∏–π —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø –¥–∞—Å—Ç –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞ –¥–ª—è –æ—Ç–∫–∞—Ç–æ–≤
- –ü–æ–∑–∏—Ü–∏–∏ –Ω–µ –±—É–¥—É—Ç –∑–∞–∫—Ä—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –Ω–µ–±–æ–ª—å—à–æ–º –æ—Ç–∫–∞—Ç–µ

---

### 2. **–£–≤–µ–ª–∏—á–∏—Ç—å `max_trail` –¥–ª—è ranging —Ä–µ–∂–∏–º–∞**

**–¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:** 2.0% (0.02)
**–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ:** 3.0-4.0% (0.03-0.04)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –í ranging —Ä–µ–∂–∏–º–µ –æ—Ç–∫–∞—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –±–æ–ª—å—à–∏–º–∏ (2-3%)
- –¢–µ–∫—É—â–∏–π max_trail 2% —Å–ª–∏—à–∫–æ–º –º–∞–ª
- –ë–æ–ª—å—à–∏–π max_trail –¥–∞—Å—Ç –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞ –¥–ª—è –æ—Ç–∫–∞—Ç–æ–≤
- –ü–æ–∑–∏—Ü–∏–∏ –Ω–µ –±—É–¥—É—Ç –∑–∞–∫—Ä—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ—Ç–∫–∞—Ç–µ

---

### 3. **–£–º–µ–Ω—å—à–∏—Ç—å –º–Ω–æ–∂–∏—Ç–µ–ª—å —Ç—Ä–µ–π–ª–∏–Ω–≥–∞**

**–¢–µ–∫—É—â–∞—è —Ñ–æ—Ä–º—É–ª–∞:**
```python
current_trail = initial_trail + profit_pct * 2.0  # trail_growth.medium_profit_multiplier
```

**–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–∞—è:**
```python
current_trail = initial_trail + profit_pct * 1.0  # –∏–ª–∏ 1.5
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –ú–µ–Ω—å—à–∏–π –º–Ω–æ–∂–∏—Ç–µ–ª—å = –±–æ–ª–µ–µ –ø–ª–∞–≤–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ç—Ä–µ–π–ª–∏–Ω–≥–∞
- –°—Ç–æ–ø –Ω–µ –±—É–¥–µ—Ç "–ø—Ä–∏–ª–∏–ø–∞—Ç—å" –∫ –º–∞–∫—Å–∏–º—É–º—É
- –ë–æ–ª—å—à–µ –º–µ—Å—Ç–∞ –¥–ª—è –æ—Ç–∫–∞—Ç–æ–≤

---

### 4. **–£–≤–µ–ª–∏—á–∏—Ç—å `min_profit_to_close`**

**–¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è ranging:** 0.55% (0.0055)
**–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ:** 0.8-1.0% (0.008-0.010)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å –¥–æ–ª–∂–Ω–∞ –ø–æ–∫—Ä—ã–≤–∞—Ç—å –∫–æ–º–∏—Å—Å–∏–∏ (0.2%) + –±—É—Ñ–µ—Ä (0.6-0.8%)
- –ù–µ –∑–∞–∫—Ä—ã–≤–∞—Ç—å –ø–æ–∑–∏—Ü–∏–∏ —Å –º–∏–∫—Ä–æ-–ø—Ä–∏–±—ã–ª—å—é
- –î–∞—Ç—å –ø–æ–∑–∏—Ü–∏—è–º –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è —Ä–æ—Å—Ç–∞

---

### 5. **–û—Ç–∫–ª—é—á–∏—Ç—å –∏–ª–∏ —É–º–µ–Ω—å—à–∏—Ç—å `extend_time_on_profit` –¥–ª—è ranging**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü—Ä–æ–¥–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —É–¥–µ—Ä–∂–∞–Ω–∏—è –¥–ª—è –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–æ–Ω—Ç—Ä–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ã–º
- –ï—Å–ª–∏ —Å—Ç–æ–ø –¥–æ—Å—Ç–∏–≥–Ω—É—Ç, –ø–æ–∑–∏—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –∑–∞–∫—Ä—ã—Ç—å—Å—è, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤—Ä–µ–º–µ–Ω–∏
- –¢–µ–∫—É—â–∏–π effective_min_holding = 3.0 –º–∏–Ω—É—Ç—ã —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ

**–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ:**
- –û—Ç–∫–ª—é—á–∏—Ç—å `extend_time_on_profit` –¥–ª—è ranging —Ä–µ–∂–∏–º–∞ (false)
- –ò–ª–∏ —É–º–µ–Ω—å—à–∏—Ç—å `extend_time_multiplier` –¥–æ 1.0-1.2
- –≠—Ç–æ –¥–∞—Å—Ç effective_min_holding = 2.0 –º–∏–Ω—É—Ç—ã (–±–µ–∑ –ø—Ä–æ–¥–ª–µ–Ω–∏—è) –∏–ª–∏ 2.4 –º–∏–Ω—É—Ç—ã (—Å multiplier 1.2)

---

### 6. **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏** (–ù–ò–ó–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢)

**–ò–¥–µ—è:**
- –ï—Å–ª–∏ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –≤—ã—Å–æ–∫–∞—è (30%+), —É–≤–µ–ª–∏—á–∏—Ç—å `initial_trail`
- –ï—Å–ª–∏ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∏–∑–∫–∞—è (20%-), —É–º–µ–Ω—å—à–∏—Ç—å `initial_trail`

**–§–æ—Ä–º—É–ª–∞:**
```python
volatility_multiplier = max(1.0, volatility / 25.0)  # 25% - –±–∞–∑–æ–≤–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
adjusted_initial_trail = initial_trail * volatility_multiplier
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–∑–∂–µ

---

## üìà –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è —Ä–µ—à–µ–Ω–∏–π:
- ‚úÖ –ü–æ–∑–∏—Ü–∏–∏ –±—É–¥—É—Ç –¥–µ—Ä–∂–∞—Ç—å—Å—è –¥–æ–ª—å—à–µ
- ‚úÖ –ü—Ä–∏–±—ã–ª—å —Å –ø–æ–∑–∏—Ü–∏–π —É–≤–µ–ª–∏—á–∏—Ç—Å—è (–º–µ–Ω—å—à–µ –º–∏–∫—Ä–æ-–ø—Ä–∏–±—ã–ª–∏)
- ‚úÖ Win rate –º–æ–∂–µ—Ç –Ω–µ–º–Ω–æ–≥–æ —Å–Ω–∏–∑–∏—Ç—å—Å—è, –Ω–æ —Å—Ä–µ–¥–Ω—è—è –ø—Ä–∏–±—ã–ª—å —É–≤–µ–ª–∏—á–∏—Ç—Å—è
- ‚úÖ –û–±—â–∞—è –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å —É–ª—É—á—à–∏—Ç—Å—è

---

## üéØ –ü–†–ò–û–†–ò–¢–ï–¢–´ –ò –ö–û–ù–ö–†–ï–¢–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### –í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢:

1. **–£–≤–µ–ª–∏—á–∏—Ç—å `initial_trail` –¥–ª—è ranging:**
   - –¢–µ–∫—É—â–µ–µ: `0.008` (0.8%)
   - –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ: `0.015` (1.5%) –∏–ª–∏ `0.020` (2.0%)

2. **–£–≤–µ–ª–∏—á–∏—Ç—å `max_trail` –¥–ª—è ranging:**
   - –¢–µ–∫—É—â–µ–µ: `0.02` (2.0%)
   - –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ: `0.03` (3.0%) –∏–ª–∏ `0.04` (4.0%)

3. **–£–≤–µ–ª–∏—á–∏—Ç—å `min_profit_to_close` –¥–ª—è ranging:**
   - –¢–µ–∫—É—â–µ–µ: `0.0055` (0.55%)
   - –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ: `0.008` (0.8%) –∏–ª–∏ `0.010` (1.0%)

### –°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢:

4. **–£–º–µ–Ω—å—à–∏—Ç—å `trail_growth.medium_profit_multiplier` –¥–ª—è ranging:**
   - –¢–µ–∫—É—â–µ–µ: `2.0`
   - –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ: `1.0` –∏–ª–∏ `1.5`

5. **–û—Ç–∫–ª—é—á–∏—Ç—å –∏–ª–∏ —É–º–µ–Ω—å—à–∏—Ç—å `extend_time_on_profit` –¥–ª—è ranging:**
   - –¢–µ–∫—É—â–µ–µ: `true` —Å `extend_time_multiplier = 1.5` (effective = 3.0 –º–∏–Ω)
   - –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ: `false` (effective = 2.0 –º–∏–Ω) –∏–ª–∏ `extend_time_multiplier = 1.0` (effective = 2.0 –º–∏–Ω)

### –ù–ò–ó–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢:

6. **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ç—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏** (–º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–∑–∂–µ)

---

## üìù –ó–ê–ú–ï–¢–ö–ò

- –¢—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –Ω–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ
- –ü—Ä–æ–±–ª–µ–º–∞ –Ω–µ –≤ –ª–æ–≥–∏–∫–µ, –∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- –ù—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∑–∞—â–∏—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏ –∏ —É–¥–µ—Ä–∂–∞–Ω–∏–µ–º –ø–æ–∑–∏—Ü–∏–π

---

## üéØ –ò–¢–û–ì–û–í–´–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø (—Å–¥–µ–ª–∞—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ):

**–î–ª—è ranging —Ä–µ–∂–∏–º–∞ –≤ `config/config_futures.yaml`:**

```yaml
ranging:
  initial_trail: 0.015  # –ë—ã–ª–æ 0.008, —Å—Ç–∞–ª–æ 1.5% (—É–≤–µ–ª–∏—á–µ–Ω–æ –ø–æ—á—Ç–∏ –≤ 2 —Ä–∞–∑–∞)
  max_trail: 0.03  # –ë—ã–ª–æ 0.02, —Å—Ç–∞–ª–æ 3.0% (—É–≤–µ–ª–∏—á–µ–Ω–æ –≤ 1.5 —Ä–∞–∑–∞)
  min_profit_to_close: 0.008  # –ë—ã–ª–æ 0.0055, —Å—Ç–∞–ª–æ 0.8% (—É–≤–µ–ª–∏—á–µ–Ω–æ)
  extend_time_on_profit: false  # –ë—ã–ª–æ true, –æ—Ç–∫–ª—é—á–µ–Ω–æ (—É–±—Ä–∞—Ç—å –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏)
  # –ò–õ–ò –µ—Å–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å true:
  # extend_time_multiplier: 1.0  # –ë—ã–ª–æ 1.5 (–±–∞–∑–æ–≤—ã–π), —É–º–µ–Ω—å—à–∏—Ç—å –¥–æ 1.0
  trail_growth:
    medium_profit_multiplier: 1.5  # –ë—ã–ª–æ 2.0, —É–º–µ–Ω—å—à–∏—Ç—å –¥–æ 1.5
```

### –û–ñ–ò–î–ê–ï–ú–´–ô –≠–§–§–ï–ö–¢:

1. **–ë–æ–ª—å—à–µ –º–µ—Å—Ç–∞ –¥–ª—è –æ—Ç–∫–∞—Ç–æ–≤:**
   - initial_trail 1.5% –≤–º–µ—Å—Ç–æ 0.8% = –ø–æ—á—Ç–∏ –≤ 2 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞
   - max_trail 3.0% –≤–º–µ—Å—Ç–æ 2.0% = –Ω–∞ 50% –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞

2. **–ú–µ–Ω—å—à–µ –º–∏–∫—Ä–æ-–ø—Ä–∏–±—ã–ª–∏:**
   - min_profit_to_close 0.8% –≤–º–µ—Å—Ç–æ 0.55% = –Ω–µ –∑–∞–∫—Ä—ã–≤–∞—Ç—å —Å –º–∏–∫—Ä–æ-–ø—Ä–∏–±—ã–ª—å—é
   - –ü–æ–∑–∏—Ü–∏–∏ –±—É–¥—É—Ç –¥–µ—Ä–∂–∞—Ç—å—Å—è –¥–æ–ª—å—à–µ

3. **–ë—ã—Å—Ç—Ä–µ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Å—Ç–æ–ø–∞:**
   - extend_time_on_profit = false = –Ω–µ –ø—Ä–æ–¥–ª–µ–≤–∞—Ç—å –≤—Ä–µ–º—è
   - effective_min_holding = 2.0 –º–∏–Ω—É—Ç—ã –≤–º–µ—Å—Ç–æ 3.0 –º–∏–Ω—É—Ç

4. **–ë–æ–ª–µ–µ –ø–ª–∞–≤–Ω—ã–π —Ç—Ä–µ–π–ª–∏–Ω–≥:**
   - medium_profit_multiplier 1.5 –≤–º–µ—Å—Ç–æ 2.0 = –±–æ–ª–µ–µ –ø–ª–∞–≤–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ
   - –°—Ç–æ–ø –Ω–µ –±—É–¥–µ—Ç "–ø—Ä–∏–ª–∏–ø–∞—Ç—å" –∫ –º–∞–∫—Å–∏–º—É–º—É

### –†–ò–°–ö–ò:

- Win rate –º–æ–∂–µ—Ç –Ω–µ–º–Ω–æ–≥–æ —Å–Ω–∏–∑–∏—Ç—å—Å—è (–º–µ–Ω—å—à–µ —Å–¥–µ–ª–æ–∫ —Å –º–∏–∫—Ä–æ-–ø—Ä–∏–±—ã–ª—å—é)
- –ù–æ —Å—Ä–µ–¥–Ω—è—è –ø—Ä–∏–±—ã–ª—å —Å –ø–æ–∑–∏—Ü–∏–π —É–≤–µ–ª–∏—á–∏—Ç—Å—è
- –û–±—â–∞—è –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ —É–ª—É—á—à–∏—Ç—å—Å—è

---

## üìä –ú–ï–¢–†–ò–ö–ò –î–õ–Ø –û–¶–ï–ù–ö–ò –≠–§–§–ï–ö–¢–ò–í–ù–û–°–¢–ò

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å:
1. **–°—Ä–µ–¥–Ω—è—è –ø—Ä–∏–±—ã–ª—å —Å –ø–æ–∑–∏—Ü–∏–∏** (–¥–æ–ª–∂–Ω–∞ —É–≤–µ–ª–∏—á–∏—Ç—å—Å—è)
2. **Win rate** (–º–æ–∂–µ—Ç –Ω–µ–º–Ω–æ–≥–æ —Å–Ω–∏–∑–∏—Ç—å—Å—è, –Ω–æ —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)
3. **–û–±—â–∞—è –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å** (–¥–æ–ª–∂–Ω–∞ —É–ª—É—á—à–∏—Ç—å—Å—è)
4. **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫ —Å –º–∏–∫—Ä–æ-–ø—Ä–∏–±—ã–ª—å—é < 0.5%** (–¥–æ–ª–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å—Å—è)
5. **–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è —É–¥–µ—Ä–∂–∞–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏** (–¥–æ–ª–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å—Å—è)

