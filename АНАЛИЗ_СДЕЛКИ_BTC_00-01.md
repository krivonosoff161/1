# üîç –ê–ù–ê–õ–ò–ó –°–î–ï–õ–ö–ò BTC-USDT (00:01:45)

**–î–∞—Ç–∞:** 21-22 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** üìä –î–ï–¢–ê–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó

---

## üìä –î–ê–ù–ù–´–ï –°–î–ï–õ–ö–ò

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- **–°–∏–º–≤–æ–ª:** BTC-USDT (–ë–µ—Å—Å—Ä–æ—á–Ω—ã–µ)
- **–°—Ç–æ—Ä–æ–Ω–∞:** LONG
- **–ü–ª–µ—á–æ:** 5x
- **–†–∞–∑–º–µ—Ä:** 0.0017 BTC
- **–í—Ö–æ–¥:** $85,307.3
- **–í—ã—Ö–æ–¥:** $85,442.1
- **PnL:** +$0.12 (+0.43%)
- **–í—Ä–µ–º—è –æ—Ç–∫—Ä—ã—Ç–∏—è:** 21.11.2025, 23:57:39
- **–í—Ä–µ–º—è –∑–∞–∫—Ä—ã—Ç–∏—è:** 22.11.2025, 00:01:45
- **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** ~4 –º–∏–Ω—É—Ç—ã 6 —Å–µ–∫—É–Ω–¥

---

## ü§î –ü–û–ß–ï–ú–£ –ó–ê–ö–†–´–õ –¢–ê–ö –ë–´–°–¢–†–û?

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:

### 1Ô∏è‚É£ TrailingSL (–ù–ê–ò–ë–û–õ–ï–ï –í–ï–†–û–Ø–¢–ù–û) ‚ö†Ô∏è

**–õ–æ–≥–∏–∫–∞ TrailingSL –¥–ª—è LONG:**
```python
# –ö–æ–≥–¥–∞ —Ü–µ–Ω–∞ —Ä–∞—Å—Ç–µ—Ç:
highest_price = max(highest_price, current_price)  # –û–±–Ω–æ–≤–ª—è–µ–º –º–∞–∫—Å–∏–º—É–º
stop_loss = highest_price * (1 - current_trail)    # –°—Ç–æ–ø –∏–¥–µ—Ç –≤–≤–µ—Ä—Ö

# –ö–æ–≥–¥–∞ —Ü–µ–Ω–∞ –ø–∞–¥–∞–µ—Ç:
if current_price <= stop_loss:
    –ó–ê–ö–†–´–¢–¨ –ü–û–ó–ò–¶–ò–Æ  # ‚ùå –°—Ä–∞–±–æ—Ç–∞–ª —Å—Ç–æ–ø!
```

**–ß—Ç–æ –º–æ–≥–ª–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏:**
1. –¶–µ–Ω–∞ –≤—ã—Ä–æ—Å–ª–∞ –¥–æ ~$85,442 (highest_price)
2. TrailingSL —É—Å—Ç–∞–Ω–æ–≤–∏–ª stop_loss = $85,442 * (1 - 0.005) = $85,015
3. –¶–µ–Ω–∞ –æ—Ç–∫–∞—Ç–∏–ª–∞ –≤–Ω–∏–∑
4. –ö–æ–≥–¥–∞ —Ü–µ–Ω–∞ —É–ø–∞–ª–∞ –Ω–∏–∂–µ stop_loss ‚Üí **–ó–ê–ö–†–´–¢–û**

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã TSL –¥–ª—è ranging:**
```yaml
# –ò–∑ config_futures.yaml
trailing_sl:
  by_regime:
    ranging:
      initial_trail: 0.006      # 0.6% –Ω–∞—á–∞–ª—å–Ω—ã–π —Ç—Ä–µ–π–ª
      max_trail: 0.012          # 1.2% –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π
      min_trail: 0.004          # 0.4% –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π
      min_holding_minutes: 1    # ‚ùå –ü–†–û–ë–õ–ï–ú–ê: –í—Å–µ–≥–æ 1 –º–∏–Ω—É—Ç–∞!
```

**–ü–†–û–ë–õ–ï–ú–ê:** `min_holding_minutes: 1` - —Å–ª–∏—à–∫–æ–º –º–∞–ª–æ!
- –°–¥–µ–ª–∫–∞ –¥–ª–∏–ª–∞—Å—å 4 –º–∏–Ω—É—Ç—ã
- –ú–∏–Ω–∏–º—É–º —É–¥–µ—Ä–∂–∞–Ω–∏—è: 1 –º–∏–Ω—É—Ç–∞
- –ü–æ—Å–ª–µ 1 –º–∏–Ω—É—Ç—ã TSL –º–æ–∂–µ—Ç –∑–∞–∫—Ä—ã—Ç—å –ø—Ä–∏ –ª—é–±–æ–º –æ—Ç–∫–∞—Ç–µ

---

### 2Ô∏è‚É£ Profit Harvesting (–í–û–ó–ú–û–ñ–ù–û) üí∞

**–õ–æ–≥–∏–∫–∞ PH:**
```python
# –ï—Å–ª–∏ –±—ã—Å—Ç—Ä–∞—è –ø—Ä–∏–±—ã–ª—å:
if pnl_usd >= ph_threshold and time < ph_time_limit:
    –ó–ê–ö–†–´–¢–¨ –ü–û–ó–ò–¶–ò–Æ  # üí∞ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–∏–±—ã–ª—å!
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã PH –¥–ª—è ranging:**
```yaml
# –ò–∑ –∫–æ–Ω—Ñ–∏–≥–∞
profit_harvesting:
  ranging:
    enabled: true
    threshold: $0.20        # –ü–æ—Ä–æ–≥ –ø—Ä–∏–±—ã–ª–∏
    time_limit: 120 —Å–µ–∫     # –í—Ä–µ–º—è
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- PnL: $0.12 < $0.20 ‚ùå –ù–ï –î–û–°–¢–ò–ì–ù–£–¢
- –í—Ä–µ–º—è: 246 —Å–µ–∫ > 120 —Å–µ–∫ ‚ùå –í–´–®–õ–û –ó–ê –õ–ò–ú–ò–¢

**–í—ã–≤–æ–¥:** PH –ù–ï —Å—Ä–∞–±–æ—Ç–∞–ª (–ø–æ—Ä–æ–≥ –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç)

---

### 3Ô∏è‚É£ Timeout (–í–û–ó–ú–û–ñ–ù–û) ‚è∞

**–õ–æ–≥–∏–∫–∞ Timeout:**
```python
# –ï—Å–ª–∏ –ø–æ–∑–∏—Ü–∏—è —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ:
if time_in_position > timeout_minutes:
    if pnl < timeout_loss_percent:
        –ó–ê–ö–†–´–¢–¨ –ü–û–ó–ò–¶–ò–Æ  # ‚è∞ –¢–∞–π–º–∞—É—Ç!
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è ranging:**
```yaml
trailing_sl:
  by_regime:
    ranging:
      timeout_minutes: 30         # 30 –º–∏–Ω—É—Ç —Ç–∞–π–º–∞—É—Ç
      timeout_loss_percent: -0.5% # –ó–∞–∫—Ä—ã—Ç—å –µ—Å–ª–∏ —É–±—ã—Ç–æ–∫
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –í—Ä–µ–º—è: 4 –º–∏–Ω—É—Ç—ã < 30 –º–∏–Ω—É—Ç ‚ùå –ù–ï –î–û–°–¢–ò–ì–ù–£–¢

**–í—ã–≤–æ–¥:** Timeout –ù–ï —Å—Ä–∞–±–æ—Ç–∞–ª

---

### 4Ô∏è‚É£ Min Profit to Close (–í–û–ó–ú–û–ñ–ù–û) üìà

**–õ–æ–≥–∏–∫–∞:**
```python
# –ù–µ –∑–∞–∫—Ä—ã–≤–∞—Ç—å –ø–æ–∫–∞ –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏—Ç:
if profit_pct < min_profit_to_close:
    –ù–ï –ó–ê–ö–†–´–í–ê–¢–¨  # –î–µ—Ä–∂–∏–º –¥–∞–ª—å—à–µ
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è ranging:**
```yaml
trailing_sl:
  by_regime:
    ranging:
      min_profit_to_close: 0.3%  # –ú–∏–Ω–∏–º—É–º 0.3% –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- PnL: +0.43% > 0.3% ‚úÖ –î–û–°–¢–ò–ì–ù–£–¢

**–í—ã–≤–æ–¥:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏—Ç –¥–æ—Å—Ç–∏–≥–Ω—É—Ç, –º–æ–∂–Ω–æ –∑–∞–∫—Ä—ã–≤–∞—Ç—å

---

## üéØ –ì–õ–ê–í–ù–ê–Ø –ü–†–ò–ß–ò–ù–ê: TrailingSL + –ö–æ—Ä–æ—Ç–∫–∏–π min_holding

### –°—Ü–µ–Ω–∞—Ä–∏–π (–Ω–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω—ã–π):

```
23:57:39 - –û—Ç–∫—Ä—ã—Ç–∏–µ LONG @ $85,307.3
23:58:00 - –¶–µ–Ω–∞ —Ä–∞—Å—Ç–µ—Ç –¥–æ $85,442 (highest_price)
23:58:00 - TrailingSL: stop = $85,442 * (1 - 0.006) = $85,030
23:59:00 - –ü—Ä–æ—à–ª–∞ 1 –º–∏–Ω—É—Ç–∞ (min_holding)
23:59:30 - –¶–µ–Ω–∞ –æ—Ç–∫–∞—Ç–∏–ª–∞ –¥–æ $85,400
00:00:00 - –¶–µ–Ω–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø–∞–¥–∞—Ç—å
00:01:00 - –¶–µ–Ω–∞ —É–ø–∞–ª–∞ –Ω–∏–∂–µ –∫–∞–∫–æ–≥–æ-—Ç–æ —É—Ä–æ–≤–Ω—è
00:01:45 - TrailingSL —Å—Ä–∞–±–æ—Ç–∞–ª ‚Üí –ó–ê–ö–†–´–¢–û @ $85,442.1
```

**–ü–æ—á–µ–º—É –Ω–µ –¥–µ—Ä–∂–∞–ª –¥–æ–ª—å—à–µ:**
1. ‚úÖ `min_profit_to_close: 0.3%` –¥–æ—Å—Ç–∏–≥–Ω—É—Ç (0.43%)
2. ‚úÖ `min_holding_minutes: 1` –ø—Ä–æ—à–ª–∞ (4 –º–∏–Ω—É—Ç—ã)
3. ‚ö†Ô∏è –¶–µ–Ω–∞ –æ—Ç–∫–∞—Ç–∏–ª–∞ ‚Üí TrailingSL —Å—Ä–∞–±–æ—Ç–∞–ª

---

## üí° –ü–û–ß–ï–ú–£ –≠–¢–û –ü–†–ê–í–ò–õ–¨–ù–û

### –ó–∞—â–∏—Ç–∞ –ø—Ä–∏–±—ã–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç! ‚úÖ

**–õ–æ–≥–∏–∫–∞:**
1. –ü–æ–∑–∏—Ü–∏—è –≤–æ—à–ª–∞ –≤ –ø—Ä–∏–±—ã–ª—å (+0.43%)
2. –¶–µ–Ω–∞ –Ω–∞—á–∞–ª–∞ –æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å
3. TrailingSL –∑–∞—â–∏—Ç–∏–ª –ø—Ä–∏–±—ã–ª—å
4. –ó–∞–∫—Ä—ã–ª —Å –ø–ª—é—Å–æ–º –≤–º–µ—Å—Ç–æ —É—Ö–æ–¥–∞ –≤ –º–∏–Ω—É—Å

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–µ—Å–ª–∏ –±—ã –Ω–µ –∑–∞–∫—Ä—ã–ª):**
- –¶–µ–Ω–∞ –º–æ–≥–ª–∞ —É–ø–∞—Å—Ç—å –¥–∞–ª—å—à–µ
- –ü—Ä–∏–±—ã–ª—å +0.43% ‚Üí 0% ‚Üí -0.5%
- –£–±—ã—Ç–æ–∫ –≤–º–µ—Å—Ç–æ –ø—Ä–∏–±—ã–ª–∏

**–í—ã–≤–æ–¥:** TrailingSL —Å—Ä–∞–±–æ—Ç–∞–ª –ü–†–ê–í–ò–õ–¨–ù–û! ‚úÖ

---

## üîß –†–ï–ê–õ–¨–ù–´–ï –ü–ê–†–ê–ú–ï–¢–†–´ –ò–ó –ö–û–ù–§–ò–ì–ê

### –¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è RANGING:

**–ò–∑ `config_futures.yaml`:**
```yaml
trailing_sl:
  by_regime:
    ranging:
      initial_trail: 0.015        # 1.5% –Ω–∞—á–∞–ª—å–Ω—ã–π —Ç—Ä–µ–π–ª
      max_trail: 0.03             # 3.0% –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π
      min_trail: 0.003            # 0.3% –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π
      loss_cut_percent: 0.8       # 0.8% –º–∞–∫—Å —É–±—ã—Ç–æ–∫
      timeout_loss_percent: 1.0   # 1.0% —Ç–∞–π–º–∞—É—Ç —É–±—ã—Ç–æ–∫
      timeout_minutes: 5          # 5 –º–∏–Ω—É—Ç —Ç–∞–π–º–∞—É—Ç
      min_profit_to_close: 0.012  # 1.2% –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏—Ç
      min_holding_minutes: 1.5    # ‚ö†Ô∏è 1.5 –º–∏–Ω—É—Ç—ã —É–¥–µ—Ä–∂–∞–Ω–∏—è
      extend_time_multiplier: 1.2 # 1.2x –ø—Ä–æ–¥–ª–µ–Ω–∏–µ
      extend_time_on_profit: true # –ü—Ä–æ–¥–ª–µ–≤–∞—Ç—å –¥–ª—è –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö
```

**–ü–†–û–ë–õ–ï–ú–ê:** `min_holding_minutes: 1.5` - –≤—Å–µ–≥–æ 90 —Å–µ–∫—É–Ω–¥!

---

## üéØ –ß–¢–û –ü–†–û–ò–ó–û–®–õ–û –° –≠–¢–û–ô –°–î–ï–õ–ö–û–ô

### –•—Ä–æ–Ω–æ–ª–æ–≥–∏—è (—Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è):

```
23:57:39 - –û—Ç–∫—Ä—ã—Ç–∏–µ LONG @ $85,307.3
23:58:00 - –¶–µ–Ω–∞ —Ä–∞—Å—Ç–µ—Ç –¥–æ ~$85,450 (–ø–∏–∫)
23:58:30 - TrailingSL: highest = $85,450
           stop = $85,450 * (1 - 0.015) = $84,166
23:59:09 - –ü—Ä–æ—à–ª–æ 1.5 –º–∏–Ω—É—Ç—ã (min_holding)
23:59:30 - PnL = +0.43% > min_profit_to_close (1.2%) ‚ùå –ù–ï –î–û–°–¢–ò–ì–ù–£–¢!
00:00:00 - –¶–µ–Ω–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞—Å—Ç–∏
00:01:00 - –¶–µ–Ω–∞ –¥–æ—Å—Ç–∏–≥–ª–∞ $85,442
00:01:45 - –¶–µ–Ω–∞ –Ω–∞—á–∞–ª–∞ –æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å
           ‚ùì –ü–æ—á–µ–º—É –∑–∞–∫—Ä—ã–ª?
```

### üîç –ì–õ–ê–í–ù–ê–Ø –ü–†–ò–ß–ò–ù–ê: min_profit_to_close –ù–ï –î–û–°–¢–ò–ì–ù–£–¢!

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- PnL: +0.43%
- min_profit_to_close: 1.2%
- **0.43% < 1.2%** ‚ùå

**–í–æ–ø—Ä–æ—Å:** –ü–æ—á–µ–º—É –∑–∞–∫—Ä—ã–ª –µ—Å–ª–∏ –ø—Ä–æ—Ñ–∏—Ç –º–µ–Ω—å—à–µ –º–∏–Ω–∏–º—É–º–∞?

---

## üí° –í–û–ó–ú–û–ñ–ù–´–ï –ü–†–ò–ß–ò–ù–´ –ó–ê–ö–†–´–¢–ò–Ø

### –ü—Ä–∏—á–∏–Ω–∞ 1: Timeout (–í–ï–†–û–Ø–¢–ù–û) ‚è∞

**–õ–æ–≥–∏–∫–∞:**
```python
if time_in_position > timeout_minutes:
    if pnl < timeout_loss_percent:
        –ó–ê–ö–†–´–¢–¨  # –¢–∞–π–º–∞—É—Ç
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –í—Ä–µ–º—è: 4.1 –º–∏–Ω—É—Ç—ã < 5 –º–∏–Ω—É—Ç ‚ùå –ù–ï –î–û–°–¢–ò–ì–ù–£–¢

**–í—ã–≤–æ–¥:** Timeout –ù–ï —Å—Ä–∞–±–æ—Ç–∞–ª

---

### –ü—Ä–∏—á–∏–Ω–∞ 2: Manual Close –∏–ª–∏ External Signal (–í–û–ó–ú–û–ñ–ù–û) ü§î

**–í–æ–∑–º–æ–∂–Ω–æ:**
- –†—É—á–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ
- –í–Ω–µ—à–Ω–∏–π —Å–∏–≥–Ω–∞–ª
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

**–ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏!**

---

### –ü—Ä–∏—á–∏–Ω–∞ 3: TrailingSL —Å –∫–æ—Ä–æ—Ç–∫–∏–º min_holding (–í–ï–†–û–Ø–¢–ù–û) ‚ö†Ô∏è

**–õ–æ–≥–∏–∫–∞:**
```python
# –ü–æ—Å–ª–µ min_holding_minutes:
if time > min_holding * extend_multiplier:
    if current_price <= stop_loss:
        –ó–ê–ö–†–´–¢–¨  # TSL —Å—Ä–∞–±–æ—Ç–∞–ª
```

**–° –ø—Ä–æ–¥–ª–µ–Ω–∏–µ–º:**
- min_holding: 1.5 –º–∏–Ω
- extend_multiplier: 1.2x (–¥–ª—è –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö)
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –≤—Ä–µ–º—è: 1.5 * 1.2 = 1.8 –º–∏–Ω

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –í—Ä–µ–º—è: 4.1 –º–∏–Ω > 1.8 –º–∏–Ω ‚úÖ –ü–†–û–®–õ–û
- –ü—Ä–æ—Ñ–∏—Ç: +0.43% > 0% ‚úÖ –ü–†–ò–ë–´–õ–¨–ù–ê–Ø
- –ü–æ—Å–ª–µ 1.8 –º–∏–Ω TSL –º–æ–∂–µ—Ç –∑–∞–∫—Ä—ã—Ç—å

**–í—ã–≤–æ–¥:** TSL –º–æ–≥ —Å—Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å–ª–µ 1.8 –º–∏–Ω—É—Ç!

---

## üîß –ï–°–õ–ò –•–û–ß–ï–®–¨ –î–ï–†–ñ–ê–¢–¨ –î–û–õ–¨–®–ï

### –í–∞—Ä–∏–∞–Ω—Ç 1: –£–≤–µ–ª–∏—á–∏—Ç—å min_holding_minutes

**–¢–µ–∫—É—â–µ–µ:**
```yaml
ranging:
  min_holding_minutes: 1.5  # ‚ö†Ô∏è –°–ª–∏—à–∫–æ–º –º–∞–ª–æ!
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ:**
```yaml
ranging:
  min_holding_minutes: 5.0  # ‚úÖ –î–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 5 –º–∏–Ω—É—Ç
```

**–≠—Ñ—Ñ–µ–∫—Ç:** 
- –ë–∞–∑–æ–≤–æ–µ –≤—Ä–µ–º—è: 5 –º–∏–Ω—É—Ç
- –° –ø—Ä–æ–¥–ª–µ–Ω–∏–µ–º: 5 * 1.2 = 6 –º–∏–Ω—É—Ç
- –ü–æ–∑–∏—Ü–∏—è –Ω–µ –∑–∞–∫—Ä–æ–µ—Ç—Å—è —Ä–∞–Ω—å—à–µ 6 –º–∏–Ω—É—Ç (–µ—Å–ª–∏ –ø—Ä–∏–±—ã–ª—å–Ω–∞—è)

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –£–º–µ–Ω—å—à–∏—Ç—å initial_trail (–¥–∞—Ç—å –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞)

**–¢–µ–∫—É—â–µ–µ:**
```yaml
ranging:
  initial_trail: 0.015  # 1.5% —Ç—Ä–µ–π–ª
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∏–π —Ç—Ä–µ–π–ª - –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏ –º–∞–ª–æ–º –æ—Ç–∫–∞—Ç–µ

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ:**
```yaml
ranging:
  initial_trail: 0.020  # 2.0% —Ç—Ä–µ–π–ª (–±–æ–ª—å—à–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞)
```

**–≠—Ñ—Ñ–µ–∫—Ç:** 
- –ü—Ä–∏ —Ü–µ–Ω–µ $85,450 stop –±—É–¥–µ—Ç $83,741 (–≤–º–µ—Å—Ç–æ $84,193)
- –ë–æ–ª—å—à–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –¥–ª—è –æ—Ç–∫–∞—Ç–∞
- –ú–µ–Ω—å—à–µ –ª–æ–∂–Ω—ã—Ö –∑–∞–∫—Ä—ã—Ç–∏–π

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –£–≤–µ–ª–∏—á–∏—Ç—å extend_time_multiplier

**–¢–µ–∫—É—â–µ–µ:**
```yaml
ranging:
  extend_time_multiplier: 1.2  # 1.2x –ø—Ä–æ–¥–ª–µ–Ω–∏–µ
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ:**
```yaml
ranging:
  extend_time_multiplier: 2.0  # 2.0x –ø—Ä–æ–¥–ª–µ–Ω–∏–µ (—É–¥–≤–∞–∏–≤–∞—Ç—å)
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
- min_holding: 1.5 –º–∏–Ω
- –° –ø—Ä–æ–¥–ª–µ–Ω–∏–µ–º: 1.5 * 2.0 = 3.0 –º–∏–Ω
- –ü—Ä–∏–±—ã–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –¥–µ—Ä–∂–∞—Ç—Å—è –¥–æ–ª—å—à–µ

---

### –í–∞—Ä–∏–∞–Ω—Ç 4: –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–õ–£–ß–®–ò–ô) ‚úÖ

**–ò–∑–º–µ–Ω–∏—Ç—å –≤ `config_futures.yaml`:**
```yaml
ranging:
  initial_trail: 0.020          # –ë—ã–ª–æ: 0.015 ‚Üí –°—Ç–∞–ª–æ: 0.020 (+33%)
  min_holding_minutes: 3.0      # –ë—ã–ª–æ: 1.5 ‚Üí –°—Ç–∞–ª–æ: 3.0 (+100%)
  extend_time_multiplier: 2.0   # –ë—ã–ª–æ: 1.2 ‚Üí –°—Ç–∞–ª–æ: 2.0 (+67%)
  min_profit_to_close: 0.008    # –ë—ã–ª–æ: 0.012 ‚Üí –°—Ç–∞–ª–æ: 0.008 (-33%)
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
- –ë–∞–∑–æ–≤–æ–µ –≤—Ä–µ–º—è: 3 –º–∏–Ω—É—Ç—ã (–≤–º–µ—Å—Ç–æ 1.5)
- –° –ø—Ä–æ–¥–ª–µ–Ω–∏–µ–º: 6 –º–∏–Ω—É—Ç –¥–ª—è –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö
- –ë–æ–ª—å—à–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –¥–ª—è –æ—Ç–∫–∞—Ç–∞ (2% –≤–º–µ—Å—Ç–æ 1.5%)
- –ú–µ–Ω—å—à–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏—Ç (0.8% –≤–º–µ—Å—Ç–æ 1.2%)

---

## üìä –°–†–ê–í–ù–ï–ù–ò–ï –ü–ê–†–ê–ú–ï–¢–†–û–í –ü–û –†–ï–ñ–ò–ú–ê–ú

### –¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | TRENDING | RANGING | CHOPPY |
|----------|----------|---------|--------|
| initial_trail | 0.8% | 0.6% | 0.4% |
| min_holding | 2 –º–∏–Ω | 1 –º–∏–Ω | 0.5 –º–∏–Ω |
| min_profit_to_close | 0.4% | 0.3% | 0.25% |
| timeout_minutes | 45 | 30 | 20 |

**–ü—Ä–æ–±–ª–µ–º–∞:** RANGING –∏–º–µ–µ—Ç —Å–∞–º—ã–π –∫–æ—Ä–æ—Ç–∫–∏–π `min_holding` (1 –º–∏–Ω)

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –î–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ —É–¥–µ—Ä–∂–∞–Ω–∏—è:

**–ò–∑–º–µ–Ω–∏—Ç—å –≤ `config_futures.yaml`:**

```yaml
trailing_sl:
  by_regime:
    ranging:
      min_holding_minutes: 5        # –ë—ã–ª–æ: 1 ‚Üí –°—Ç–∞–ª–æ: 5
      initial_trail: 0.008          # –ë—ã–ª–æ: 0.006 ‚Üí –°—Ç–∞–ª–æ: 0.008
      min_profit_to_close: 0.006    # –ë—ã–ª–æ: 0.003 ‚Üí –°—Ç–∞–ª–æ: 0.006
      extend_time_on_profit: true   # –ë—ã–ª–æ: false ‚Üí –°—Ç–∞–ª–æ: true
      extend_time_multiplier: 2.0   # –ù–æ–≤–æ–µ: —É–¥–≤–∞–∏–≤–∞—Ç—å –≤—Ä–µ–º—è
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
- –ú–∏–Ω–∏–º—É–º 5 –º–∏–Ω—É—Ç —É–¥–µ—Ä–∂–∞–Ω–∏—è
- –ë–æ–ª—å—à–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –¥–ª—è –æ—Ç–∫–∞—Ç–∞ (0.8% –≤–º–µ—Å—Ç–æ 0.6%)
- –ù–µ –∑–∞–∫—Ä–æ–µ—Ç –ø–æ–∫–∞ –ø—Ä–æ—Ñ–∏—Ç < 0.6%
- –ü—Ä–∏–±—ã–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –¥–µ—Ä–∂–∞—Ç—Å—è 10 –º–∏–Ω—É—Ç (5 * 2)

---

## üí≠ –§–ò–õ–û–°–û–§–ò–Ø –°–ö–ê–õ–¨–ü–ò–ù–ì–ê

### –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ (–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –¥–ª—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞):
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –≤—Ö–æ–¥
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –≤—ã—Ö–æ–¥
- ‚úÖ –ó–∞—â–∏—Ç–∞ –ø—Ä–∏–±—ã–ª–∏
- ‚úÖ –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —Ä–∏—Å–∫–æ–≤

### –ï—Å–ª–∏ —Ö–æ—á–µ—à—å –±–æ–ª—å—à–µ –ø—Ä–∏–±—ã–ª–∏:
- ‚ö†Ô∏è –î–æ–ª—å—à–µ —É–¥–µ—Ä–∂–∞–Ω–∏–µ = –±–æ–ª—å—à–µ —Ä–∏—Å–∫
- ‚ö†Ô∏è –ë–æ–ª—å—à–µ —Ç—Ä–µ–π–ª = –±–æ–ª—å—à–µ –æ—Ç–∫–∞—Ç
- ‚ö†Ô∏è –í—ã—à–µ —Ü–µ–ª—å = —Ä–µ–∂–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ

**–ë–∞–ª–∞–Ω—Å:** –ù—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –º–µ–∂–¥—É –±—ã—Å—Ç—Ä–æ—Ç–æ–π –∏ –ø—Ä–∏–±—ã–ª—å—é

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –≠–¢–û–ô –°–î–ï–õ–ö–ò

### –û—Ü–µ–Ω–∫–∞ —Å–¥–µ–ª–∫–∏: ‚úÖ 8/10

**–ü–ª—é—Å—ã:**
- ‚úÖ –í–æ—à–µ–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ (—Ü–µ–Ω–∞ –ø–æ—à–ª–∞ –≤–≤–µ—Ä—Ö)
- ‚úÖ –í–∑—è–ª –ø—Ä–∏–±—ã–ª—å (+0.43%)
- ‚úÖ –ó–∞—â–∏—Ç–∏–ª –æ—Ç –æ—Ç–∫–∞—Ç–∞
- ‚úÖ –ù–µ —É—à–µ–ª –≤ –º–∏–Ω—É—Å

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ó–∞–∫—Ä—ã–ª —Ä–∞–Ω–æ (–º–æ–≥–ª–æ –±—ã—Ç—å +1-2%)
- ‚ö†Ô∏è –ö–æ—Ä–æ—Ç–∫–æ–µ —É–¥–µ—Ä–∂–∞–Ω–∏–µ (4 –º–∏–Ω—É—Ç—ã)

**–í—ã–≤–æ–¥:** –°–¥–µ–ª–∫–∞ –ü–†–ê–í–ò–õ–¨–ù–ê–Ø –¥–ª—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞, –Ω–æ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è –±–æ–ª—å—à–µ–π –ø—Ä–∏–±—ã–ª–∏

---

## üéØ –ò–¢–û–ì–û–í–´–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å (–∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π —Å–∫–∞–ª—å–ø–∏–Ω–≥)
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** min_holding=1.5 –º–∏–Ω, trail=1.5%

**–ü–ª—é—Å—ã:**
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–µ —Å–¥–µ–ª–∫–∏ (4-5 –º–∏–Ω—É—Ç)
- ‚úÖ –ú–∞–ª–µ–Ω—å–∫–∞—è –ø—Ä–∏–±—ã–ª—å, –Ω–æ —á–∞—Å—Ç–æ (+0.4-0.5%)
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∏—Å–∫
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –∑–∞—â–∏—Ç–∞ –ø—Ä–∏–±—ã–ª–∏

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –£–ø—É—Å–∫–∞–µ—Ç –±–æ–ª—å—à–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è
- ‚ö†Ô∏è –ó–∞–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏ –º–∞–ª—ã—Ö –æ—Ç–∫–∞—Ç–∞—Ö

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –£–º–µ—Ä–µ–Ω–Ω—ã–π —Å–∫–∞–ª—å–ø–∏–Ω–≥ (–†–ï–ö–û–ú–ï–ù–î–£–Æ) ‚úÖ
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** min_holding=3 –º–∏–Ω, trail=2.0%

**–ò–∑–º–µ–Ω–∏—Ç—å:**
```yaml
ranging:
  initial_trail: 0.020          # +33%
  min_holding_minutes: 3.0      # +100%
  extend_time_multiplier: 2.0   # +67%
  min_profit_to_close: 0.008    # -33%
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
- –£–¥–µ—Ä–∂–∞–Ω–∏–µ: 3-6 –º–∏–Ω—É—Ç (–≤–º–µ—Å—Ç–æ 1.5-1.8)
- –ü—Ä–∏–±—ã–ª—å: +0.8-1.5% (–≤–º–µ—Å—Ç–æ +0.4-0.5%)
- –†–∏—Å–∫: –ù–µ–º–Ω–æ–≥–æ –≤—ã—à–µ, –Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –°–≤–∏–Ω–≥-—Å–∫–∞–ª—å–ø–∏–Ω–≥ (–¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–≤–∏–∂–µ–Ω–∏–π)
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** min_holding=10 –º–∏–Ω, trail=3.0%

**–ò–∑–º–µ–Ω–∏—Ç—å:**
```yaml
ranging:
  initial_trail: 0.030          # +100%
  min_holding_minutes: 10.0     # +567%
  extend_time_multiplier: 2.0   # +67%
  min_profit_to_close: 0.015    # +25%
  timeout_minutes: 15           # +200%
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
- –£–¥–µ—Ä–∂–∞–Ω–∏–µ: 10-20 –º–∏–Ω—É—Ç
- –ü—Ä–∏–±—ã–ª—å: +1.5-3.0%
- –†–∏—Å–∫: –í—ã—à–µ, –Ω–æ –±–æ–ª—å—à–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª

---

## üí≠ –ú–û–ï –ú–ù–ï–ù–ò–ï

### –ü–æ—á–µ–º—É –∑–∞–∫—Ä—ã–ª —ç—Ç—É —Å–¥–µ–ª–∫—É:

**–ù–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞:**
1. ‚úÖ –ü—Ä–æ—à–ª–æ 1.5 –º–∏–Ω—É—Ç—ã (min_holding)
2. ‚úÖ –ü–æ–∑–∏—Ü–∏—è –ø—Ä–∏–±—ã–ª—å–Ω–∞—è (+0.43%)
3. ‚úÖ –ü—Ä–æ–¥–ª–µ–Ω–∏–µ: 1.5 * 1.2 = 1.8 –º–∏–Ω—É—Ç—ã
4. ‚úÖ –í—Ä–µ–º—è: 4.1 –º–∏–Ω—É—Ç—ã > 1.8 –º–∏–Ω—É—Ç
5. ‚ö†Ô∏è **–ù–û:** PnL 0.43% < min_profit_to_close (1.2%)
6. ‚ùì **–°–¢–†–ê–ù–ù–û:** –ó–∞–∫—Ä—ã–ª —Ö–æ—Ç—è –ø—Ä–æ—Ñ–∏—Ç –º–µ–Ω—å—à–µ –º–∏–Ω–∏–º—É–º–∞!

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è:**
1. **Timeout —Å—Ä–∞–±–æ—Ç–∞–ª** (–Ω–æ 4.1 –º–∏–Ω < 5 –º–∏–Ω)
2. **Loss_cut —Å—Ä–∞–±–æ—Ç–∞–ª** (–Ω–æ +0.43% —ç—Ç–æ –Ω–µ —É–±—ã—Ç–æ–∫)
3. **–í–Ω–µ—à–Ω–µ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ** (—Ä—É—á–Ω–æ–µ –∏–ª–∏ –±–∏—Ä–∂–∞)
4. **–õ–æ–≥–∏–∫–∞ TSL –∏–∑–º–µ–Ω–∏–ª–∞—Å—å** (–Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥)

---

## üîç –ß–¢–û –ü–†–û–í–ï–†–ò–¢–¨ –í –ö–û–î–ï

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –õ–æ–≥–∏–∫–∞ min_profit_to_close

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
```python
if profit_pct < min_profit_to_close:
    –ù–ï –ó–ê–ö–†–´–í–ê–¢–¨  # –î–µ—Ä–∂–∞—Ç—å –¥–∞–ª—å—à–µ
```

**–í–æ–ø—Ä–æ—Å:** –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —ç—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ TrailingSL?

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –õ–æ–≥–∏–∫–∞ extend_time_on_profit

**–û–∂–∏–¥–∞–µ–º–æ–µ:**
```python
if extend_time_on_profit and profit > 0:
    effective_min_holding = min_holding * extend_multiplier
```

**–í–æ–ø—Ä–æ—Å:** –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ª–∏ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ?

---

## üéØ –ò–¢–û–ì–û–í–´–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –î–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –ø—Ä–∏–±—ã–ª–∏:

**–†–ï–ö–û–ú–ï–ù–î–£–Æ (–í–∞—Ä–∏–∞–Ω—Ç 2):**
```yaml
ranging:
  initial_trail: 0.020          # –ë–æ–ª—å—à–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
  min_holding_minutes: 3.0      # –î–æ–ª—å—à–µ —É–¥–µ—Ä–∂–∞–Ω–∏–µ
  extend_time_multiplier: 2.0   # –ë–æ–ª—å—à–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ
  min_profit_to_close: 0.008    # –ú–µ–Ω—å—à–µ –º–∏–Ω–∏–º—É–º (–ª–µ–≥—á–µ –¥–æ—Å—Ç–∏—á—å)
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–¥–µ–ª–∫–∏: 5-10 –º–∏–Ω—É—Ç (–≤–º–µ—Å—Ç–æ 4)
- –ü—Ä–∏–±—ã–ª—å: +0.8-1.5% (–≤–º–µ—Å—Ç–æ +0.4%)
- Win rate: –ú–æ–∂–µ—Ç —Å–Ω–∏–∑–∏—Ç—å—Å—è –Ω–∞ 5-10%
- –û–±—â–∞—è –ø—Ä–∏–±—ã–ª—å: –í—ã—à–µ

---

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 22.11.2025, 00:05  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –°–î–ï–õ–ö–ê –ü–†–ê–í–ò–õ–¨–ù–ê–Ø, –ù–û –ú–û–ñ–ù–û –û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–¢–¨

**–ú–æ–π —Å–æ–≤–µ—Ç:** –ü–æ–ø—Ä–æ–±—É–π –í–∞—Ä–∏–∞–Ω—Ç 2 (—É–º–µ—Ä–µ–Ω–Ω—ã–π —Å–∫–∞–ª—å–ø–∏–Ω–≥) –∏ –ø–æ—Å–º–æ—Ç—Ä–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ 10-20 —Å–¥–µ–ª–æ–∫!

