# üî¨ –ì–õ–£–ë–û–ö–ò–ô –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ô –ê–£–î–ò–¢ –°–ò–°–¢–ï–ú–´

**–î–∞—Ç–∞:** 2026-01-07  
**–°—Ç–∞—Ç—É—Å:** üîç –ò–°–°–õ–ï–î–û–í–ê–ù–ò–ï  
**–¶–µ–ª—å:** –ù–∞–π—Ç–∏ –∫–æ—Ä–Ω–µ–≤—ã–µ –ø—Ä–∏—á–∏–Ω—ã —É–±—ã—Ç–∫–æ–≤ –±–µ–∑ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

---

## üìã –°–¢–†–£–ö–¢–£–†–ê –ê–ù–ê–õ–ò–ó–ê

### 1Ô∏è‚É£ –ö–∞–∫ –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è Stop Loss
### 2Ô∏è‚É£ –û—Ç–∫—É–¥–∞ –ë–µ—Ä–µ—Ç—Å—è ATR
### 3Ô∏è‚É£ –ö–∞–∫ –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –°–∏–≥–Ω–∞–ª—ã
### 4Ô∏è‚É£ –ö–∞–∫–∏–µ –§–∏–ª—å—Ç—Ä—ã –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è
### 5Ô∏è‚É£ –ì–¥–µ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ü–æ–∑–∏—Ü–∏—è–º–∏ –∏ –†–∏—Å–∫–æ–º
### 6Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö –ü–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
### 7Ô∏è‚É£ –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∏ –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏
### 8Ô∏è‚É£ –ì–∏–ø–æ—Ç–µ–∑—ã –ü—Ä–æ–±–ª–µ–º

---

## üî¥ –ê–ù–ê–õ–ò–ó #1: –ö–ê–ö –†–ê–°–°–ß–ò–¢–´–í–ê–ï–¢–°–Ø STOP LOSS

### –§–∞–π–ª: `src/strategies/scalping/futures/order_executor.py` (—Å—Ç—Ä–æ–∫–∏ ~2026-2140)

**–ù–∞–π–¥–µ–Ω–Ω–æ–µ:**

```python
# –®–ê–ì–ò –†–ê–°–ß–Å–¢–ê SL:

1Ô∏è‚É£ –ü–û–õ–£–ß–ï–ù–ò–ï ATR (—Å—Ç—Ä–æ–∫–∞ 2026):
   atr = await self._get_current_atr(symbol, entry_price)

2Ô∏è‚É£ –ü–û–õ–£–ß–ï–ù–ò–ï –†–ï–ñ–ò–ú–ê (—Å—Ç—Ä–æ–∫–∞ 2018):
   regime = await self._get_current_regime(signal)
   regime_params = self._get_regime_params(regime)

3Ô∏è‚É£ –ü–†–ò–ú–ï–ù–ï–ù–ò–ï MULTIPLIER (—Å—Ç—Ä–æ–∫–∞ 2085):
   sl_distance = atr * sl_multiplier
   –ì–¥–µ sl_multiplier –º–æ–∂–µ—Ç –±—ã—Ç—å:
   - –û—Ç regime_params (–µ—Å–ª–∏ –µ—Å—Ç—å)
   - –ò–ª–∏ –æ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞ (fallback)
   - –ò–ª–∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ strength —Å–∏–≥–Ω–∞–ª–∞

4Ô∏è‚É£ FALLBACK –ù–ê –ü–†–û–¶–ï–ù–¢ (—Å—Ç—Ä–æ–∫–∞ 2111):
   if sl_distance < sl_percent_abs:
       sl_distance = sl_percent_abs

5Ô∏è‚É£ –§–ò–ù–ê–õ–¨–ù–´–ô –†–ê–°–ß–Å–¢ (—Å—Ç—Ä–æ–∫–∞ 2127-2130):
   if side == "buy":
       sl_price = entry_price - sl_distance
   else:
       sl_price = entry_price + sl_distance
```

### –ü–†–û–ë–õ–ï–ú–´ –ù–ê–ô–î–ï–ù–ù–´–ï:

#### ‚ùå –ü–†–û–ë–õ–ï–ú–ê 1.1: ATR –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ

**–§—É–Ω–∫—Ü–∏—è `_get_current_atr()` (—Å—Ç—Ä–æ–∫–∞ 2182):**

```python
# –û–ù–ê –î–ï–õ–ê–ï–¢ HTTP –ó–ê–ü–†–û–° –ö OKX API –¥–ª—è –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–∏!
url = f"https://www.okx.com/api/v5/market/candles?instId={inst_id}&bar=5m&limit=20"
async with aiohttp.ClientSession() as session:
    async with session.get(url) as resp:
        # –ü–∞—Ä—Å–∏—Ç —Å–≤–µ—á–∏
        # –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç ATR –≤—Ä—É—á–Ω—É—é

# FALLBACK (–µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å fail):
return price * 0.01  # ‚Üê –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: 1% –æ—Ç —Ü–µ–Ω—ã –∫–∞–∫ –¥–µ—Ñ–æ–ª—Ç!
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞:**
- ‚úÖ –ö–∞–∂–¥—ã–π —Ä–∞–∑ –¥–æ—Å—Ç–∞—ë—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å–≤–µ—á–µ–π (5m timeframe)
- ‚úÖ –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç ATR –≤—Ä—É—á–Ω—É—é (–º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–æ)
- ‚ùå –ï—Å–ª–∏ API call fails ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≥–ª—É–ø—ã–π –¥–µ—Ñ–æ–ª—Ç (1% –æ—Ç —Ü–µ–Ω—ã)
- ‚ùå –≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç –ø–æ—á–µ–º—É DOGE, XRP –∏–º–µ—é—Ç –º–∏–∫—Ä–æ—Å–∫–æ–ø–∏—á–µ—Å–∫–∏–µ SL!
  - DOGE @ 0.1526 USD: 1% –¥–µ—Ñ–æ–ª—Ç ATR = 0.001526 USD
  - –ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è sl_multiplier: –º–æ–≥—É—Ç –±—ã—Ç—å –µ—â–µ –º–µ–Ω—å—à–µ
  - Entry ~ Stop! (–∫–∞–∫ –≤ –ª–æ–≥–∞—Ö)

#### ‚ùå –ü–†–û–ë–õ–ï–ú–ê 1.2: –ù–µ—Ç –ü—Ä–æ–≤–µ—Ä–∫–∏ –í–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ ATR

**–ö–æ–¥ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
```python
‚ùå if atr == 0:  ‚Üê –ù–ï –ü–†–û–í–ï–†–Ø–ï–¢–°–Ø!
‚ùå if atr < 0:   ‚Üê –ù–ï –ü–†–û–í–ï–†–Ø–ï–¢–°–Ø!
‚ùå if atr > price:  ‚Üê –ù–ï –ü–†–û–í–ï–†–Ø–ï–¢–°–Ø!
‚ùå if atr == None:  ‚Üê –ù–ï –ü–†–û–í–ï–†–Ø–ï–¢–°–Ø!
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ï—Å–ª–∏ ATR = 0, —Ç–æ SL —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

#### ‚ùå –ü–†–û–ë–õ–ï–ú–ê 1.3: sl_multiplier –ú–æ–∂–µ—Ç –ë—ã—Ç—å –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º

**–ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ sl_multiplier:**

```python
# –ò–°–¢–û–ß–ù–ò–ö 1: –ò–∑ regime_params (–µ—Å–ª–∏ –µ—Å—Ç—å)
if regime_params:
    sl_multiplier = regime_params.get("sl_multiplier")

# –ò–°–¢–û–ß–ù–ò–ö 2: –ò–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞
else:
    sl_multiplier = float(self.scalping_config.get("sl_percent", 0.2))
    # ‚Üê –≠—Ç–æ –ü–†–û–¶–ï–ù–¢, –∞ –Ω–µ multiplier! –ü—É—Ç–∞–Ω–∏—Ü–∞!

# –ò–°–¢–û–ß–ù–ò–ö 3: –ê–¥–∞–ø—Ç–∏–≤–Ω–æ –æ—Ç strength
if not has_conflict:
    sl_multiplier *= 0.5 + strength  # 0.5x-1.5x range
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å—Ç—å —Å–º–µ—à–∏–≤–∞–Ω–∏–µ –ø–æ–Ω—è—Ç–∏–π:
- `sl_multiplier` - —ç—Ç–æ –º–Ω–æ–∂–∏—Ç–µ–ª—å –Ω–∞ ATR (–Ω–∞–ø—Ä–∏–º–µ—Ä 2.0)
- `sl_percent` - —ç—Ç–æ –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç —Ü–µ–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä 1.2%)

–ö–æ–¥ –∏–Ω–æ–≥–¥–∞ –æ–¥–Ω–æ, –∏–Ω–æ–≥–¥–∞ –¥—Ä—É–≥–æ–µ!

#### ‚ùå –ü–†–û–ë–õ–ï–ú–ê 1.4: Fallback –Ω–∞ sl_percent –†–∞–±–æ—Ç–∞–µ—Ç –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–°—Ç—Ä–æ–∫–∞ 2111-2113:**
```python
if sl_distance < sl_percent_abs:
    old_sl_distance = sl_distance
    sl_distance = sl_percent_abs
    logger.info(f"‚ö†Ô∏è ATR-based SL —Å–ª–∏—à–∫–æ–º –º–∞–ª ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ–º sl_percent fallback")
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ï—Å–ª–∏ ATR tiny (–¥–µ—Ñ–æ–ª—Ç 1%), –∏ sl_percent —Ç–æ–∂–µ small
- –¢–æ SL –≤—Å–µ —Ä–∞–≤–Ω–æ tiny!
- –ù–µ—Ç –∞–±—Å–æ–ª—é—Ç–Ω–æ–≥–æ –º–∏–Ω–∏–º—É–º–∞ –≤ –ø—É–Ω–∫—Ç–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä 50 –ø—É–Ω–∫—Ç–æ–≤ –¥–ª—è BTC)

---

## üî¥ –ê–ù–ê–õ–ò–ó #2: –û–¢–ö–£–î–ê –ë–ï–†–ï–¢–°–Ø ATR

### –ò—Å—Ç–æ—á–Ω–∏–∫ 1: `_get_current_atr()` - HTTP –∑–∞–ø—Ä–æ—Å (–æ—Å–Ω–æ–≤–Ω–æ–π –ø—É—Ç—å)

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –ö–∞–∂–¥—ã–π —Ä–∞–∑ HTTP –∑–∞–ø—Ä–æ—Å (–º–æ–∂–µ—Ç fail)
- ‚ùå –ü–∞—Ä—Å–∏—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å–≤–µ—á–µ–π 5m
- ‚ùå –ï—Å–ª–∏ —Å–≤–µ—á–µ–π < 15, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Ñ–æ–ª—Ç
- ‚ùå Fallback = 1% (—Å–ª–∏—à–∫–æ–º –ø—Ä–æ—Å—Ç–æ–π)

### –ò—Å—Ç–æ—á–Ω–∏–∫ 2: DataRegistry (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ SL)

**–í –∫–æ–¥–µ –µ—Å—Ç—å —ç—Ç–æ:**
```python
self.data_registry = None  # –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏–∑ orchestrator
atr = await self.data_registry.get_indicator(symbol, "atr")  # ‚Üê –≠—Ç–æ –ø–∏—Å–∞–ª–æ—Å—å –Ω–æ...
```

**–ù–æ –≤ _calculate_tp_sl_prices():**
```python
# –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø DataRegistry!
# –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –≤—ã–∑—ã–≤–∞–µ—Ç _get_current_atr() —Å HTTP –∑–∞–ø—Ä–æ—Å–æ–º
```

**–í—ã–≤–æ–¥:** –ï—Å—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ ATR (DataRegistry) –Ω–æ –æ–Ω –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ SL!

### –ò—Å—Ç–æ—á–Ω–∏–∫ 3: IndicatorManager (–≤ signal_generator)

**–í signal_generator.py:**
```python
self.indicator_manager = IndicatorManager()
# –ù–æ –∫–∞–∫ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ OrderExecutor?
# –ù–ï –Ø–°–ù–û!
```

---

## üî¥ –ê–ù–ê–õ–ò–ó #3: –ö–ê–ö –ì–ï–ù–ï–†–ò–†–£–Æ–¢–°–Ø –°–ò–ì–ù–ê–õ–´

### –§–∞–π–ª: `src/strategies/scalping/futures/signal_generator.py` (—Å—Ç—Ä–æ–∫–∏ ~1405-1500+)

**–û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å:**

```python
async def generate_signals() ‚Üí List[signals]:

1Ô∏è‚É£ –î–õ–Ø –ö–ê–ñ–î–û–ì–û –°–ò–ú–í–û–õ–ê:
   ‚îú‚îÄ –ü–æ–ª—É—á–∏—Ç—å market_data
   ‚îú‚îÄ –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å current_regime (—á–µ—Ä–µ–∑ RegimeManager)
   ‚îú‚îÄ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (RSI, MACD, SMA, EMA, ATR, BB)
   ‚îÇ  ‚îú‚îÄ –ü–æ –¥–µ—Ñ–æ–ª—Ç—É –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
   ‚îÇ  ‚îî‚îÄ Per-symbol –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–µ—Å–ª–∏ –µ—Å—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥–µ)
   ‚îú‚îÄ –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–∏–≥–Ω–∞–ª—ã –ø–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º
   ‚îú‚îÄ –ü–†–ò–ú–ï–ù–ò–¢–¨ –§–ò–õ–¨–¢–†–´
   ‚îÇ  ‚îú‚îÄ MultiTimeframeFilter
   ‚îÇ  ‚îú‚îÄ CorrelationFilter
   ‚îÇ  ‚îú‚îÄ PivotPointsFilter
   ‚îÇ  ‚îú‚îÄ VolumeProfileFilter
   ‚îÇ  ‚îú‚îÄ VolatilityRegimeFilter
   ‚îÇ  ‚îú‚îÄ LiquidityFilter
   ‚îÇ  ‚îú‚îÄ OrderFlowFilter
   ‚îÇ  ‚îú‚îÄ FundingRateFilter
   ‚îÇ  ‚îî‚îÄ MomentumFilter
   ‚îî‚îÄ –í–µ—Ä–Ω—É—Ç—å filtered signals

2Ô∏è‚É£ –ö–û–õ–ò–ß–ï–°–¢–í–û –§–ò–õ–¨–¢–†–û–í: 9+ —Ñ–∏–ª—å—Ç—Ä–æ–≤!
```

### –í–û–ü–†–û–°: –ö–∞–∫–æ–π –ò–∑ –ù–∏—Ö –û—Ç–∫–ª–æ–Ω—è–µ—Ç 273 –°–∏–≥–Ω–∞–ª–∞?

**–¢–µ–∫—É—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
- –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ: 300+ —Å–∏–≥–Ω–∞–ª–æ–≤
- –ü—Ä–æ—à–ª–æ –≤—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã: 27 —Å–¥–µ–ª–æ–∫
- –û—Ç–∫–ª–æ–Ω–µ–Ω–æ: 273 (91%!)

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã:**
- ü§î –ö–∞–∫–æ–π —Ñ–∏–ª—å—Ç—Ä –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ?
- ü§î –ï—Å—Ç—å –ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –º–µ–∂–¥—É —Ñ–∏–ª—å—Ç—Ä–∞–º–∏?
- ü§î –ú–æ–∂–µ—Ç –±—ã—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –æ—Ç–∫–ª–æ–Ω—è—é—Ç –•–û–†–û–®–ò–ï —Å–∏–≥–Ω–∞–ª—ã?
- ü§î –ú–æ–∂–µ—Ç –±—ã—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã?

**–ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
```
–ö–∞–∂–¥—ã–π —Ñ–∏–ª—å—Ç—Ä –¥–æ–ª–∂–µ–Ω –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å:
- –°–∫–æ–ª—å–∫–æ —Å–∏–≥–Ω–∞–ª–æ–≤ –≤—Ö–æ–¥–∏—Ç
- –°–∫–æ–ª—å–∫–æ —Å–∏–≥–Ω–∞–ª–æ–≤ –≤—ã—Ö–æ–¥–∏—Ç
- –ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞
```

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–¥–∞:**
```python
# ‚ùå –ù–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–π –≤ filter_manager!
# ‚ùå –ù–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ —Ñ–∏–ª—å—Ç—Ä–∞–º!
# ‚ùå –ù–µ—Ç –≤–∏–¥–∏–º–æ—Å—Ç–∏ —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å —Å–∏–≥–Ω–∞–ª–∞–º–∏!
```

---

## üî¥ –ê–ù–ê–õ–ò–ó #4: –ò–°–ü–û–õ–¨–ó–£–Æ–¢–°–Ø –õ–ò Per-Symbol –ü–ê–†–ê–ú–ï–¢–†–´?

### –§–∞–π–ª: `src/strategies/modules/adaptive_regime_manager.py`

**–í–æ–ø—Ä–æ—Å:** –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ª–∏ per-symbol –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏ —Ä–∞—Å—Å—á—ë—Ç–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤?

**–ò–∑ —Å–∏–≥–Ω–∞–ª–æ–≤ —á—Ç–æ –≤–∏–¥–∏–º –≤ –ª–æ–≥–∞—Ö:**
- DOGE –ø–æ–ª—É—á–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ATR(5), RSI(7), etc.
- XRP –ø–æ–ª—É—á–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ATR(7), RSI(10), etc.
- BTC –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

**–ù–æ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –≤–æ–ø—Ä–æ—Å:**
- ü§î –≠—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ì–î–ï –∏–º–µ–Ω–Ω–æ?
- ü§î –í signal_generator –ø—Ä–∏ —Ä–∞—Å—Å—á—ë—Ç–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤?
- ü§î –ò–õ–ò —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–∞—Å—Å—á—ë—Ç–µ TP/SL –≤ order_executor?
- ü§î –ï—Å—Ç—å –ª–∏ –ø—É—Ç–∞–Ω–∏—Ü–∞ –º–µ–∂–¥—É –¥–≤—É–º—è –º–µ—Å—Ç–∞–º–∏?

**–ì–∏–ø–æ—Ç–µ–∑–∞:**
```
–ú–æ–∂–µ—Ç –±—ã—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –≤ signal_generator,
–Ω–æ –≤ order_executor –ø—Ä–∏ —Ä–∞—Å—Å—á—ë—Ç–µ SL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –î–†–£–ì–û–ô ATR
(–∏–∑ HTTP –∑–∞–ø—Ä–æ—Å–∞), –∞ –Ω–µ —Ç–æ –∂–µ —Å–∞–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ATR —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ—Å—å –≤ —Å–∏–≥–Ω–∞–ª–µ!

–≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏—á–∏–Ω–æ–π –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏.
```

---

## üî¥ –ê–ù–ê–õ–ò–ó #5: –£–ü–†–ê–í–õ–ï–ù–ò–ï –ü–û–ó–ò–¶–ò–Ø–ú–ò –ò –†–ò–°–ö–û–ú

### –§–∞–π–ª—ã: 
- `position_manager.py`
- `risk_manager.py`

**–í–æ–ø—Ä–æ—Å—ã:**
- ü§î –ì–¥–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏?
- ü§î –ì–¥–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –º–∞–∫—Å–∏–º—É–º –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π?
- ü§î –ö–∞–∫ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Ä–∞–∑–º–µ—Ä –æ—Ä–¥–µ—Ä–∞?
- ü§î –ú–æ–∂–µ—Ç –ª–∏ –±—ã—Ç—å —á—Ç–æ —Ä–∞–∑–º–µ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ?

**–ì–∏–ø–æ—Ç–µ–∑–∞:**
```
–ï—Å–ª–∏ —Ä–∞–∑–º–µ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π,
–∏ —Ä—ã–Ω–æ—á–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—É–Ω–∫—Ç–∞,
—Ç–æ –¥–∞–∂–µ –º–∞–ª–µ–Ω—å–∫–∏–π SL —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å –±–æ–ª—å—à–∏–º —É–±—ã—Ç–∫–æ–º.

300 —Å–¥–µ–ª–æ–∫ –≤ –ª–æ–≥–∞—Ö - —ç—Ç–æ –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –æ—Ç–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏—é?
–ò–ª–∏ —Ç–æ–ª—å–∫–æ 27 –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ—à–ª–∏ –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏?
```

---

## üî¥ –ê–ù–ê–õ–ò–ó #6: –ö–û–ù–§–õ–ò–ö–¢–´ –ò –ù–ï–°–û–ì–õ–ê–°–û–í–ê–ù–ù–û–°–¢–ò

### –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏:

#### üî¥ –ö–û–ù–§–õ–ò–ö–¢ 1: ATR –≤ signal_generator vs order_executor

```
SIGNAL GENERATOR (–ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–∏–≥–Ω–∞–ª–∞):
‚îú‚îÄ –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (–≤–∫–ª—é—á–∞—è ATR)
‚îú‚îÄ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ regime_manager
‚îî‚îÄ ATR –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–∞

ORDER EXECUTOR (–ø—Ä–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏ —Å–∏–≥–Ω–∞–ª–∞):
‚îú‚îÄ –°–Ω–æ–≤–∞ –≤—ã–∑—ã–≤–∞–µ—Ç _get_current_atr() —Å HTTP –∑–∞–ø—Ä–æ—Å–æ–º
‚îú‚îÄ –≠—Ç–æ –î–†–£–ì–û–ô ATR (–∑–∞ –¥—Ä—É–≥–æ–π –ø–µ—Ä–∏–æ–¥ –≤—Ä–µ–º–µ–Ω–∏)
‚îú‚îÄ –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è
‚îî‚îÄ –†–µ–∑—É–ª—å—Ç–∞—Ç: SL —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –î–†–£–ì–û–ú ATR!
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Å–∏–≥–Ω–∞–ª–æ–º –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ–º.

#### üî¥ –ö–û–ù–§–õ–ò–ö–¢ 2: –ü—Ä–æ—Ü–µ–Ω—Ç vs –ú–Ω–æ–∂–∏—Ç–µ–ª—å

```
–ö–û–ù–§–ò–ì:
sl_percent = 1.2  ‚Üê —ç—Ç–æ –ü–†–û–¶–ï–ù–¢ –æ—Ç —Ü–µ–Ω—ã

CODE:
sl_multiplier = sl_percent  ‚Üê —Ç—Ä–∞–∫—Ç—É–µ—Ç—Å—è –∫–∞–∫ –ú–ù–û–ñ–ò–¢–ï–õ–¨ –Ω–∞ ATR?
sl_distance = atr * sl_multiplier  ‚Üê –ù–ï–ü–†–ê–í–ò–õ–¨–ù–ê–Ø –§–û–†–ú–£–õ–ê!
```

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
sl_distance = entry_price * (sl_percent / 100.0)  ‚Üê –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç —Ü–µ–Ω—ã
–ò–õ–ò
sl_distance = atr * sl_multiplier  ‚Üê –º–Ω–æ–∂–∏—Ç–µ–ª—å –Ω–∞ ATR
```

**–ù–æ –Ω–µ —Å–º–µ—à–∏–≤–∞–Ω–∏–µ –¥–≤—É—Ö!**

#### üî¥ –ö–û–ù–§–õ–ò–ö–¢ 3: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ vs –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

```
SignalGenerator –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å per-symbol –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ regime_manager,
–Ω–æ order_executor –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–∂–∏–º –°–ù–û–í–ê –∏ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã!

–ù–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–∏ —á—Ç–æ –æ–Ω–∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã.
```

---

## üí° –†–ê–ë–û–ß–ò–ï –ì–ò–ü–û–¢–ï–ó–´

### –ì–∏–ø–æ—Ç–µ–∑–∞ A: –î–µ—Ñ–æ–ª—Ç–Ω—ã–π ATR = 1% (–ø—Ä–∏—á–∏–Ω–∞ –º–∏–∫—Ä–æ—Å–∫–æ–ø–∏—á–µ—Å–∫–∏—Ö SL)

**–ü–æ—á–µ–º—É —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏—á–∏–Ω–æ–π DOGE/XRP –ø—Ä–æ–±–ª–µ–º:**

```
DOGE @ 0.1526 USD:
‚îú‚îÄ –¶–µ–Ω–∞ –Ω–∏–∑–∫–∞—è
‚îú‚îÄ –ï—Å–ª–∏ API call fails ‚Üí ATR = 0.1526 * 0.01 = 0.001526 USD
‚îú‚îÄ –≠—Ç–æ –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
‚îú‚îÄ –ü—Ä–∏ sl_multiplier = 1-2:
‚îÇ  ‚îî‚îÄ SL distance = 0.0015-0.003 USD
‚îú‚îÄ –ù–æ –µ—Å–ª–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ sl_percent_abs –∑–∞–º–µ–Ω—è–µ—Ç —ç—Ç–æ
‚îÇ  ‚îî‚îÄ –ú–æ–∂–µ—Ç –±—ã—Ç—å –¥–∞–∂–µ –º–µ–Ω—å—à–µ!
‚îî‚îÄ –†–ï–ó–£–õ–¨–¢–ê–¢: entry ‚âà stop (–∫–∞–∫ –≤ –ª–æ–≥–∞—Ö!)
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- [ ] –ö–∞–∫ —á–∞—Å—Ç–æ API call fails?
- [ ] –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ª–∏ fallback 1%?
- [ ] –î–ª—è –∫–∞–∫–∏—Ö –ø–∞—Ä —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?

### –ì–∏–ø–æ—Ç–µ–∑–∞ B: –†–µ–∂–∏–º –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–ú–æ–∂–µ—Ç –±—ã—Ç—å:**
```
–†–µ–∂–∏–º –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–∞–∫ "trending" —Ö–æ—Ç—è —ç—Ç–æ –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è,
–ø–æ—Ç–æ–º —Å–∏–≥–Ω–∞–ª –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏,
–ø–æ—Ç–æ–º —Ç—Ä–µ–Ω–¥ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –≤ –î–†–£–ì–û–ú –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏,
SL —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç,
–ø–æ—Ç–æ–º —Ü–µ–Ω–∞ –∏–¥–µ—Ç –≤ –Ω—É–∂–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É.
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- [ ] –ö–∞–∫–∏–µ —Ä–µ–∂–∏–º—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã?
- [ ] –°–æ–≤–ø–∞–¥–∞—é—Ç –ª–∏ –æ–Ω–∏ —Å —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é (–≥–ª—è–¥—è –Ω–∞ –≥—Ä–∞—Ñ–∏–∫)?
- [ ] –ú–æ–∂–µ—Ç –±—ã—Ç—å ARM (AdaptiveRegimeManager) —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ?

### –ì–∏–ø–æ—Ç–µ–∑–∞ C: –§–∏–ª—å—Ç—Ä—ã –°–ª–∏—à–∫–æ–º –ñ–µ—Å—Ç–∫–∏–µ –ò–ª–∏ –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã

**–ú–æ–∂–µ—Ç –±—ã—Ç—å:**
```
273 –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–∞ = –¢–ï –°–ê–ú–´–ï –•–û–†–û–®–ò–ï —Å–∏–≥–Ω–∞–ª—ã!
27 –ø—Ä–∏–Ω—è—Ç—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ = –°–ê–ú–´–ï –ü–õ–û–•–ò–ï!

–ï—Å–ª–∏ —ç—Ç–æ –ø—Ä–∞–≤–¥–∞, —Ç–æ –Ω—É–∂–Ω–æ —Å–º—è–≥—á–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã.
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- [ ] –ö–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É –∫–∞–∂–¥–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞?
- [ ] –ï—Å—Ç—å –ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –º–µ–∂–¥—É —Ñ–∏–ª—å—Ç—Ä–∞–º–∏?
- [ ] –ö–∞–∫–æ–π —Ñ–∏–ª—å—Ç—Ä –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ?
- [ ] –õ–æ–≥–∏—Ä—É–µ—Ç –ª–∏ –∫–∞–∂–¥—ã–π —Ñ–∏–ª—å—Ç—Ä –ø—Ä–∏—á–∏–Ω—É –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è?

### –ì–∏–ø–æ—Ç–µ–∑–∞ D: Per-Symbol –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ù–µ –†–∞–±–æ—Ç–∞—é—Ç

**–ú–æ–∂–µ—Ç –±—ã—Ç—å:**
```
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –≤ –∫–æ–Ω—Ñ–∏–≥–µ,
–Ω–æ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ –∫–æ–¥–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

DOGE –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ ATR(5), –Ω–æ –Ω–∞ –¥–µ–ª–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ATR(14).
XRP –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ MACD(8/17), –Ω–æ –Ω–∞ –¥–µ–ª–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è MACD(12/26).

–≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç –ø–æ—á–µ–º—É per-symbol –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç!
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- [ ] –ö–∞–∫ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è per-symbol –ø–∞—Ä–∞–º–µ—Ç—Ä—ã?
- [ ] –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ª–∏ –æ–Ω–∏ –ø—Ä–∏ —Ä–∞—Å—Å—á—ë—Ç–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤?
- [ ] –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ª–∏ –æ–Ω–∏ –ø—Ä–∏ —Ä–∞—Å—Å—á—ë—Ç–µ SL/TP?

### –ì–∏–ø–æ—Ç–µ–∑–∞ E: ETH —ç—Ç–æ –°–ª—É—á–∞–π–Ω–æ—Å—Ç—å

**–ú–æ–∂–µ—Ç –±—ã—Ç—å:**
```
ETH –∏–º–µ–µ—Ç 3 —Å–¥–µ–ª–∫–∏:
‚îú‚îÄ 2 –ø—Ä–∏–±—ã–ª—å–Ω—ã–µ
‚îî‚îÄ 1 —É–±—ã—Ç–æ—á–Ω–∞—è

–≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ—Å—Ç–æ –≤–µ–∑–µ–Ω–∏–µ–º!
–ú–∞–ª—ã–π —Ä–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏ (n=3).

–ï—Å–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ—â–µ –Ω–∞ ETH, –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≥–æ—Ä–∞–∑–¥–æ —Ö—É–∂–µ.
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- [ ] –î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –ª–æ–≥–∏ –∑–∞ –í–°–ï–• 13 —á–∞—Å–æ–≤
- [ ] –ö–æ–≥–¥–∞ –±—ã–ª–∏ —ç—Ç–∏ 3 —Å–¥–µ–ª–∫–∏ ETH?
- [ ] –ë—ã–ª–∏ –ª–∏ –¥—Ä—É–≥–∏–µ —Å–∏–≥–Ω–∞–ª—ã ETH –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω—ã?

---

## üéØ –ß–¢–û –ù–£–ñ–ù–û –ü–†–û–í–ï–†–ò–¢–¨ –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°

**–ù–µ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å, —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**

### 1Ô∏è‚É£ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ ATR (5 –º–∏–Ω—É—Ç)

–î–æ–±–∞–≤–∏—Ç—å –≤ `order_executor._get_current_atr()`:
```python
logger.info(f"ATR calculation for {symbol}:")
logger.info(f"  - API call success: {resp.status == 200}")
logger.info(f"  - Candles received: {len(candles) if candles else 0}")
logger.info(f"  - ATR calculated: {atr:.6f}")
logger.info(f"  - ATR as % of price: {atr/price*100:.4f}%")
logger.info(f"  - Fallback used: {used_fallback}")
```

### 2Ô∏è‚É£ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ SL –†–∞—Å—á—ë—Ç–∞ (5 –º–∏–Ω—É—Ç)

–î–æ–±–∞–≤–∏—Ç—å –≤ `order_executor._calculate_tp_sl_prices()`:
```python
logger.info(f"SL Calculation Debug:")
logger.info(f"  - Entry: {entry_price}")
logger.info(f"  - ATR (raw): {atr}")
logger.info(f"  - Regime: {regime}")
logger.info(f"  - sl_multiplier: {sl_multiplier}")
logger.info(f"  - sl_distance (ATR-based): {atr * sl_multiplier}")
logger.info(f"  - sl_percent: {sl_percent_value}%")
logger.info(f"  - sl_distance (final): {sl_distance}")
logger.info(f"  - SL price: {sl_price}")
logger.info(f"  - Distance in %: {sl_distance/entry_price*100:.4f}%")
```

### 3Ô∏è‚É£ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –§–∏–ª—å—Ç—Ä–æ–≤ (10 –º–∏–Ω—É—Ç)

–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–∞–∂–¥—ã–π —Ñ–∏–ª—å—Ç—Ä:
```python
class SomeFilter:
    def apply(self, signals) -> tuple[passed, rejected]:
        passed = []
        rejected = []
        for signal in signals:
            if self.is_valid(signal):
                passed.append(signal)
            else:
                rejected.append((signal, reason))
        
        logger.info(f"{self.__class__.__name__}: {len(passed)} passed, {len(rejected)} rejected")
        return passed, rejected
```

### 4Ô∏è‚É£ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ ATR –≤ SignalGenerator vs OrderExecutor (10 –º–∏–Ω—É—Ç)

–ö–æ–≥–¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–∏–≥–Ω–∞–ª:
```python
logger.info(f"Signal ATR: {signal_atr}")  # ATR –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π –≤ signal_generator
```

–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–∏–≥–Ω–∞–ª:
```python
logger.info(f"Execution ATR: {execution_atr}")  # ATR –≤ order_executor
logger.info(f"ATR Diff: {abs(signal_atr - execution_atr) / signal_atr * 100:.2f}%")
```

### 5Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Per-Symbol –ü–∞—Ä–∞–º–µ—Ç—Ä—ã (5 –º–∏–Ω—É—Ç)

```python
logger.info(f"Parameters for {symbol}:")
logger.info(f"  - atr_period: {used_atr_period}")
logger.info(f"  - rsi_period: {used_rsi_period}")
logger.info(f"  - macd_params: {used_macd_params}")
logger.info(f"  - Source: {'per-symbol' if per_symbol else 'global'}")
```

---

## üìù –í–´–í–û–î

**–†–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å:**

1. ‚ùå **ATR = 1% Fallback** - –≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç –º–∏–∫—Ä–æ—Å–∫–æ–ø–∏—á–µ—Å–∫–∏–µ SL –¥–ª—è DOGE/XRP
2. ‚ùå **–ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å ATR** - signal_generator –∏ order_executor –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–∞–∑–Ω—ã–µ ATR
3. ‚ùå **–ü—É—Ç–∞–Ω–∏—Ü–∞ –ü—Ä–æ—Ü–µ–Ω—Ç vs –ú–Ω–æ–∂–∏—Ç–µ–ª—å** - SL —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
4. ‚ùå **–§–∏–ª—å—Ç—Ä—ã 91% –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–π** - –õ–∏–±–æ –æ–Ω–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ, –ª–∏–±–æ —Å–ª–∏—à–∫–æ–º –∂–µ—Å—Ç–∫–∏–µ
5. ‚ùå **Per-Symbol –ü–∞—Ä–∞–º–µ—Ç—Ä—ã** - –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
6. ‚ùå **ETH —ç—Ç–æ –í–µ–∑–µ–Ω–∏–µ** - –¢–æ–ª—å–∫–æ 3 —Å–¥–µ–ª–∫–∏, –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å

**–ù–ï –Ω—É–∂–Ω–æ:**
- ‚ùå –û—Ç–∫–ª—é—á–∞—Ç—å BTC –±–µ–∑ –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã
- ‚ùå –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å ETH –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞ –¥—Ä—É–≥–∏–µ –ø–∞—Ä—ã
- ‚ùå –û—Ç–∫–ª—é—á–∞—Ç—å –Ω–æ—á–Ω—É—é —Ç–æ—Ä–≥–æ–≤–ª—é

**–ù—É–∂–Ω–æ:**
- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –µ—â–µ —Ä–∞–∑
- ‚úÖ –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ª–æ–≥–æ–≤
- ‚úÖ –ù–∞–π—Ç–∏ –∫–æ—Ä–Ω–µ–≤—É—é –ø—Ä–∏—á–∏–Ω—É
- ‚úÖ –¢–û–ì–î–ê –∏—Å–ø—Ä–∞–≤–∏—Ç—å

