# –ê–ù–ê–õ–ò–ó –ò –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø: Per-Symbol TP

## üìä –¢–ï–ö–£–©–ê–Ø –°–ò–¢–£–ê–¶–ò–Ø

### –†–∞–∑–ª–∏—á–∏—è –≤ –∞–±—Å–æ–ª—é—Ç–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏:

| –ü–∞—Ä–∞ | –†–∞–∑–º–µ—Ä | –ú–∞—Ä–∂–∞ | TP (1.0%) | –†–∞–∑–Ω–∏—Ü–∞ —Å BTC |
|------|--------|-------|-----------|---------------|
| **BTC-USDT** | $122.16 | $24.43 | **$0.2443** | - |
| **ETH-USDT** | $101.80 | $20.36 | $0.2036 | -$0.0407 (-16.7%) |
| **SOL-USDT** | $91.62 | $18.32 | $0.1832 | -$0.0611 (-25.0%) |
| **DOGE-USDT** | $81.44 | $16.29 | $0.1629 | -$0.0814 (-33.3%) |
| **XRP-USDT** | $81.44 | $16.29 | $0.1629 | -$0.0814 (-33.3%) |

**–í—ã–≤–æ–¥**: –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É BTC –∏ SOL —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç **33.3%** ($0.0611), —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∑–Ω–∞—á–∏–º–æ!

---

## üéØ –í–ê–†–ò–ê–ù–¢–´ –†–ï–®–ï–ù–ò–Ø

### –í–ê–†–ò–ê–ù–¢ 1: –û–¥–∏–Ω–∞–∫–æ–≤–∞—è –∞–±—Å–æ–ª—é—Ç–Ω–∞—è –ø—Ä–∏–±—ã–ª—å ‚ùå
- **–ü—Ä–æ–±–ª–µ–º–∞**: –°–ª–∏—à–∫–æ–º —Ä–∞–∑–Ω—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã (0.78% –¥–ª—è BTC, 1.18% –¥–ª—è DOGE)
- **–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è**: –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞

### –í–ê–†–ò–ê–ù–¢ 2: –ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π TP ‚úÖ **–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø**
- **–õ–æ–≥–∏–∫–∞**: –ë–æ–ª—å—à–µ TP –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø–æ–∑–∏—Ü–∏–π (–≤—ã—à–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å)
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: 
  - –£—á–∏—Ç—ã–≤–∞–µ—Ç –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å
  - –ë–æ–ª–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥
  - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã (0.85% - 1.0%)

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ**:
- BTC-USDT: **1.0%** (–≤—ã—Å–æ–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å, –±–æ–ª—å—à–∞—è –ø–æ–∑–∏—Ü–∏—è)
- ETH-USDT: **0.95%** (—Å—Ç–∞–Ω–¥–∞—Ä—Ç)
- SOL-USDT: **0.9%** (—Å—Ä–µ–¥–Ω—è—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å)
- DOGE-USDT: **0.85%** (–Ω–∏–∑–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å)
- XRP-USDT: **0.85%** (–Ω–∏–∑–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å)

### –í–ê–†–ò–ê–ù–¢ 3: –û–±—Ä–∞—Ç–Ω–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π TP ‚ö†Ô∏è
- **–õ–æ–≥–∏–∫–∞**: –ú–µ–Ω—å—à–µ TP –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø–æ–∑–∏—Ü–∏–π (–º–µ–Ω—å—à–µ —Ä–∏—Å–∫), –±–æ–ª—å—à–µ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö (–±–æ–ª—å—à–µ —Ä–∏—Å–∫)
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –ë–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö –ø–æ–∑–∏—Ü–∏–π

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ**:
- BTC-USDT: **0.9%** (–±–æ–ª—å—à–∞—è –ø–æ–∑–∏—Ü–∏—è, –º–µ–Ω—å—à–µ —Ä–∏—Å–∫)
- ETH-USDT: **1.0%** (—Å—Ç–∞–Ω–¥–∞—Ä—Ç)
- SOL-USDT: **1.1%** (—Å—Ä–µ–¥–Ω—è—è –ø–æ–∑–∏—Ü–∏—è)
- DOGE-USDT: **1.2%** (–º–∞–ª–µ–Ω—å–∫–∞—è –ø–æ–∑–∏—Ü–∏—è, –±–æ–ª—å—à–µ —Ä–∏—Å–∫)
- XRP-USDT: **1.2%** (–º–∞–ª–µ–Ω—å–∫–∞—è –ø–æ–∑–∏—Ü–∏—è, –±–æ–ª—å—à–µ —Ä–∏—Å–∫)

---

## üìã –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø

### 1. –î–æ–±–∞–≤–∏—Ç—å `tp_percent` –≤ `symbol_profiles`

```yaml
symbol_profiles:
  BTC-USDT:
    position_multiplier: 1.2
    tp_percent: 1.0  # ‚úÖ –ù–û–í–û–ï: Per-symbol TP
    # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  ETH-USDT:
    position_multiplier: 1.0
    tp_percent: 0.95  # ‚úÖ –ù–û–í–û–ï: Per-symbol TP
  SOL-USDT:
    position_multiplier: 0.9
    tp_percent: 0.9  # ‚úÖ –ù–û–í–û–ï: Per-symbol TP
  DOGE-USDT:
    position_multiplier: 0.8
    tp_percent: 0.85  # ‚úÖ –ù–û–í–û–ï: Per-symbol TP
  XRP-USDT:
    position_multiplier: 0.8
    tp_percent: 0.85  # ‚úÖ –ù–û–í–û–ï: Per-symbol TP
```

### 2. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è per-symbol TP

**–§–∞–π–ª**: `src/strategies/scalping/futures/position_manager.py`

```python
# –ü–æ–ª—É—á–∞–µ–º tp_percent –¥–ª—è —Å–∏–º–≤–æ–ª–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å –≤ symbol_profiles)
tp_percent = self.scalping_config.tp_percent  # –ì–ª–æ–±–∞–ª—å–Ω—ã–π (fallback)
if symbol:
    symbol_profile = self.symbol_profiles.get(symbol, {})
    if symbol_profile:
        symbol_dict = self._to_dict(symbol_profile) if not isinstance(symbol_profile, dict) else symbol_profile
        symbol_tp_percent = symbol_dict.get("tp_percent")
        if symbol_tp_percent is not None:
            tp_percent = float(symbol_tp_percent)
            logger.debug(f"üìä Per-symbol TP –¥–ª—è {symbol}: {tp_percent}%")
```

---

## ‚úÖ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø

**–í–ê–†–ò–ê–ù–¢ 2 (–ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π)** - –Ω–∞–∏–±–æ–ª–µ–µ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥:

1. ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å –∏ —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏
2. ‚úÖ –ë–æ–ª–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π (–º–µ–Ω—å—à–µ —Ä–∏—Å–∫ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö –ø–æ–∑–∏—Ü–∏–π)
3. ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã (0.85% - 1.0%)
4. ‚úÖ –õ–æ–≥–∏—á–Ω–æ: –±–æ–ª—å—à–µ –ø–æ–∑–∏—Ü–∏—è ‚Üí –±–æ–ª—å—à–µ TP

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- BTC: $0.2443 (1.0%)
- ETH: $0.1934 (0.95%)
- SOL: $0.1649 (0.9%)
- DOGE/XRP: $0.1384 (0.85%)

–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É BTC –∏ SOL: **$0.0794** (48.1% –±–æ–ª—å—à–µ) - –Ω–æ —ç—Ç–æ –ª–æ–≥–∏—á–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –ø–æ–∑–∏—Ü–∏—è BTC –±–æ–ª—å—à–µ.

