# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è 2-–º–∏–Ω—É—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞

## üî¥ –ü—Ä–æ–±–ª–µ–º—ã:

### 1. **–û—à–∏–±–∫–∞ leverage: `Parameter posSide error`**
- **–ü—Ä–∏—á–∏–Ω–∞**: API –∑–∞–ø—Ä–æ—Å –Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫—É leverage —Ç—Ä–µ–±—É–µ—Ç `posSide`, –Ω–æ –µ–≥–æ –Ω–µ—Ç –¥–ª—è sandbox
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏–ª `posSide: "net"` –≤ –º–µ—Ç–æ–¥ `set_leverage`
- **–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –û—à–∏–±–∫–∞ –≤—Å—ë –µ—â—ë –µ—Å—Ç—å, –≤–æ–∑–º–æ–∂–Ω–æ sandbox –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç set-leverage

### 2. **–û—à–∏–±–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –æ—Ä–¥–µ—Ä–∞: `Order quantity must be a multiple of the lot size`**
- **–ü—Ä–∏—á–∏–Ω–∞**: –†–∞–∑–º–µ—Ä `0.001` ETH –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é (–Ω—É–∂–µ–Ω `0.01` –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ä–∞–∑–º–µ—Ä)
- **–†–µ—à–µ–Ω–∏–µ**: –¢–µ–∫—É—â–µ–µ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ –¥–∞—ë—Ç `0.001`, –Ω–æ –±–∏—Ä–∂–∞ —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–∏–π —Ä–∞–∑–º–µ—Ä
- **–°—Ç–∞—Ç—É—Å**: ‚ùå –ù—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è ETH-USDT-SWAP

### 3. **–ö—Ä–∞–∫–æ–∑—è–±—Ä—ã –≤ PowerShell**
- **–ü—Ä–∏—á–∏–Ω–∞**: Windows PowerShell –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–¥–∏—Ä–æ–≤–∫—É –Ω–µ UTF-8
- **–†–µ—à–µ–Ω–∏–µ**: –í –ª–æ–≥–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `sys.stdout` —Å UTF-8, –Ω–æ –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å —Å–ª–æ–º–∞–µ—Ç—Å—è
- **–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ö—Ä–∞–∫–æ–∑—è–±—Ä—ã –≤ –∫–æ–Ω—Å–æ–ª–∏, –Ω–æ –ª–æ–≥–∏ –≤ —Ñ–∞–π–ª –ø–∏—à—É—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. ‚úÖ WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ
2. ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–∏–∫–µ—Ä-–¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
3. ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
5. ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π

## üõ†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:

### 1. –£–±—Ä–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É leverage (sandbox –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç):
```python
# –í orchestrator.py _initialize_client
# –ü—Ä–æ—Å—Ç–æ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º set_leverage –¥–ª—è sandbox
if not self.client.sandbox:
    await self.client.set_leverage(symbol, leverage)
```

### 2. –£—Ç–æ—á–Ω–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è ETH-USDT-SWAP
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ API `/api/v5/public/instruments?instType=SWAP`
- –ò–∑–º–µ–Ω–∏—Ç—å `size_step` –≤ `round_to_step` –¥–ª—è ETH

### 3. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ –≤–≤–µ—Ä—Ö
- –¢–µ–∫—É—â–∏–π `round_to_step` –æ–∫—Ä—É–≥–ª—è–µ—Ç –≤–Ω–∏–∑
- –ù—É–∂–Ω–æ –æ–∫—Ä—É–≥–ª—è—Ç—å –¥–æ –±–æ–ª—å—à–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è, –∫—Ä–∞—Ç–Ω–æ–≥–æ `size_step`

---

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:
- **WebSocket**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **API –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ leverage**: ‚ùå –û—à–∏–±–∫–∞ (sandbox)
- **–û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏**: ‚ùå –û—à–∏–±–∫–∞ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä)

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –£–±—Ä–∞—Ç—å –≤—ã–∑–æ–≤ `set_leverage` –¥–ª—è sandbox
2. –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ä–∞—Å—á—ë—Ç —Ä–∞–∑–º–µ—Ä–∞ –æ—Ä–¥–µ—Ä–∞
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞


