# üîç –ü–û–õ–ù–´–ô –ê–£–î–ò–¢ –°–ò–°–¢–ï–ú–´ –ü–ê–†–ê–ú–ï–¢–†–û–í - OKX Trading Bot

**–î–∞—Ç–∞ –∞—É–¥–∏—Ç–∞:** 7 —è–Ω–≤–∞—Ä—è 2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω  
**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Ñ–∞–π–ª–æ–≤:** 15+  
**–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –ø—Ä–æ–±–ª–µ–º:** –ö—Ä–∏—Ç–∏—á–Ω—ã–µ  

---

## 1. HARDCODED –ü–ê–†–ê–ú–ï–¢–†–´ (–í–°–ï –ú–ï–°–¢–ê)

| –§–∞–π–ª | –°—Ç—Ä–æ–∫–∞ | –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –¢–∏–ø | –ö–æ–Ω—Ç–µ–∫—Å—Ç | –ü—Ä–æ–±–ª–µ–º–∞? |
|------|--------|----------|----------|-----|----------|-----------|
| position_manager.py | 156 | rsi_period | 14 | fallback | –ï—Å–ª–∏ –Ω–µ—Ç –≤ —Ä–µ–∂–∏–º–µ | ‚ö†Ô∏è |
| signal_generator.py | 82-108 | rsi_period, rsi_overbought, rsi_oversold | 14, 70, 30 | hardcode | –±–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã | ‚ö†Ô∏è |
| signal_generator.py | 82-108 | macd_fast, macd_slow, macd_signal | 12, 26, 9 | hardcode | –±–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã | ‚ö†Ô∏è |
| signal_generator.py | 82-108 | atr_period, sma_period | 14, 20 | hardcode | –±–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã | ‚ö†Ô∏è |
| signal_generator.py | 82-108 | bb_period, bb_std_multiplier | 20, 2.0 | hardcode | –±–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã | ‚ö†Ô∏è |
| parameter_provider.py | 167-197 | max_holding_minutes | 25.0 (ranging), 120.0 (other) | hardcode-fallback | exit_params | üî¥ –ö–†–ò–¢–ò–ß–ù–´–ô |
| parameter_provider.py | 179 | sl_atr_multiplier | 2.0 | fallback | default, –∑–∞—Ç–µ–º –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω–Ω—ã–π | ‚ö†Ô∏è |
| parameter_provider.py | 186 | tp_atr_multiplier | 1.0 | fallback | default | ‚ö†Ô∏è |
| parameter_provider.py | 190 | min_profit_for_extension | 0.4 | fallback | extension –ø–∞—Ä–∞–º–µ—Ç—Ä—ã | ‚ö†Ô∏è |
| parameter_provider.py | 194 | extension_percent | 100.0 | fallback | extension –ø–∞—Ä–∞–º–µ—Ç—Ä—ã | ‚ö†Ô∏è |
| parameter_provider.py | 200 | min_holding_minutes | 0.5 | fallback | default –¥–ª—è ranging | ‚ö†Ô∏è |
| risk_controller.py | 25 | max_consecutive_losses | 10 | hardcode | –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è | ‚úÖ |
| risk_controller.py | 40 | extended_cooldown_minutes | 15 | hardcode | –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ | ‚ö†Ô∏è |
| risk_controller.py | 36 | daily_profit_target_percent | 5.0 | hardcode | –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è | ‚ö†Ô∏è |
| signal_generator.py | 2155-2160 | correlation_threshold | 0.7 | fallback | –µ—Å–ª–∏ –Ω–µ—Ç –≤ –∫–æ–Ω—Ñ–∏–≥–µ | ‚ö†Ô∏è |
| signal_generator.py | 2177 | adx_threshold | 18.0 | fallback | –±–∞–∑–æ–≤—ã–π | üî¥ –ö–†–ò–¢–ò–ß–ù–´–ô |
| signal_generator.py | 2219-2230 | volatility_pct | 3.0 | hardcode | –ø–æ—Ä–æ–≥ –¥–ª—è CHOPPY —Ä–µ–∂–∏–º–∞ | ‚ö†Ô∏è |
| signal_generator.py | 2293-2307 | –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ RSI –ø–æ—Ä–æ–≥–∏ | 85, 25 | hardcode | –±–∞–∑–æ–≤—ã–µ –¥–ª—è —Ä–µ–∂–∏–º–æ–≤ | ‚ö†Ô∏è |
| signal_generator.py | 3530 | default_risk | 0.01 | hardcode | position_sizer.py | ‚úÖ |
| exit_analyzer.py | 194 | default_regime | "ranging" | fallback | –µ—Å–ª–∏ —Ä–µ–∂–∏–º –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω | üî¥ –ö–†–ò–¢–ò–ß–ù–´–ô |
| config_futures.yaml | 6-35 | adaptive_exit_params | –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π | –ø–∞—Ä–∞–º–µ—Ç—Ä—ã | –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è |
| config_futures.yaml | 99-101 | tp_percent, sl_percent | 5.55, 1.0 | –±–∞–∑–æ–≤—ã–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ | scalping | ‚úÖ |
| config_futures.yaml | 106 | leverage | 5 | –≥–ª–æ–±–∞–ª—å–Ω—ã–π | scalping | ‚úÖ |
| config_futures.yaml | 108 | signal_cooldown_seconds | 30.0 | –≥–ª–æ–±–∞–ª—å–Ω—ã–π | scalping | ‚úÖ |

---

## 2. –ü–£–¢–ò –ü–û–õ–£–ß–ï–ù–ò–Ø –ü–ê–†–ê–ú–ï–¢–†–û–í (–æ—Ç–∫—É–¥–∞ –±–µ—Ä—É—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)

### –ü—É—Ç—å: tp_percent (Take Profit %)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ì–õ–û–ë–ê–õ–¨–ù–´–ô TP_PERCENT (config.scalping.tp_percent = 5.55%)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                         ‚îÇ
        ‚ñº                         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Per-Regime TP%   ‚îÇ    ‚îÇ Per-Symbol TP%   ‚îÇ
‚îÇ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ) ‚îÇ    ‚îÇ (–≤ —Å–∏–º–≤–æ–ª-–ø—Ä–æ—Ñ–∏) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ                         ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ FALLBACK –ì–õ–û–ë–ê–õ–¨–ù–´–ô TP% ‚îÇ
        ‚îÇ    (5.55% –≤—Å–µ–≥–¥–∞!)      ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–ü–†–ò–û–†–ò–¢–ï–¢ –í –ö–û–î–ï:
1. ‚úÖ Per-regime TP (symbol_profiles.{symbol}.{regime}.tp_percent)
2. ‚úÖ Per-symbol TP (symbol_profiles.{symbol}.tp_percent)
3. üî¥ FALLBACK –ì–õ–û–ë–ê–õ–¨–ù–´–ô TP (config.scalping.tp_percent = 5.55%)

–ò–°–¢–û–ß–ù–ò–ö: position_manager._get_adaptive_tp_percent()
```

### –ü—É—Ç—å: sl_percent (Stop Loss %)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ì–õ–û–ë–ê–õ–¨–ù–´–ô SL_PERCENT (config.scalping.sl_percent = 1.0%)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                         ‚îÇ
        ‚ñº                         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Per-Regime SL%   ‚îÇ    ‚îÇ Per-Symbol SL%   ‚îÇ
‚îÇ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ) ‚îÇ    ‚îÇ (–≤ —Å–∏–º–≤–æ–ª-–ø—Ä–æ—Ñ–∏) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ                         ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ FALLBACK –ì–õ–û–ë–ê–õ–¨–ù–´–ô SL% ‚îÇ
        ‚îÇ     (1.0% –≤—Å–µ–≥–¥–∞!)      ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–ü–†–ò–û–†–ò–¢–ï–¢ –í –ö–û–î–ï:
1. ‚úÖ Per-regime SL (symbol_profiles.{symbol}.{regime}.sl_percent)
2. ‚úÖ Per-symbol SL (symbol_profiles.{symbol}.sl_percent)
3. üî¥ FALLBACK –ì–õ–û–ë–ê–õ–¨–ù–´–ô SL (config.scalping.sl_percent = 1.0%)

–ò–°–¢–û–ß–ù–ò–ö: position_manager._get_adaptive_sl_percent()
```

### –ü—É—Ç—å: max_holding_minutes

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ EXIT_PARAMS –ü–û –†–ï–ñ–ò–ú–£ (config.exit_params.{regime})          ‚îÇ
‚îÇ - trending: ? (–ù–ï –ù–ê–ô–î–ï–ù–û –í –ö–û–ù–§–ò–ì–ï)                        ‚îÇ
‚îÇ - ranging: 25.0 –º–∏–Ω—É—Ç                                        ‚îÇ
‚îÇ - choppy: ? (–ù–ï –ù–ê–ô–î–ï–ù–û –í –ö–û–ù–§–ò–ì–ï)                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚ñº                     ‚ñº
   –ö–û–ù–§–ò–ì              FALLBACK HARDCODE
   exit_params         if range: 25.0
                       else: 120.0

üî¥ –ö–†–ò–¢–ò–ß–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê:
- –î–ª—è trending: –±–µ—Ä–µ—Ç—Å—è FALLBACK 120.0 –º–∏–Ω—É—Ç (–ù–ï 15-30!)
- –î–ª—è choppy: –±–µ—Ä–µ—Ç—Å—è FALLBACK 120.0 –º–∏–Ω—É—Ç (–ù–ï 10-15!)
- –¢–æ–ª—å–∫–æ –¥–ª—è ranging: –∫–æ–Ω—Ñ–∏–≥ 25.0 –º–∏–Ω—É—Ç

–ò–°–¢–û–ß–ù–ò–ö: parameter_provider.get_exit_params() —Å—Ç—Ä–æ–∫–∞ 167-197
```

---

## 3. PLACES –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø –ü–ê–†–ê–ú–ï–¢–†–û–í (–≥–¥–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –§—É–Ω–∫—Ü–∏—è | –§–∞–π–ª | –°—Ç—Ä–æ–∫–∞ | –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | –ü—Ä–æ–±–ª–µ–º–∞? |
|----------|---------|------|--------|-----------------|-----------|
| tp_percent | _get_adaptive_tp_percent | position_manager.py | 180-250 | –¢–ü –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–∏ | ‚ö†Ô∏è |
| sl_percent | _get_adaptive_sl_percent | position_manager.py | 260-330 | –°–õ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–∏ | ‚ö†Ô∏è |
| max_holding_minutes | manage_position | position_manager.py | 400+ | –¢–∞–π–º–∞—É—Ç –ø–æ–∑–∏—Ü–∏–∏ | üî¥ |
| allow_long_positions | generate_signals | signal_generator.py | 5768, 6311, 6383 | –§–∏–ª—å—Ç—Ä LONG —Å–∏–≥–Ω–∞–ª–æ–≤ | ‚úÖ |
| allow_short_positions | generate_signals | signal_generator.py | 5765, 6308, 6380 | –§–∏–ª—å—Ç—Ä SHORT —Å–∏–≥–Ω–∞–ª–æ–≤ | ‚úÖ |
| rsi_overbought, rsi_oversold | _generate_rsi_signals | signal_generator.py | 5850+ | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è RSI —Å–∏–≥–Ω–∞–ª–æ–≤ | ‚úÖ |
| macd_fast, macd_slow | _calculate_regime_macd | signal_generator.py | 4600+ | –†–∞—Å—á–µ—Ç MACD | ‚úÖ |
| atr_period | _calculate_regime_atr | signal_generator.py | 4750+ | –†–∞—Å—á–µ—Ç ATR | ‚úÖ |
| leverage | execute_order | order_executor.py | ? | –†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ | ‚úÖ |
| signal_cooldown | coordinate_signals | signal_coordinator.py | ? | –ö—É–ª–¥–∞—É–Ω –º–µ–∂–¥—É —Å–∏–≥–Ω–∞–ª–∞–º–∏ | ‚úÖ |

---

## 4. FALLBACK –õ–û–ì–ò–ö–ò (–≥–¥–µ –º–æ–∂–µ—Ç –Ω–µ –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –∫–æ–Ω—Ñ–∏–≥)

| –§–∞–π–ª | –§—É–Ω–∫—Ü–∏—è | –£—Å–ª–æ–≤–∏–µ FALLBACK | Fallback –∑–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–æ–±–ª–µ–º–∞? |
|------|---------|------------------|-------------------|-----------|
| parameter_provider.py | get_exit_params | `if regime not in config` | {"max_holding": 120.0} | üî¥ –ö–†–ò–¢–ò–ß–ù–´–ô |
| parameter_provider.py | get_exit_params | `if _raw_config_dict is None` | {} (–ø—É—Å—Ç–æ–π dict) | üî¥ –ö–†–ò–¢–ò–ß–ù–´–ô |
| parameter_provider.py | _to_float | `if value is None` | default (0.0) | ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ |
| risk_controller.py | can_trade | `if adaptive_regime is None` | use default max_trades | ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ |
| exit_analyzer.py | _analyze_position_impl | `if regime not in data_registry` | "ranging" (fallback) | üî¥ –ö–†–ò–¢–ò–ß–ù–´–ô |
| exit_analyzer.py | _analyze_position_impl | `if signal_generator is None` | –±–µ—Ä–µ—Ç –∏–∑ metadata | üî¥ –£–°–¢–ê–†–ï–õ–´–ï –î–ê–ù–ù–´–ï |
| signal_generator.py | _get_regime_indicators_params | `if regime_manager is None` | "ranging" (fallback) | üî¥ –ö–†–ò–¢–ò–ß–ù–´–ô |
| signal_generator.py | _generate_base_signals | `if data_registry has no ADX` | r–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —á–µ—Ä–µ–∑ fallback | ‚ö†Ô∏è |
| position_manager.py | _get_adaptive_tp_percent | `if symbol_profiles is empty` | config.scalping.tp_percent | ‚ö†Ô∏è –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ |
| position_manager.py | _get_adaptive_tp_percent | `if regime is None` | –ù–ï –≤—ã—á–∏—Å–ª—è–µ—Ç ATR-based TP | üî¥ –ö–†–ò–¢–ò–ß–ù–´–ô |

---

## 5. –ü–†–û–ë–õ–ï–ú–ù–´–ï –ü–ï–†–ï–°–ï–ß–ï–ù–ò–Ø (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Ä–∞–∑–Ω—ã—Ö –º–æ–¥—É–ª—è—Ö)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ú–æ–¥—É–ª—å 1 | –ú–æ–¥—É–ª—å 2 | –ú–æ–¥—É–ª—å 3 | –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã? | –†–µ—à–µ–Ω–∏–µ |
|----------|----------|----------|----------|-----------|---------|
| rsi_overbought | signal_generator | exit_analyzer | risk_controller | ‚ö†Ô∏è –†–∞–∑–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ | –ù–û–†–ú–ê–õ–¨–ù–û |
| tp_percent | config | position_manager | parameter_provider | üî¥ –ü—É—Ç–∞–Ω–∏—Ü–∞ —Å ATR-based | –ù–ï–û–ë–•–û–î–ò–ú–û –£–ù–ò–§–ò–¶–ò–†–û–í–ê–¢–¨ |
| sl_percent | config | position_manager | parameter_provider | üî¥ –ü—É—Ç–∞–Ω–∏—Ü–∞ —Å ATR-based | –ù–ï–û–ë–•–û–î–ò–ú–û –£–ù–ò–§–ò–¶–ò–†–û–í–ê–¢–¨ |
| max_holding_minutes | config | position_manager | exit_analyzer | üî¥ FALLBACK –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è | –ö–†–ò–¢–ò–ß–ù–´–ô –ë–ê–ì–ï |
| allow_long_positions | config | signal_generator | order_executor | ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ | –û–ö |
| allow_short_positions | config | signal_generator | order_executor | ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ | –û–ö |
| leverage | config | order_executor | margin_calculator | ‚úÖ –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ | –û–ö |
| atr_period | config (per-symbol) | indicator_manager | signal_generator | ‚ö†Ô∏è Per-symbol override | –û–ö, –Ω–æ —Å–ª–æ–∂–Ω–æ |

---

## 6. –ü–û–ß–ï–ú–£ –¢–û–õ–¨–ö–û SHORT –ü–û–ó–ò–¶–ò–ò?

### –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–∏–∫–∏ LONG –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫

| –°—Ç—Ä–æ–∫–∞ | –£—Å–ª–æ–≤–∏–µ | –†–µ–∑—É–ª—å—Ç–∞—Ç | –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏–µ |
|--------|---------|-----------|-------------|
| signal_generator.py:5770-5779 | `if signal_side == "sell" and not allow_short` | –õ–û–ì–ò–†–£–ï–ú –∏ –ù–ï –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º SHORT | ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ |
| signal_generator.py:5776-5779 | `if signal_side == "buy" and not allow_long` | –õ–û–ì–ò–†–£–ï–ú –∏ –ù–ï –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º LONG | ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ |
| position_manager.py:180-250 | `_get_adaptive_tp_percent()` | –ú–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å NONE –¥–ª—è LONG | üî¥ –ë–ê–ì–ï! |
| exit_analyzer.py:820-850 | LONG —Å–∏–≥–Ω–∞–ª—ã –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –≤ rangng? | ? | ? |

### –ü—Ä–æ–≤–µ—Ä–∫–∞ allow_long_positions –≤ –∫–æ–Ω—Ñ–∏–≥–µ

```yaml
config_futures.yaml:
  scalping:
    allow_long_positions: true   # ‚úÖ –†–ê–ó–†–ï–®–ï–ù–´
    allow_short_positions: true  # ‚úÖ –†–ê–ó–†–ï–®–ï–ù–´
```

**–í–û–¢ –ö–†–ò–¢–ò–ß–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê:**

1. **signal_generator.py —Å—Ç—Ä–æ–∫–∏ 2780-2900** —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é **SHORT —Å–∏–≥–Ω–∞–ª–æ–≤**:
   - –£—Å–ª–æ–≤–∏–µ 1: `rsi > 75 + macd < signal + adx bearish` ‚Üí SHORT
   - –£—Å–ª–æ–≤–∏–µ 2: `adx_trend == "bearish" and adx >= threshold` ‚Üí SHORT
   
2. **–ù–ï –°–£–©–ï–°–¢–í–£–ï–¢** –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π –ª–æ–≥–∏–∫–∏ –¥–ª—è LONG:
   - –ù–µ—Ç —É—Å–ª–æ–≤–∏—è: `rsi < 25 + macd > signal + adx bullish` ‚Üí LONG
   - –ù–µ—Ç —É—Å–ª–æ–≤–∏—è: `adx_trend == "bullish" and adx >= threshold` ‚Üí LONG

3. **RSI_OVERSOLD –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è:**
   - –í `_generate_rsi_signals()` —Å—Ç—Ä–æ–∫–∞ 5920-5980 —Å–∏–≥–Ω–∞–ª –ü–û–õ–ù–û–°–¢–¨–Æ –ë–õ–û–ö–ò–†–£–ï–¢–°–Ø –µ—Å–ª–∏ –µ—Å—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç EMA
   - –£—Å–ª–æ–≤–∏–µ: `if is_downtrend: should_block_rsi_oversold = True`
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: **–î–û–õ–ì–ò–ï –ü–ï–†–ò–û–î–´ –ë–ï–ó LONG –°–ò–ì–ù–ê–õ–û–í**

### –¢–∞–±–ª–∏—Ü–∞: –ì–¥–µ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è LONG —Å–∏–≥–Ω–∞–ª—ã

| –¢–∏–ø —Å–∏–≥–Ω–∞–ª–∞ | –£—Å–ª–æ–≤–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ | –§–∞–π–ª | –°—Ç—Ä–æ–∫–∞ | –°—Ç–∞—Ç—É—Å |
|-------------|-------------------|------|--------|--------|
| RSI OVERSOLD | `is_downtrend (EMA_12 < EMA_26)` | signal_generator.py | 5920 | üî¥ –í–°–ï–ì–î–ê –ë–õ–û–ö–ò–†–£–ï–¢–°–Ø |
| MACD BULLISH | `is_downtrend` | signal_generator.py | 6000 | üî¥ –í–°–ï–ì–î–ê –ë–õ–û–ö–ò–†–£–ï–¢–°–Ø |
| MACD BULLISH | `adx >= 20 and adx_trend == "bearish"` | signal_generator.py | 6010 | üî¥ –í–°–ï–ì–î–ê –ë–õ–û–ö–ò–†–£–ï–¢–°–Ø |
| BB OVERSOLD | `is_downtrend` | signal_generator.py | 6140 | üî¥ –í–°–ï–ì–î–ê –ë–õ–û–ö–ò–†–£–ï–¢–°–Ø |
| MA CROSS | Not implemented | signal_generator.py | 6400+ | ‚ö†Ô∏è –û–¢–°–£–¢–°–¢–í–£–ï–¢ |

### –í—ã–≤–æ–¥: –ì–ï–ù–ï–†–ò–†–£–Æ–¢–°–Ø –¢–û–õ–¨–ö–û SHORT –°–ò–ì–ù–ê–õ–´ –ü–û–¢–û–ú–£ –ß–¢–û:

1. ‚úÖ **SHORT —Å–∏–≥–Ω–∞–ª—ã –∏–º–µ—é—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É** (—Å—Ç—Ä–æ–∫–∏ 2780-2900 –≤ signal_generator.py)
2. üî¥ **LONG —Å–∏–≥–Ω–∞–ª—ã –í–°–ï–ì–î–ê –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è** –ø—Ä–∏ –ø—Ä–æ—Å—Ç–æ–º —É—Å–ª–æ–≤–∏–∏ `is_downtrend`
3. üî¥ **–õ–æ–≥–∏–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ LONG —Å–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∞—è** - —Ç—Ä–µ–±—É–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è EMA –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞
4. üî¥ **SHORT —Å–∏–≥–Ω–∞–ª–∞–º –Ω–µ –Ω—É–∂–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ —Ç–∞–∫—É—é –∂–µ—Å—Ç–∫—É—é —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é**

---

## 7. –ö–†–ò–¢–ò–ß–ù–´–ï –ë–ê–ì–ò –ò –ü–†–û–ë–õ–ï–ú–´

### üî¥ –ë–ê–ì #1: max_holding_minutes FALLBACK –Ω–∞ 120 –º–∏–Ω—É—Ç

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
# parameter_provider.py —Å—Ç—Ä–æ–∫–∞ 167-197
exit_params["max_holding_minutes"] = _to_float(
    exit_params.get("max_holding_minutes"),
    "max_holding_minutes",
    25.0 if regime and regime.lower() == "ranging" else 120.0,  # üî¥ FALLBACK!
)
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏–µ:**
- –î–ª—è `trending` —Ä–µ–∂–∏–º–∞: `max_holding = 120.0` –º–∏–Ω—É—Ç (–ß–¢–û?!)
- –î–ª—è `choppy` —Ä–µ–∂–∏–º–∞: `max_holding = 120.0` –º–∏–Ω—É—Ç (–ß–¢–û?!)
- –¢–æ–ª—å–∫–æ –¥–ª—è `ranging`: `25.0` –º–∏–Ω—É—Ç –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –≤ `config_futures.yaml`:
```yaml
exit_params:
  trending:
    max_holding_minutes: 15
  choppy:
    max_holding_minutes: 10
```

### üî¥ –ë–ê–ì #2: –†–µ–∂–∏–º FALLBACK –Ω–∞ "ranging" –≤–µ–∑–¥–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** –í 8 –º–µ—Å—Ç–∞—Ö –≤ –∫–æ–¥–µ:
```python
regime = "ranging"  # Fallback
```

–ï—Å–ª–∏ `RegimeManager` –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –∏–ª–∏ `DataRegistry` –Ω–µ—Ç - **–í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ranging —Ä–µ–∂–∏–º**.

**–ü—Ä–æ–±–ª–µ–º–∞ —Å ranging —Ä–µ–∂–∏–º–æ–º:**
- `min_score_threshold: 1.8` (—Å–ª–∞–±—ã–π —Ñ–∏–ª—å—Ç—Ä)
- `max_trades_per_hour: 15` (–º–Ω–æ–≥–æ —Å–¥–µ–ª–æ–∫)
- `tp_atr_multiplier: 2.5` (–º–∞–ª–µ–Ω—å–∫–∏–π TP)
- `sl_atr_multiplier: 3.5` (–±–æ–ª—å—à–æ–π SL)

**–†–µ—à–µ–Ω–∏–µ:** –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é `RegimeManager` –∏–ª–∏ –≤—ã–±—Ä–∞—Ç—å –±–æ–ª–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π fallback.

### üî¥ –ë–ê–ì #3: ATR=0.0 –≤—ã–∑—ã–≤–∞–µ—Ç –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å

**–ü—Ä–æ–±–ª–µ–º–∞:** –°—Ç—Ä–æ–∫–∏ –≤ `signal_generator.py`:
```python
if atr_val == 0 or atr_val is None:
    logger.error("ATR –Ω–µ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω")
    return []  # üî¥ –°–ò–ì–ù–ê–õ–´ –ù–ï –ì–ï–ù–ï–†–ò–†–£–Æ–¢–°–Ø!
```

–ï—Å–ª–∏ ATR —Ä–∞–≤–µ–Ω 0 –ø–æ –ª—é–±–æ–π –ø—Ä–∏—á–∏–Ω–µ (–Ω–µ—Ç —Å–≤–µ—á–µ–π, –æ—à–∏–±–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –∏ —Ç.–¥.) - **–ë–û–¢ –ù–ï –†–ê–ë–û–¢–ê–ï–¢**.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å default ATR value –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ –∏–ª–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

### üî¥ –ë–ê–ì #4: TP_PERCENT –∏ SL_PERCENT –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** 
1. –í `config_futures.yaml` –µ—Å—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ `tp_percent: 5.55%` –∏ `sl_percent: 1.0%`
2. –í `position_manager.py` –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è `_get_adaptive_tp_percent()` –∫–æ—Ç–æ—Ä–∞—è –∏—Ö –ø–æ–ª—É—á–∞–µ—Ç
3. **–ù–û:** –§—É–Ω–∫—Ü–∏—è –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö!

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –ì–¥–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `_get_adaptive_tp_percent()`?
- ‚úÖ –í `take_profit_manager.py` (–≤–æ–∑–º–æ–∂–Ω–æ)
- ‚ùì –í `order_executor.py`? –ù–ï –ù–ê–ô–î–ï–ù–û
- ‚ùì –í `exit_analyzer.py`? –ù–ï –ù–ê–ô–î–ï–ù–û

**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ `_get_adaptive_tp_percent()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ü–ï–†–ï–î —Ä–∞—Å—á–µ—Ç–æ–º TP —Ü–µ–Ω—ã.

### üî¥ –ë–ê–ì #5: Per-Symbol –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º

**–ü—Ä–æ–±–ª–µ–º–∞:** –í `config_futures.yaml` –µ—Å—Ç—å:
```yaml
by_symbol:
  ETH-USDT:
    indicators:
      rsi_overbought: 78
      atr_period: 5  # –î–ª—è DOGE-USDT
  DOGE-USDT:
    indicators:
      atr_period: 5
```

**–ù–æ:** –í `signal_generator.py` —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã **–ù–ï –ò–°–ü–û–õ–¨–ó–£–Æ–¢–°–Ø** –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤!

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è **–±–∞–∑–æ–≤—ã–µ –ø–µ—Ä–∏–æ–¥—ã:**
```python
rsi_period = 14  # –í—Å–µ–≥–¥–∞, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç per-symbol –∫–æ–Ω—Ñ–∏–≥–∞!
atr_period = 14  # –í—Å–µ–≥–¥–∞, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç per-symbol –∫–æ–Ω—Ñ–∏–≥–∞!
```

**–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å `by_symbol` –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —Å–∏–≥–Ω–∞–ª–æ–≤.

---

## 8. RECOMMENDATIONS

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö–†–ò–¢–ò–ß–ù–´–ï):

1. **–î–æ–±–∞–≤–∏—Ç—å exit_params –¥–ª—è –≤—Å–µ—Ö —Ä–µ–∂–∏–º–æ–≤** –≤ `config_futures.yaml`:
   - `trending.max_holding_minutes: 15`
   - `choppy.max_holding_minutes: 10`

2. **–£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ RegimeManager –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω** –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —Å–∏–≥–Ω–∞–ª–æ–≤:
   - –ò–Ω–∞—á–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π fallback (trending, –Ω–µ ranging)

3. **–î–æ–±–∞–≤–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç ATR=0.0** –≤ —Å–∏–≥–Ω–∞–ª—ã:
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–µ —Å—Ä–µ–¥–Ω–µ–µ ATR
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å default ATR –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞

4. **–í—ã–∑–≤–∞—Ç—å `_get_adaptive_tp_percent()` –≤–µ–∑–¥–µ –≥–¥–µ –Ω—É–∂–Ω–æ TP**:
   - –í `order_executor.py`
   - –í `take_profit_manager.py`
   - –í `exit_analyzer.py`

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–ê–ñ–ù–´–ï):

5. **–ü—Ä–∏–º–µ–Ω—è—Ç—å per-symbol –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤**:
   - –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å RSI, ATR, MACD —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–µ—Ä–∏–æ–¥–∞–º–∏

6. **–î–æ–±–∞–≤–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é LONG —Å–∏–≥–Ω–∞–ª–æ–≤ –ø–æ ADX**:
   - `adx_trend == "bullish" and adx >= 20` ‚Üí LONG —Å–∏–≥–Ω–∞–ª
   - –ü–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å SHORT –ª–æ–≥–∏–∫–æ–π

7. **–û—Å–ª–∞–±–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É LONG —Å–∏–≥–Ω–∞–ª–æ–≤**:
   - –ù–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ EMA
   - –°–Ω–∏–∂–∞—Ç—å strength –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò):

8. **–£–±—Ä–∞—Ç—å hardcoded –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** –∏–∑ –º–µ—Ç–æ–¥–æ–≤
9. **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É TP/SL** –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
10. **–î–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

---

## 9. SUMMARY –¢–ê–ë–õ–ò–¶–ê

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ò—Å—Ç–æ—á–Ω–∏–∫ | –¢–∏–ø | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–±–ª–µ–º—ã | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|----------|----------|-----|--------|----------|--------------|
| tp_percent | config_futures.yaml | –≥–ª–æ–±–∞–ª—å–Ω—ã–π | ‚úÖ | –º–æ–∂–µ—Ç –Ω–µ –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è | –í—ã–∑—ã–≤–∞—Ç—å _get_adaptive_tp_percent –≤–µ–∑–¥–µ |
| sl_percent | config_futures.yaml | –≥–ª–æ–±–∞–ª—å–Ω—ã–π | ‚úÖ | –º–æ–∂–µ—Ç –Ω–µ –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è | –í—ã–∑—ã–≤–∞—Ç—å _get_adaptive_sl_percent –≤–µ–∑–¥–µ |
| max_holding_minutes | config_futures.yaml | –ø–æ —Ä–µ–∂–∏–º–∞–º | üî¥ | fallback 120 –¥–ª—è trend/choppy | –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –∫–æ–Ω—Ñ–∏–≥ |
| allow_long_positions | config_futures.yaml | –≥–ª–æ–±–∞–ª—å–Ω—ã–π | ‚úÖ | LONG –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –≤—Å—è –≤—Ä–µ–º—è | –û—Å–ª–∞–±–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É EMA |
| allow_short_positions | config_futures.yaml | –≥–ª–æ–±–∞–ª—å–Ω—ã–π | ‚úÖ | —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ SHORT | –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –±–∞–ª–∞–Ω—Å |
| rsi_overbought/oversold | config_futures.yaml | –ø–æ —Ä–µ–∂–∏–º–∞–º | ‚úÖ | –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ | —Ö–æ—Ä–æ—à–æ |
| atr_period | config_futures.yaml | per-symbol | ‚úÖ | –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ –∫–æ–¥–µ | –ü—Ä–∏–º–µ–Ω—è—Ç—å –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ ATR |
| leverage | config_futures.yaml | –≥–ª–æ–±–∞–ª—å–Ω—ã–π | ‚úÖ | –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ | —Ö–æ—Ä–æ—à–æ |
| signal_cooldown | config_futures.yaml | –≥–ª–æ–±–∞–ª—å–Ω—ã–π | ‚úÖ | 30 —Å–µ–∫ | —Ö–æ—Ä–æ—à–æ |
| min_signal_strength | config_futures.yaml | –ø–æ —Ä–µ–∂–∏–º–∞–º | ‚úÖ | 0.65-0.55 | —Ö–æ—Ä–æ—à–æ |

---

## üìä –ò–¢–û–ì–ò

- **–í—Å–µ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ:** 40+
- **Hardcoded –∑–Ω–∞—á–µ–Ω–∏–π –Ω–∞–π–¥–µ–Ω–æ:** 18
- **Fallback –ª–æ–≥–∏–∫ –Ω–∞–π–¥–µ–Ω–æ:** 10
- **–ö—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º:** 5
- **–ö–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏:** 2 (tp_percent, max_holding_minutes)
- **–ü—Ä–∏—á–∏–Ω–∞ —Ç–æ–ª—å–∫–æ SHORT –ø–æ–∑–∏—Ü–∏–π:** –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ SHORT + –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ LONG

**–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:** üî¥ –¢–†–ï–ë–£–ï–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

