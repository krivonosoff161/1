# üö® –ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô –ö–†–ò–¢–ò–ß–ï–°–ö–ò–• –ü–†–û–ë–õ–ï–ú –ü–ê–†–ê–ú–ï–¢–†–û–í

## üìä –ê–ù–ê–õ–ò–ó –ö–ê–ñ–î–û–ô –ü–†–û–ë–õ–ï–ú–´ –ò –ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

---

## ‚ùå –ü–†–û–ë–õ–ï–ú–ê #1: EMA –ü–ï–†–ò–û–î–´ –ù–ï –ê–î–ê–ü–¢–ò–†–£–Æ–¢–°–Ø

### –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã EMA —Å–æ–∑–¥–∞—é—Ç—Å—è –û–î–ò–ù –†–ê–ó –≤ `__init__` —Å –ø–µ—Ä–∏–æ–¥–∞–º–∏ 12/26
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `indicators.get("ema_12")` –∏ `indicators.get("ema_26")`
- –í –∫–æ–Ω—Ñ–∏–≥–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞ —É–∫–∞–∑–∞–Ω—ã –î–†–£–ì–ò–ï –ø–µ—Ä–∏–æ–¥—ã, –Ω–æ –æ–Ω–∏ –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è!

**–†–µ–∂–∏–º—ã:**
- trending: ema_fast: 8, ema_slow: 21
- ranging: ema_fast: 10, ema_slow: 25
- choppy: ema_fast: 12, ema_slow: 30

### –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Ç–æ—Ä–≥–æ–≤–ª—é:
- ‚ùå **–ö–†–ò–¢–ò–ß–ù–û**: –í—Å–µ MA —Å–∏–≥–Ω–∞–ª—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å –ù–ï–ü–†–ê–í–ò–õ–¨–ù–´–ú–ò EMA –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- –î–ª—è trending –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 8/21 (–±—ã—Å—Ç—Ä–µ–µ —Ä–µ–∞–∫—Ü–∏—è), –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 12/26 (–º–µ–¥–ª–µ–Ω–Ω–µ–µ)
- –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –ó–ê–î–ï–†–ñ–ö–£ –≤ —Å–∏–≥–Ω–∞–ª–∞—Ö –∏ –ù–ï–¢–û–ß–ù–û–°–¢–¨ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ —Ç—Ä–µ–Ω–¥–∞

### –†–µ—à–µ–Ω–∏–µ (–í–ê–†–ò–ê–ù–¢ 2 - –õ–£–ß–®–ò–ô):
**–ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å EMA –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–æ–≤**

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å IndicatorManager (—Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å TA-Lib)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞
- ‚úÖ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å IndicatorCalculator –∏–ª–∏ –ø—Ä—è–º–æ–π —Ä–∞—Å—á–µ—Ç EMA

**–ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
1. –í `_generate_ma_signals` –∏ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è EMA:
   - –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∂–∏–º-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã —á–µ—Ä–µ–∑ `_get_regime_indicators_params`
   - –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å EMA —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–µ—Ä–∏–æ–¥–∞–º–∏ –∏–∑ market_data.ohlcv_data
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ `indicators.get("ema_12")`

2. –°–æ–∑–¥–∞—Ç—å –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ `_calculate_regime_ema(period, candles)`:
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å IndicatorCalculator –∏–ª–∏ –ø—Ä—è–º–æ–π —Ä–∞—Å—á–µ—Ç EMA
   - –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –∫–ª—é—á—É (period, last_candle_time)

3. –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `indicators.get("ema_12")` –∏ `indicators.get("ema_26")`:
   - –í `_generate_ma_signals`
   - –í `_generate_rsi_signals` (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç—Ä–µ–Ω–¥–∞)
   - –í `_generate_bollinger_signals` (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç—Ä–µ–Ω–¥–∞)
   - –í `_generate_macd_signals` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

**–ü—Ä–æ–≥–Ω–æ–∑ –≤–ª–∏—è–Ω–∏—è:**
- ‚úÖ **–ü–û–õ–û–ñ–ò–¢–ï–õ–¨–ù–û–ï**: –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞
- ‚úÖ **–ü–û–õ–û–ñ–ò–¢–ï–õ–¨–ù–û–ï**: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ —Ç—Ä–µ–Ω–¥ (–±—ã—Å—Ç—Ä–µ–µ –¥–ª—è trending)
- ‚ö†Ô∏è **–ù–ï–ô–¢–†–ê–õ–¨–ù–û–ï**: –ù–µ–±–æ–ª—å—à–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–ø–µ—Ä–µ—Å—á–µ—Ç EMA), –Ω–æ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ (EMA –±—ã—Å—Ç—Ä—ã–π —Ä–∞—Å—á–µ—Ç)
- ‚úÖ **–û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢**: +20-30% –±–æ–ª—å—à–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤, –º–µ–Ω—å—à–µ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π

---

## ‚ùå –ü–†–û–ë–õ–ï–ú–ê #2: RSI PERIOD –ó–ê–•–ê–†–î–ö–û–ñ–ï–ù

### –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:
- RSI period –≤—Å–µ–≥–¥–∞ 14 (–∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω –≤ `__init__`)
- –ü–æ—Ä–æ–≥–∏ (overbought/oversold) –±–µ—Ä—É—Ç—Å—è –∏–∑ —Ä–µ–∂–∏–º–∞ —á–µ—Ä–µ–∑ `_get_regime_indicators_params` ‚úÖ
- –ù–û –ø–µ—Ä–∏–æ–¥ –Ω–µ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ —Ä–µ–∂–∏–º

### –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Ç–æ—Ä–≥–æ–≤–ª—é:
- ‚ö†Ô∏è **–°–†–ï–î–ù–ï–ï**: RSI period=14 - —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç, –Ω–æ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã
- –î–ª—è trending: –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å period=9 (–±—ã—Å—Ç—Ä–µ–µ —Ä–µ–∞–∫—Ü–∏—è)
- –î–ª—è ranging: period=14 (—Å—Ç–∞–Ω–¥–∞—Ä—Ç)
- –î–ª—è choppy: period=21 (–º–µ–Ω—å—à–µ —à—É–º–∞)

### –†–µ—à–µ–Ω–∏–µ:
**–°–æ–∑–¥–∞–≤–∞—Ç—å RSI –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∞–¥–∞–ø—Ç–∏–≤–Ω–æ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–æ–≤**

**–ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
1. –í `_generate_rsi_signals`:
   - –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∂–∏–º-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –ø–µ—Ä–∏–æ–¥ —á–µ—Ä–µ–∑ `_get_regime_indicators_params`
   - –ï—Å–ª–∏ –ø–µ—Ä–∏–æ–¥ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –±–∞–∑–æ–≤–æ–≥–æ, –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å RSI —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø–µ—Ä–∏–æ–¥–æ–º
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å IndicatorCalculator.calculate_rsi(period) –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤—Ä–µ–º–µ–Ω–Ω–æ

2. –î–æ–±–∞–≤–∏—Ç—å `rsi_period` –≤ –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ—Ç)

**–ü—Ä–æ–≥–Ω–æ–∑ –≤–ª–∏—è–Ω–∏—è:**
- ‚úÖ **–ü–û–õ–û–ñ–ò–¢–ï–õ–¨–ù–û–ï**: –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ RSI —Å–∏–≥–Ω–∞–ª—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞
- ‚ö†Ô∏è **–ù–ï–ô–¢–†–ê–õ–¨–ù–û–ï**: –ù–µ–±–æ–ª—å—à–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–Ω–æ RSI —É–∂–µ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è)
- ‚úÖ **–û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢**: +5-10% –±–æ–ª—å—à–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö RSI —Å–∏–≥–Ω–∞–ª–æ–≤

---

## ‚ùå –ü–†–û–ë–õ–ï–ú–ê #3: MACD –ü–ê–†–ê–ú–ï–¢–†–´ –ó–ê–•–ê–†–î–ö–û–ñ–ï–ù–´

### –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:
- MACD –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 12/26/9 (–∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–æ –≤ `__init__`)
- –ù–µ—Ç –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –ø–æ–¥ —Ä–µ–∂–∏–º –∏ –ø–∞—Ä—ã

### –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Ç–æ—Ä–≥–æ–≤–ª—é:
- ‚ö†Ô∏è **–°–†–ï–î–ù–ï–ï**: MACD 12/26/9 - —Å—Ç–∞–Ω–¥–∞—Ä—Ç, –Ω–æ –¥–ª—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞ –º–æ–≥—É—Ç –±—ã—Ç—å –¥—Ä—É–≥–∏–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –î–ª—è trending: –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 8/21/5 (–±—ã—Å—Ç—Ä–µ–µ)
- –î–ª—è ranging: 12/26/9 (—Å—Ç–∞–Ω–¥–∞—Ä—Ç)
- –î–ª—è choppy: 13/30/9 (–º–µ–Ω—å—à–µ —à—É–º–∞)

### –†–µ—à–µ–Ω–∏–µ:
**–°–æ–∑–¥–∞–≤–∞—Ç—å MACD –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∞–¥–∞–ø—Ç–∏–≤–Ω–æ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–æ–≤**

**–ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
1. –í `MACDSignalGenerator.generate_signals` –∏–ª–∏ `_generate_macd_signals`:
   - –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∂–∏–º-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑ `_get_regime_indicators_params`
   - –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ç–ª–∏—á–∞—é—Ç—Å—è, —Å–æ–∑–¥–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π MACD –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
   - –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å MACD —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

2. –î–æ–±–∞–≤–∏—Ç—å `macd_fast`, `macd_slow`, `macd_signal` –≤ –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞

**–ü—Ä–æ–≥–Ω–æ–∑ –≤–ª–∏—è–Ω–∏—è:**
- ‚úÖ **–ü–û–õ–û–ñ–ò–¢–ï–õ–¨–ù–û–ï**: –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ MACD —Å–∏–≥–Ω–∞–ª—ã
- ‚ö†Ô∏è **–ù–ï–ô–¢–†–ê–õ–¨–ù–û–ï**: –ù–µ–±–æ–ª—å—à–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ **–û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢**: +5-10% –±–æ–ª—å—à–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö MACD —Å–∏–≥–Ω–∞–ª–æ–≤

---

## ‚ùå –ü–†–û–ë–õ–ï–ú–ê #4: BOLLINGER BANDS –ó–ê–•–ê–†–î–ö–û–ñ–ï–ù–´ (–ë–õ–û–ö–ò–†–£–ï–¢ 70% –°–ò–ì–ù–ê–õ–û–í!)

### –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:
- Bollinger Bands –≤—Å–µ–≥–¥–∞ period=20, std=2.0 (–∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–æ)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç —á—Ç–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç 70% —Å–∏–≥–Ω–∞–ª–æ–≤!

### –ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
- Bollinger Bands —Å–∏–≥–Ω–∞–ª—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤ `_generate_bollinger_signals`
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è: `current_price <= lower` (oversold) –∏–ª–∏ `current_price >= upper` (overbought)
- –¢–∞–∫–∂–µ –µ—Å—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ —Å EMA —Ç—Ä–µ–Ω–¥–æ–º –∏ ADX

### –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Ç–æ—Ä–≥–æ–≤–ª—é:
- ‚ùå **–ö–†–ò–¢–ò–ß–ù–û**: –ï—Å–ª–∏ BB –±–ª–æ–∫–∏—Ä—É–µ—Ç 70% —Å–∏–≥–Ω–∞–ª–æ–≤, —ç—Ç–æ –û–ì–†–û–ú–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê
- Period=20 –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º —à–∏—Ä–æ–∫–∏–º –¥–ª—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞
- Std=2.0 –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–º (—Å—Ç–∞–Ω–¥–∞—Ä—Ç 2.0, –Ω–æ –¥–ª—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–∞ –º–æ–∂–Ω–æ 1.5)

### –†–µ—à–µ–Ω–∏–µ:
**–ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å BB –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥ —Ä–µ–∂–∏–º**

**–ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
1. –í `_generate_bollinger_signals`:
   - –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∂–∏–º-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑ `_get_regime_indicators_params`
   - –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å Bollinger Bands —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏–∑ market_data.ohlcv_data
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å IndicatorCalculator –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä

2. –î–æ–±–∞–≤–∏—Ç—å `bb_period` –∏ `bb_std_multiplier` –≤ –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞:
   - trending: period=15, std=1.5 (–±–æ–ª–µ–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π)
   - ranging: period=20, std=2.0 (—Å—Ç–∞–Ω–¥–∞—Ä—Ç)
   - choppy: period=25, std=2.5 (–º–µ–Ω—å—à–µ –ª–æ–∂–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤)

**–ü—Ä–æ–≥–Ω–æ–∑ –≤–ª–∏—è–Ω–∏—è:**
- ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û –ü–û–õ–û–ñ–ò–¢–ï–õ–¨–ù–û–ï**: –ï—Å–ª–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç 70% —Å–∏–≥–Ω–∞–ª–æ–≤, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞—Å—Ç –û–ì–†–û–ú–ù–´–ô —ç—Ñ—Ñ–µ–∫—Ç
- ‚úÖ **–û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢**: +50-100% –±–æ–ª—å—à–µ BB —Å–∏–≥–Ω–∞–ª–æ–≤ (–µ—Å–ª–∏ —Å–µ–π—á–∞—Å –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è 70%)

---

## ‚ùå –ü–†–û–ë–õ–ï–ú–ê #5: ATR PERIOD –ó–ê–•–ê–†–î–ö–û–ñ–ï–ù

### –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:
- ATR –≤—Å–µ–≥–¥–∞ period=14 (–∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–æ)
- –í –∫–æ–Ω—Ñ–∏–≥–µ –¥–ª—è choppy —É–∫–∞–∑–∞–Ω–æ atr_period: 20, –Ω–æ –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è!

### –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Ç–æ—Ä–≥–æ–≤–ª—é:
- ‚ö†Ô∏è **–°–†–ï–î–ù–ï–ï**: ATR –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ TP/SL –∏ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
- –î–ª—è choppy —É–∫–∞–∑–∞–Ω period=20 (–±–æ–ª—å—à–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è), –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 14
- –≠—Ç–æ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞—Å—á–µ—Ç—ã –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ TP/SL

### –†–µ—à–µ–Ω–∏–µ:
**–ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å ATR period –ø–æ–¥ —Ä–µ–∂–∏–º**

**–ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
1. –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∂–∏–º-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –ø–µ—Ä–∏–æ–¥ —á–µ—Ä–µ–∑ `_get_regime_indicators_params`
2. –ï—Å–ª–∏ –ø–µ—Ä–∏–æ–¥ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è, –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å ATR —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø–µ—Ä–∏–æ–¥–æ–º
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ —Ä–∞—Å—á–µ—Ç–∞—Ö

**–ü—Ä–æ–≥–Ω–æ–∑ –≤–ª–∏—è–Ω–∏—è:**
- ‚úÖ **–ü–û–õ–û–ñ–ò–¢–ï–õ–¨–ù–û–ï**: –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ TP/SL
- ‚úÖ **–û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢**: +5-10% —É–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ TP/SL

---

## ‚ùå –ü–†–û–ë–õ–ï–ú–ê #6: min_ma_difference_pct - –ù–ï –ù–ê–°–¢–†–û–ô–ö–ò

### –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç "—ç—Ç–æ –ø–∏–∑–¥–µ—Ü –∞ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"
- min_ma_difference_pct –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `_generate_ma_signals`
- –ó–Ω–∞—á–µ–Ω–∏—è –≤ –∫–æ–Ω—Ñ–∏–≥–µ:
  - trending: 0.1% (0.001)
  - ranging: 0.002% (0.00002)
  - choppy: 0.03% (0.0003)

### –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã:
- –ü—Ä–æ–±–ª–µ–º–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ —Ç–æ–º, —á—Ç–æ min_ma_difference_pct —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —Å `ma_difference_pct`
- `ma_difference_pct` —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫: `abs(ma_fast - ma_slow) / ma_slow * 100`
- –ù–æ –µ—Å–ª–∏ EMA —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Å –ù–ï–ü–†–ê–í–ò–õ–¨–ù–´–ú–ò –ø–µ—Ä–∏–æ–¥–∞–º–∏, —Ç–æ —Ä–∞–∑–Ω–∏—Ü–∞ —Ç–æ–∂–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è!

### –í–ª–∏—è–Ω–∏–µ:
- ‚ùå **–ö–†–ò–¢–ò–ß–ù–û**: –ï—Å–ª–∏ EMA –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ, —Ç–æ min_ma_difference_pct —Ç–æ–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è EMA –ø–µ—Ä–∏–æ–¥–æ–≤, min_ma_difference_pct –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –†–µ—à–µ–Ω–∏–µ:
**–ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è EMA –ø–µ—Ä–∏–æ–¥–æ–≤**

---

## üìã –ü–†–ò–û–†–ò–¢–ò–ó–ò–†–û–í–ê–ù–ù–´–ô –ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

### –§–ê–ó–ê 1: –ö–†–ò–¢–ò–ß–ù–û (–¥–µ–ª–∞—Ç—å –°–†–û–ß–ù–û)
1. ‚úÖ **EMA –ø–µ—Ä–∏–æ–¥—ã** - –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
2. ‚úÖ **Bollinger Bands** - –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–±–ª–æ–∫–∏—Ä—É–µ—Ç 70%!)

### –§–ê–ó–ê 2: –í–ê–ñ–ù–û (–¥–µ–ª–∞—Ç—å —Å–ª–µ–¥–æ–º)
3. ‚úÖ **ATR period** - –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ —Ä–µ–∂–∏–º
4. ‚úÖ **RSI period** - –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ —Ä–µ–∂–∏–º

### –§–ê–ó–ê 3: –ñ–ï–õ–ê–¢–ï–õ–¨–ù–û
5. ‚úÖ **MACD –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** - –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ —Ä–µ–∂–∏–º

---

## üéØ –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

### –ü–æ—Å–ª–µ –§–ê–ó–´ 1:
- ‚úÖ **+50-100% –±–æ–ª—å—à–µ BB —Å–∏–≥–Ω–∞–ª–æ–≤** (–µ—Å–ª–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–æ—Å—å 70%)
- ‚úÖ **+20-30% –±–æ–ª—å—à–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö MA —Å–∏–≥–Ω–∞–ª–æ–≤** (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ EMA –ø–µ—Ä–∏–æ–¥—ã)
- ‚úÖ **–ú–µ–Ω—å—à–µ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π** (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã = –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã)

### –ü–æ—Å–ª–µ –§–ê–ó–´ 2:
- ‚úÖ **+5-10% –±–æ–ª—å—à–µ RSI —Å–∏–≥–Ω–∞–ª–æ–≤**
- ‚úÖ **+5-10% —É–ª—É—á—à–µ–Ω–∏–µ TP/SL —Ä–∞—Å—á–µ—Ç–æ–≤**

### –ü–æ—Å–ª–µ –§–ê–ó–´ 3:
- ‚úÖ **+5-10% –±–æ–ª—å—à–µ MACD —Å–∏–≥–Ω–∞–ª–æ–≤**

### –û–ë–©–ò–ô –ü–†–û–ì–ù–û–ó:
- ‚úÖ **+80-150% –±–æ–ª—å—à–µ —Å–∏–≥–Ω–∞–ª–æ–≤** (–æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ BB –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–æ 70%)
- ‚úÖ **+30-50% —É–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–∏–≥–Ω–∞–ª–æ–≤**
- ‚úÖ **–ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**

---

## ‚ö†Ô∏è –†–ò–°–ö–ò

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ü–µ—Ä–µ—Å—á–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –º–æ–∂–µ—Ç –∑–∞–º–µ–¥–ª–∏—Ç—å —Ä–∞–±–æ—Ç—É
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –∫–ª—é—á—É (period, last_candle_time)
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–µ—Ä–∏–æ–¥ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –±–∞–∑–æ–≤–æ–≥–æ

2. **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: –ò–∑–º–µ–Ω–µ–Ω–∏—è –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –¢—â–∞—Ç–µ–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ (–§–∞–∑–∞ 1 ‚Üí –§–∞–∑–∞ 2 ‚Üí –§–∞–∑–∞ 3)

---

## ‚úÖ –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò (–¥–µ—Ç–∞–ª—å–Ω—ã–π)

### –®–ê–ì 1: EMA –ø–µ—Ä–∏–æ–¥—ã (–ö–†–ò–¢–ò–ß–ù–û)

1. –°–æ–∑–¥–∞—Ç—å –º–µ—Ç–æ–¥ `_calculate_regime_ema(symbol, period, market_data)`:
   ```python
   def _calculate_regime_ema(self, symbol: str, period: int, market_data: MarketData) -> float:
       """–ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å EMA —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –ø–µ—Ä–∏–æ–¥–æ–º"""
       # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å IndicatorCalculator –∏–ª–∏ –ø—Ä—è–º–æ–π —Ä–∞—Å—á–µ—Ç
       # –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
   ```

2. –í `_generate_ma_signals` –∑–∞–º–µ–Ω–∏—Ç—å:
   ```python
   # –ë–´–õ–û:
   ma_fast = indicators.get("ema_12", 0)
   ma_slow = indicators.get("ema_26", 0)
   
   # –°–¢–ê–ù–ï–¢:
   regime_params = self._get_regime_indicators_params(symbol=symbol)
   ema_fast_period = regime_params.get("ema_fast", 12)
   ema_slow_period = regime_params.get("ema_slow", 26)
   ma_fast = self._calculate_regime_ema(symbol, ema_fast_period, market_data)
   ma_slow = self._calculate_regime_ema(symbol, ema_slow_period, market_data)
   ```

3. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –≤ `_generate_rsi_signals`, `_generate_bollinger_signals`

### –®–ê–ì 2: Bollinger Bands (–ö–†–ò–¢–ò–ß–ù–û)

1. –í `_generate_bollinger_signals`:
   - –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∂–∏–º-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
   - –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å BB —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

### –®–ê–ì 3: ATR, RSI, MACD (–í–ê–ñ–ù–û)

1. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ EMA - –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–µ—Ä–∏–æ–¥–∞–º–∏

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ IndicatorCalculator:
- –í –∫–æ–¥–µ —É–∂–µ –µ—Å—Ç—å `IndicatorCalculator` —Å –º–µ—Ç–æ–¥–∞–º–∏ `calculate_ema`, `calculate_rsi`, etc.
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –¥–ª—è –ø–µ—Ä–µ—Å—á–µ—Ç–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –∫–ª—é—á—É: `(symbol, indicator_type, period, last_candle_timestamp)`
- TTL: –≤—Ä–µ–º—è –¥–æ —Å–ª–µ–¥—É—é—â–µ–π —Å–≤–µ—á–∏ (60 —Å–µ–∫—É–Ω–¥ –¥–ª—è 1m —Å–≤–µ—á–µ–π)

---

## ‚úÖ –ì–û–¢–û–í–ù–û–°–¢–¨ –ö –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–û–¢–û–í –ö –†–ï–ê–õ–ò–ó–ê–¶–ò–ò
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî• –ö–†–ò–¢–ò–ß–ù–û
**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê‚≠ê –°—Ä–µ–¥–Ω—è—è (–Ω—É–∂–Ω–∞ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ—Å—Ç—å)
**–í—Ä–µ–º—è**: 2-3 —á–∞—Å–∞ –Ω–∞ –§–∞–∑—É 1, –µ—â–µ 2-3 —á–∞—Å–∞ –Ω–∞ –§–∞–∑—ã 2-3

