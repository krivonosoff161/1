# üöÄ –ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ —Å —Ä–µ–∞–ª—å–Ω—ã–º Sandbox

**–î–∞—Ç–∞:** 2026-01-05  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É —Ç–µ—Å—Ç–æ–≤ —Å –†–ï–ê–õ–¨–ù–´–ú –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ sandbox –±–∏—Ä–∂–µ

---

## üìã –ü–û–î–ì–û–¢–û–í–ö–ê:

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```powershell
# Windows PowerShell
$env:OKX_API_KEY="your_sandbox_api_key_here"
$env:OKX_SECRET_KEY="your_sandbox_secret_key_here"
$env:OKX_PASSPHRASE="your_sandbox_passphrase_here"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
python -c "import os; print('API_KEY:', 'SET' if os.getenv('OKX_API_KEY') else 'NOT SET')"
```

---

## ‚úÖ –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–µ—Å—Ç—ã:

### 1. test_position_size_real_sandbox.py
**–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—É #2: –†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏**

**–¢–µ—Å—Ç—ã:**
- `test_full_chain_sandbox_client_to_risk_manager` - –í—Å—è —Ü–µ–ø–æ—á–∫–∞ sandbox ‚Üí RiskManager ‚Üí DataRegistry
- `test_full_chain_sandbox_instrument_details_to_conversion` - –í—Å—è —Ü–µ–ø–æ—á–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

**–ó–∞–ø—É—Å–∫:**
```bash
pytest tests/integration/test_position_size_real_sandbox.py -v -s
```

---

## üéØ –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:

### –ü–æ–ª–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ –ë–ï–ó –º–æ–∫–æ–≤:

1. **Sandbox API** ‚Üí –†–µ–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ –±–∏—Ä–∂–µ
2. **OKXFuturesClient** ‚Üí –†–µ–∞–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
3. **RiskManager** ‚Üí –†–µ–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞
4. **DataRegistry** ‚Üí –†–µ–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/—á—Ç–µ–Ω–∏–µ
5. **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è** ‚Üí –†–µ–∞–ª—å–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –º–æ–Ω–µ—Ç—ã ‚Üî –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **sandbox=True** (–±–µ–∑–æ–ø–∞—Å–Ω–æ)
- ‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç –í–°–Æ —Ü–µ–ø–æ—á–∫—É —Ä–∞–±–æ—Ç—ã
- ‚úÖ –î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞—é—Ç—Å—è —Å –†–ï–ê–õ–¨–ù–û–ô sandbox –±–∏—Ä–∂–∏
- ‚ö†Ô∏è –¢—Ä–µ–±—É—é—Ç—Å—è API –∫–ª—é—á–∏ –¥–ª—è sandbox
- ‚ö†Ô∏è –¢–µ—Å—Ç—ã –º–æ–≥—É—Ç –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å—Å—è –µ—Å–ª–∏ –Ω–µ—Ç –∫–ª—é—á–µ–π

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

- ‚úÖ –ó–∞–ø—Ä–æ—Å—ã –∫ sandbox API —É—Å–ø–µ—à–Ω—ã
- ‚úÖ –î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –†–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ –≤ –ú–û–ù–ï–¢–ê–• (–Ω–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞—Ö)
- ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –º–æ–Ω–µ—Ç—ã ‚Üí –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è
- ‚úÖ DataRegistry —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏ —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

## üîç –û—Ç–ª–∞–¥–∫–∞:

–ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è:

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ API –∫–ª—é—á–∏ –≤–∞–ª–∏–¥–Ω—ã –¥–ª—è sandbox
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ sandbox –¥–æ—Å—Ç—É–ø–µ–Ω
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å `-v -s` –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞
